{"pages":[],"posts":[{"title":"å†™ç»™è‡ªå·±çœ‹çš„react-native-pushyä½¿ç”¨ç¬”è®°","text":"æœ¬æ–‡æ˜¯æ ¹æ®react-native-pushyæ–‡æ¡£ï¼Œä½¿ç”¨åçš„ä¸€äº›ç¬”è®°æ•´ç† ç¯å¢ƒé…ç½®ç¯å¢ƒé…ç½® ç¯å¢ƒï¼šReact Native ç‰ˆæœ¬0.58ï¼Œreact-native-update ç‰ˆæœ¬5.1.8 æ‰‹æœºç³»ç»Ÿï¼šAndroid å®‰è£…123npm i -g react-native-update-clinpm i react-native-updatereact-native link react-native-update ç„¶ååœ¨ç›®å½•android\\app\\src\\main\\java\\app\\ytd\\dg\\MainApplication.javaä¸­ï¼Œæ·»åŠ ä»£ç ï¼š 12345678910111213141516// ... å…¶å®ƒä»£ç // æ·»åŠ è¿™ä¸ªimportimport cn.reactnative.modules.update.UpdateContext;public class MainApplication extends Application implements ReactApplication { private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) { // æ·»åŠ ä¸‹é¢è¿™æ®µ @Override protected String getJSBundleFile() { return UpdateContext.getBundleUrl(MainApplication.this); } // ... å…¶å®ƒä»£ç  }} é…ç½®åœ¨reactnativeåˆ›å»ºä¸€ä¸ªè´¦å·ã€‚ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œï¼š 123pushy loginemail: &lt;è¾“å…¥ä½ çš„æ³¨å†Œé‚®ç®±&gt;password: &lt;è¾“å…¥ä½ çš„å¯†ç &gt; è¿™ä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª.updateæ–‡ä»¶ï¼Œæ³¨æ„ä¸è¦æŠŠè¿™ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°Gitç­‰CVSç³»ç»Ÿä¸Šã€‚ä½ å¯ä»¥åœ¨.gitignoreæœ«å°¾å¢åŠ ä¸€è¡Œ.updateæ¥å¿½ç•¥è¿™ä¸ªæ–‡ä»¶ã€‚ ç„¶ååˆ›å»ºä¸€ä¸ªæˆ‘ä»¬çš„åº”ç”¨ï¼ˆä¹Ÿå¯ä»¥åœ¨ç½‘é¡µä¸Šåˆ›å»ºï¼‰ï¼š 12pushy createApp --platform androidApp Name: &lt;è¾“å…¥åº”ç”¨åå­—&gt; å¦‚æœæ˜¯åœ¨ç½‘é¡µä¸Šåˆ›å»ºçš„ï¼Œå°±æ‰§è¡Œé€‰æ‹©APPçš„å‘½ä»¤ï¼š 123456pushy selectApp --platform android1) App Name 12) App Name 2Total 2 android appsEnter appId: &lt;è¾“å…¥)å‰é¢çš„ç¼–å·&gt; æ‰§è¡Œå®Œä¸Šé¢çš„åˆ›å»ºæˆ–è€…é€‰æ‹©APPçš„æ“ä½œä»¥åï¼Œä½ å¯ä»¥åœ¨æ ¹ç›®å½•çœ‹åˆ°ä¸€ä¸ªæ–°æ–‡ä»¶update.jsonï¼Œå®ƒä¸åŒ…å«ä»»ä½•æ•æ„Ÿä¿¡æ¯ã€‚ æ·»åŠ çƒ­æ›´æ–°åŠŸèƒ½æ·»åŠ çƒ­æ›´æ–°åŠŸèƒ½å®Œæ•´ä»£ç ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import React, { Component,} from 'react';import { StyleSheet, Platform, Text, View, Alert, TouchableOpacity, Linking,} from 'react-native';import { isFirstTime, isRolledBack, packageVersion, currentVersion, checkUpdate, downloadUpdate, switchVersion, switchVersionLater, markSuccess,} from 'react-native-update';import _updateConfig from './update.json';const {appKey} = _updateConfig[Platform.OS];class MyProject extends Component { componentWillMount(){ if (isFirstTime) { Alert.alert('æç¤º', 'è¿™æ˜¯å½“å‰ç‰ˆæœ¬ç¬¬ä¸€æ¬¡å¯åŠ¨,æ˜¯å¦è¦æ¨¡æ‹Ÿå¯åŠ¨å¤±è´¥?å¤±è´¥å°†å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬', [ {text: 'æ˜¯', onPress: ()=&gt;{throw new Error('æ¨¡æ‹Ÿå¯åŠ¨å¤±è´¥,è¯·é‡å¯åº”ç”¨')}}, {text: 'å¦', onPress: ()=&gt;{markSuccess()}}, ]); } else if (isRolledBack) { Alert.alert('æç¤º', 'åˆšåˆšæ›´æ–°å¤±è´¥äº†,ç‰ˆæœ¬è¢«å›æ»š.'); } } doUpdate = info =&gt; { downloadUpdate(info).then(hash =&gt; { Alert.alert('æç¤º', 'ä¸‹è½½å®Œæ¯•,æ˜¯å¦é‡å¯åº”ç”¨?', [ {text: 'æ˜¯', onPress: ()=&gt;{switchVersion(hash);}}, {text: 'å¦',}, {text: 'ä¸‹æ¬¡å¯åŠ¨æ—¶', onPress: ()=&gt;{switchVersionLater(hash);}}, ]); }).catch(err =&gt; { Alert.alert('æç¤º', 'æ›´æ–°å¤±è´¥.'); }); }; checkUpdate = () =&gt; { checkUpdate(appKey).then(info =&gt; { if (info.expired) { Alert.alert('æç¤º', 'æ‚¨çš„åº”ç”¨ç‰ˆæœ¬å·²æ›´æ–°,è¯·å‰å¾€åº”ç”¨å•†åº—ä¸‹è½½æ–°çš„ç‰ˆæœ¬', [ {text: 'ç¡®å®š', onPress: ()=&gt;{info.downloadUrl &amp;&amp; Linking.openURL(info.downloadUrl)}}, ]); } else if (info.upToDate) { Alert.alert('æç¤º', 'æ‚¨çš„åº”ç”¨ç‰ˆæœ¬å·²æ˜¯æœ€æ–°.'); } else { Alert.alert('æç¤º', 'æ£€æŸ¥åˆ°æ–°çš„ç‰ˆæœ¬'+info.name+',æ˜¯å¦ä¸‹è½½?\\n'+ info.description, [ {text: 'æ˜¯', onPress: ()=&gt;{this.doUpdate(info)}}, {text: 'å¦',}, ]); } }).catch(err =&gt; { Alert.alert('æç¤º', 'æ›´æ–°å¤±è´¥.'); }); }; render() { return ( &lt;View style={styles.container}&gt; &lt;Text style={styles.welcome}&gt; æ¬¢è¿ä½¿ç”¨çƒ­æ›´æ–°æœåŠ¡ &lt;/Text&gt; &lt;Text style={styles.instructions}&gt; è¿™æ˜¯ç‰ˆæœ¬ä¸€ {'\\n'} å½“å‰åŒ…ç‰ˆæœ¬å·: {packageVersion}{'\\n'} å½“å‰ç‰ˆæœ¬Hash: {currentVersion||'(ç©º)'}{'\\n'} &lt;/Text&gt; &lt;TouchableOpacity onPress={this.checkUpdate}&gt; &lt;Text style={styles.instructions}&gt; ç‚¹å‡»è¿™é‡Œæ£€æŸ¥æ›´æ–° &lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); }}const styles = StyleSheet.create({ container: { flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: '#F5FCFF', }, welcome: { fontSize: 20, textAlign: 'center', margin: 10, }, instructions: { textAlign: 'center', color: '#333333', marginBottom: 5, },}); å‘å¸ƒå®‰å“åº”ç”¨å‘å¸ƒå®‰å“åº”ç”¨ è¿™é‡Œå‘å¸ƒçš„åŒ…æ–‡ä»¶ï¼Œæ˜¯ä¸Šä¼ åˆ°åº”ç”¨å•†åº—çš„åŸºç¡€ç‰ˆæœ¬ï¼Œæ— æ³•é€šè¿‡çƒ­æ›´æ–°æ¥è·å¾— 123456789101112// 1. è¿›å…¥androidç›®å½•`cd android`// 2. ç”ŸæˆAPK`./gradlew assembleRelease`// 3. è¿”å›æ ¹ç›®å½•`cd ..`// 4. å°†ç”Ÿæˆçš„APKå‘å¸ƒåˆ°PushyæœåŠ¡å™¨ä¸Š`pushy uploadApk android/app/build/outputs/apk/release/app-release.apk` å‘å¸ƒæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬å‘å¸ƒæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬ è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ ä¿®æ”¹ä½ çš„ä¸šåŠ¡ä»£ç  pushy bundle --platform android, ä¹‹åè¾“å…¥Yç«‹å³å‘å¸ƒï¼ˆæ­¤è¿‡ç¨‹æ˜¯ç”Ÿæˆæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬ï¼‰ 123version name çƒ­æ›´æ–°ç‰ˆæœ¬å·, è¯·éµå¾ªç‰ˆæœ¬è§„èŒƒdescription, æè¿°æ›´æ–°å†…å®¹ï¼Œä¼šå±•ç¤ºç»™ç”¨æˆ·ï¼Œä¸æ”¯æŒ`\\n`æ¢è¡Œmeta info, ä¼ è¾“çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚`{'ok': 1}`ï¼ˆJSONçš„keyå¿…é¡»å¸¦å¼•å·ï¼‰ æ­¤æ—¶ç‰ˆæœ¬å·²ç»æäº¤åˆ°updateæœåŠ¡ï¼Œä½†ç”¨æˆ·æš‚æ—¶çœ‹ä¸åˆ°æ­¤æ›´æ–°ï¼Œä½ è¿˜éœ€è¦å°†æ­¤æ­¤çƒ­æ›´æ–°ç‰ˆæœ¬ç»‘å®šåˆ°æŒ‡å®šçš„åŒ…ç‰ˆæœ¬ä¸Šã€‚æœ‰3ç§æ–¹æ³•ï¼š è¾“å…¥Yç«‹å³ç»‘å®š æˆ–è€…ä»¥åpushy update --platform androidæ¥è®©å¯¹åº”åŒ…ç‰ˆæœ¬ç”¨æˆ·å¾—ä»¥æ›´æ–° è¾“å…¥Yæˆ–è€…ä¸Šè¿°å‘½ä»¤ä»¥åï¼Œä¼šè®©ä½ å†è¾“å…¥çƒ­æ›´æ–°ç‰ˆæœ¬å·versionIdï¼Œå°±æ˜¯)å‰é¢çš„æ•°å­— ï¼ˆå¯ä»¥ä½¿ç”¨Uä¸Šä¸€é¡µï¼ŒDä¸‹ä¸€é¡µï¼ŒBå›åˆ°å¼€å§‹ï¼‰ è¾“å…¥å®ŒversionIdä»¥åï¼Œä¼šè®©ä½ è¾“å…¥åŒ…ç‰ˆæœ¬å·packageIdï¼Œå°±æ˜¯U/D/Bæç¤ºä¸‹é¢çš„åˆ—è¡¨å‰çš„æ•°å­— è¿˜å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µç«¯æ‹–æ‹½æ“ä½œ","link":"/2019/06/21/å†™ç»™è‡ªå·±çœ‹çš„react-native-pushyä½¿ç”¨ç¬”è®°/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„ReactHookç¬”è®°","text":"Hookæ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ Hookç®€ä»‹ä»€ä¹ˆæ˜¯HookHookæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ â€œé’©å…¥â€ React çš„ç‰¹æ€§ã€‚ ä»€ä¹ˆæ—¶å€™æˆ‘ä¼šç”¨Hookå¦‚æœä½ åœ¨ç¼–å†™å‡½æ•°ç»„ä»¶å¹¶æ„è¯†åˆ°éœ€è¦å‘å…¶æ·»åŠ ä¸€äº› stateï¼Œä»¥å‰çš„åšæ³•æ˜¯å¿…é¡»å°†å…¶å®ƒè½¬åŒ–ä¸º classã€‚ç°åœ¨ä½ å¯ä»¥åœ¨ç°æœ‰çš„å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ Hookã€‚ ä¸ºä»€ä¹ˆä»¥useå¼€å¤´ä½ å¯èƒ½æƒ³çŸ¥é“ï¼šä¸ºä»€ä¹ˆå« useState è€Œä¸å« createState? â€œCreateâ€ å¯èƒ½ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œå› ä¸º state åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™è¢«åˆ›å»ºã€‚åœ¨ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“æ—¶ï¼ŒuseState è¿”å›ç»™æˆ‘ä»¬å½“å‰çš„ stateã€‚å¦åˆ™å®ƒå°±ä¸æ˜¯ â€œstateâ€äº†ï¼è¿™ä¹Ÿæ˜¯Hookçš„åå­—æ€»æ˜¯ä»¥ use å¼€å¤´çš„ä¸€ä¸ªåŸå› ã€‚ ä½¿ç”¨State Hookåœ¨State Hookä¸­æˆ‘ä»¬ä¼šç”¨åˆ°useStateï¼Œå®ƒæ˜¯å…è®¸ä½ åœ¨ React å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  state çš„Hook ç­‰ä»·ä»£ç åœ¨è¿™é‡Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ä¾‹å­ï¼Œä»¥å‰classçš„å†™æ³•ï¼š 12345678910111213141516171819class Example extends React.Component { constructor(props) { super(props); this.state = { count: 0 }; } render() { return ( &lt;div&gt; &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt; &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); }} ç°åœ¨Hookçš„å†™æ³•ï¼š 1234567891011121314151617// 1.å¼•å…¥useState Hookimport React, { useState } from 'react';function Example() { // 2.å£°æ˜ä¸€ä¸ªå«\"count\"çš„stateå˜é‡ï¼Œå’Œå¯ä»¥æ›´æ–°å®ƒçš„å‡½æ•°\"setCount\" const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; // 3.ç‚¹å‡»åï¼Œæ›´æ–°\"count\"çš„å€¼ï¼Œé‡æ–°æ¸²æŸ“\"Example\"ç»„ä»¶ï¼Œå¹¶ä¼ å…¥æ›´æ–°åçš„\"count\" &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; );} åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸å†é€šè¿‡this.stateæ¥è¯»å–å±æ€§ï¼Œè€Œæ˜¯é€šè¿‡useStateè°ƒç”¨ã€‚ useStateåœ¨è°ƒç”¨æ—¶åšäº†ä»€ä¹ˆ å®ƒå®šä¹‰ä¸€ä¸ª â€œstate å˜é‡â€ã€‚ è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬çš„å˜é‡å« countï¼Œ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å«ä»–ä»»ä½•åå­—ï¼Œæ¯”å¦‚ bananaã€‚ è¿™æ˜¯ä¸€ç§åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¿å­˜å˜é‡çš„æ–¹å¼ â€”â€” useStateæ˜¯ä¸€ç§æ–°æ–¹æ³•ï¼Œå®ƒä¸ class é‡Œé¢çš„ this.state æä¾›çš„åŠŸèƒ½å®Œå…¨ç›¸åŒã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å‡½æ•°é€€å‡ºåå˜é‡å°±å°±ä¼šâ€æ¶ˆå¤±â€ï¼Œè€Œ state ä¸­çš„å˜é‡ä¼šè¢« React ä¿ç•™ã€‚ useStateçš„è¿”å›å€¼æ˜¯ä»€ä¹ˆè¿”å›å€¼ä¸ºï¼šâ‘ å½“å‰ stateï¼Œâ‘¡æ›´æ–° state æ‰€è°ƒç”¨çš„å‡½æ•°ã€‚ const [count, setCount] = useState(0); æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå« count çš„ state å˜é‡ï¼Œç„¶åæŠŠå®ƒè®¾ä¸º 0ã€‚React ä¼šåœ¨é‡å¤æ¸²æŸ“æ—¶è®°ä½å®ƒå½“å‰çš„å€¼ï¼Œå¹¶ä¸”æä¾›æœ€æ–°çš„å€¼ç»™æˆ‘ä»¬çš„å‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ setCount æ¥æ›´æ–°å½“å‰çš„ countã€‚ è¯»å–Stateåœ¨å‡½æ•°å†™æ³•ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨countï¼š 1&lt;p&gt;You clicked {count} times&lt;/p&gt; ä»¥å‰çš„classå†™æ³•ä¸­ï¼Œæ˜¯this.state.count æ›´æ–°Stateåœ¨å‡½æ•°å†™æ³•ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨åœ¨useStateæ—¶è¿”å›çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ¥æ›´æ–°æ•°æ®ã€‚ åœ¨æœ¬ä¾‹å­ä¸­ï¼Œå³setCountï¼š 123&lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me&lt;/button&gt; ä»¥å‰çš„classå†™æ³•ä¸­ï¼Œæ˜¯this.setState({count: this.state.count + 1}) ä½¿ç”¨å¤šä¸ªstateå˜é‡12345function ExampleWithManyStates() { // å£°æ˜å¤šä¸ª state å˜é‡ const [age, setAge] = useState(42); const [fruit, setFruit] = useState('banana'); const [todos, setTodos] = useState([{ text: 'å­¦ä¹  Hook' }]); ä½¿ç”¨Effect Hookä½¿ç”¨Effect Hookçš„ä¸€ä¸ªä¸»è¦ç›®çš„æ˜¯è§£å†³classä¸­åŒä¸€ç”Ÿå‘½å‘¨æœŸç»å¸¸åŒ…å«ä¸ç›¸å…³çš„é€»è¾‘ï¼Œä½†åˆæŠŠç›¸å…³çš„é€»è¾‘åˆ†ç¦»åˆ°äº†å‡ ä¸ªä¸åŒæ–¹æ³•ä¸­çš„é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯Effect HookuseEffect ç›¸å½“äºcomponentDidMountï¼ŒcomponentDidUpdateï¼ŒcomponentWillUnmount è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ 123456789101112131415161718192021222324import React, { useState, useEffect } from 'react';function Example() { const [count, setCount] = useState(0); useEffect(() =&gt; { // è®¢é˜… document.title = `You clicked ${count} times`; // æ¸…é™¤ï¼ˆå¯é€‰ï¼‰ return () =&gt; { // do something cleanup } }); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; );} åœ¨ä»¥å‰classå†™æ³•ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶åŠ è½½å’Œæ›´æ–°æ—¶éƒ½è°ƒç”¨åŒæ ·çš„æ–¹æ³•ï¼Œå°±éœ€è¦åœ¨componentDidMountå’ŒcomponentDidUpdateå†™é‡å¤çš„ä»£ç ã€‚ ä½¿ç”¨useEffectï¼Œreactä¼šä¿å­˜ä½ ä¼ é€’çš„å‡½æ•°ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€™effectâ€™ï¼‰ï¼Œå¹¶ä¸”åœ¨DOMæ›´æ–°ä¹‹åè°ƒç”¨å®ƒã€‚å‡å°‘äº†é‡å¤ä»£ç ã€‚useEffectè°ƒç”¨effectä¸ä¼šé˜»å¡æµè§ˆå™¨åˆ·æ–°å±å¹•ï¼Œè¿™è®©ä½ çš„åº”ç”¨å“åº”æ›´å¿«ã€‚ï¼ˆå¦‚æœéœ€è¦åŒæ­¥åœ°æ‰§è¡Œï¼Œå¦‚ç€‘å¸ƒæµï¼Œä½¿ç”¨useLayoutEffect Hookï¼‰ Hookä½¿ç”¨çš„JSçš„é—­åŒ…æœºåˆ¶ï¼šuseEffectæ”¾åœ¨ç»„ä»¶å†…éƒ¨è®©æˆ‘ä»¬å¯ä»¥åœ¨effectä¸­ç›´æ¥è®¿é—®count stateå˜é‡ï¼ˆæˆ–å…¶ä»–propsï¼‰ï¼Œå®ƒå·²ç»ä¿å­˜åœ¨äº†å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œè€Œä¸éœ€è¦å…¶ä»–APIã€‚ åŒºåˆ«äºvue Hookï¼ŒuseEffectåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚ æ¸…é™¤Effectåœ¨classå†™æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨ componentDidMountä¸­è®¢é˜…ï¼Œåœ¨componentWillUnmountä¸­æ¸…é™¤ã€‚ ä½¿ç”¨useEffectï¼Œåœ¨å°¾éƒ¨è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ï¼Œreactå°±ä¼šåœ¨ç»„ä»¶å¸è½½æ—¶æ‰§è¡Œæ¸…é™¤æ“ä½œæ¥è°ƒç”¨å®ƒã€‚è¿™æ ·è®¢é˜…å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘éƒ½æ”¾åœ¨äº†ä¸€èµ·ã€‚ å¦å¤–ï¼Œè¿”å›çš„æ¸…é™¤å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°è€Œä¸éœ€è¦å‘½åã€‚ ä½¿ç”¨å¤šä¸ªEffectåˆ†ç¦»é€»è¾‘å°±åƒä½ å¯ä»¥ä½¿ç”¨å¤šä¸ªstateçš„Hookï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªeffectæ¥å°†ä¸åŒçš„é€»è¾‘åˆ†ç¦»ã€‚Hookå…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»ä»–ä»¬ï¼Œ è€Œä¸æ˜¯åƒç”Ÿå‘½å‘¨æœŸå‡½æ•°é‚£æ ·ã€‚React å°†æŒ‰ç…§ effect å£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ª effectï¼ˆvue Hookæ˜¯æ²¡æœ‰é¡ºåºçš„ï¼‰ã€‚ ä¸ºä»€ä¹ˆæ¯æ¬¡æ›´æ–°çš„æ—¶å€™éƒ½è¦è¿è¡ŒEffectä¾‹å¦‚ä¸€ä¸ªå¥½å‹åœ¨çº¿çŠ¶æ€çš„å±•ç¤ºï¼Œå¦‚æœæ˜¯classå†™æ³•ï¼Œæˆ‘ä»¬ä»propsä¸­è·å–friend.idï¼Œç„¶ååœ¨componentDidMountè®¢é˜…å’ŒcomponentWillUnmountæ¸…é™¤è®¢é˜…ï¼Œä½†æ˜¯å½“ç»„ä»¶å·²ç»æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œfriend.idæ”¹å˜å¯¼è‡´BUGï¼Œç»„ä»¶å°†ç»§ç»­å±•ç¤ºåŸæ¥çš„å¥½å‹çŠ¶æ€ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜ä¼šå› ä¸ºå–æ¶ˆè®¢é˜…æ—¶ä½¿ç”¨é”™è¯¯çš„å¥½å‹ ID å¯¼è‡´å†…å­˜æ³„éœ²æˆ–å´©æºƒçš„é—®é¢˜ã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨componentDidUpdateæ¥è§£å†³é—®é¢˜ï¼Œå¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627componentDidMount() { ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange );}// æ·»åŠ è¿™é‡Œçš„ä»£ç è§£å†³BUGcomponentDidUpdate(prevProps) { // å–æ¶ˆè®¢é˜…ä¹‹å‰çš„ friend.id ChatAPI.unsubscribeFromFriendStatus( prevProps.friend.id, this.handleStatusChange ); // è®¢é˜…æ–°çš„ friend.id ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange );}componentWillUnmount() { ChatAPI.unsubscribeFromFriendStatus( this.props.friend.id, this.handleStatusChange );} ä½¿ç”¨Hookç‰ˆæœ¬ï¼š 123456789function FriendStatus(props) { // ... useEffect(() =&gt; { // ... ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); return () =&gt; { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); æ²¡æœ‰æ·»åŠ ä»»ä½•é¢å¤–çš„é€»è¾‘æ”¹åŠ¨ï¼Œå´å¯ä»¥ä¸å—æ­¤BUGå½±å“ã€‚å› ä¸ºé»˜è®¤åœ¨è°ƒç”¨ä¸€ä¸ªæ–°çš„effectä¹‹å‰ä¼šå¯¹å‰ä¸€ä¸ªeffectè¿›è¡Œæ¸…ç†ã€‚ è·³è¿‡ Effect è¿›è¡Œæ€§èƒ½ä¼˜åŒ–åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œæˆ–æ¸…ç†effectä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ åœ¨classå†™æ³•ä¸­ï¼Œé€šè¿‡componentDidUpdateè§£å†³ï¼š 123456// åˆ¤æ–­æ˜¯å¦æ›´æ–°äº†componentDidUpdate(prevProps, prevState) { if (prevState.count !== this.state.count) { document.title = `You clicked ${this.state.count} times`; }} åœ¨Hookä¸­ï¼Œä¼ é€’æ•°ç»„ä½œä¸ºuseEffectçš„ç¬¬äºŒä¸ªå‚æ•°å³å¯ï¼š 123useEffect(() =&gt; { document.title = `You clicked ${count} times`;}, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–° å¯¹äºæ¸…é™¤effectåŒæ ·é€‚ç”¨ï¼š 12345678910useEffect(() =&gt; { function handleStatusChange(status) { setIsOnline(status.isOnline); } ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); return () =&gt; { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); };}, [props.friend.id]); // ä»…åœ¨ props.friend.id å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°è®¢é˜… Hookè§„åˆ™åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨Hook ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶ï¼ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hook å¦‚æœæƒ³è¦æœ‰æ¡ä»¶çš„æ‰§è¡Œä¸€ä¸ªeffectï¼Œå¯ä»¥åœ¨Hookå†…éƒ¨åˆ¤æ–­ 123456useEffect(function persistForm() { // ğŸ‘ å°†æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ effect ä¸­ if (name !== '') { localStorage.setItem('formData', name); }}); ç¡®ä¿æ€»åœ¨Reactå‡½æ•°æœ€é¡¶å±‚è°ƒç”¨Hook ç¡®ä¿HookæŒ‰ç…§é¡ºåºæ‰§è¡Œ ä¸è¦åœ¨æ™®é€šJavaScriptå‡½æ•°ä¸­è°ƒç”¨Hook Hookåœ¨classå†…éƒ¨æ˜¯ä¸èµ·ä½œç”¨çš„ ESLintæ’ä»¶eslint-plugin-react-hooksæ’ä»¶å¯ä»¥å¼ºåˆ¶Hookåªåœ¨Reactå‡½æ•°ä¸­è€ŒéJså‡½æ•°ä¸­è°ƒç”¨ï¼ˆä¹‹åå¯èƒ½å¹¶å…¥create react appï¼‰ npm install eslint-plugin-react-hooks --save-dev 123456789101112// ä½ çš„ ESLint é…ç½®{ \"plugins\": [ // ... \"react-hooks\" ], \"rules\": { // ... \"react-hooks/rules-of-hooks\": \"error\", // æ£€æŸ¥ Hook çš„è§„åˆ™ \"react-hooks/exhaustive-deps\": \"warn\" // æ£€æŸ¥ effect çš„ä¾èµ– }} æŒ‰é¡ºåºæ‰§è¡Œçš„Hookåœ¨å•ä¸ªç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨å¤šä¸ªState Hookæˆ–Effect Hookï¼Œå› ä¸ºHookå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥Reactæ‰èƒ½çŸ¥é“stateä¸å“ªä¸€ä¸ªuseStateå¯¹åº”ã€‚ 12345678910111213141516171819function Form() { // 1. Use the name state variable const [name, setName] = useState('Mary'); // 2. Use an effect for persisting the form useEffect(function persistForm() { localStorage.setItem('formData', name); }); // 3. Use the surname state variable const [surname, setSurname] = useState('Poppins'); // 4. Use an effect for updating the title useEffect(function updateTitle() { document.title = name + ' ' + surname; }); // ...} ä¸Šè¿°ä»£ç çš„å·¥ä½œå¦‚ä¸‹ï¼š 1234567891011121314151617// ------------// é¦–æ¬¡æ¸²æŸ“// ------------useState('Mary') // 1. ä½¿ç”¨ 'Mary' åˆå§‹åŒ–å˜é‡åä¸º name çš„ stateuseEffect(persistForm) // 2. æ·»åŠ  effect ä»¥ä¿å­˜ form æ“ä½œuseState('Poppins') // 3. ä½¿ç”¨ 'Poppins' åˆå§‹åŒ–å˜é‡åä¸º surname çš„ stateuseEffect(updateTitle) // 4. æ·»åŠ  effect ä»¥æ›´æ–°æ ‡é¢˜// -------------// äºŒæ¬¡æ¸²æŸ“// -------------useState('Mary') // 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(persistForm) // 2. æ›¿æ¢ä¿å­˜ form çš„ effectuseState('Poppins') // 3. è¯»å–å˜é‡åä¸º surname çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(updateTitle) // 4. æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect// ... è‡ªå®šä¹‰Hook è‡ªå®šä¹‰Hookè§£å†³äº†ä»¥å‰åœ¨ React ç»„ä»¶ä¸­æ— æ³•çµæ´»å…±äº«é€»è¾‘çš„é—®é¢˜ã€‚ è‡ªå®šä¹‰Hookå¿…é¡»ä»¥ â€œuseâ€ å¼€å¤´ï¼Œå¿…é¡»éµå®ˆHookçš„è§„åˆ™ã€‚ ç°åœ¨æœ‰3ç§æ–¹å¼æ¥å…±äº«ç»„ä»¶ä¹‹é—´çš„çŠ¶æ€é€»è¾‘ï¼š render props é«˜é˜¶ç»„ä»¶ è‡ªå®šä¹‰Hook ç®€å•çš„useReducerHook12345678910function useReducer(reducer, initialState) { const [state, setState] = useState(initialState); function dispatch(action) { const nextState = reducer(state, action); setState(nextState); } return [state, dispatch];} åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š 12345678910function Todos() { //ä½¿ç”¨useReducerç®¡ç†state const [todos, dispatch] = useReducer(todosReducer, []); function handleAddClick(text) { dispatch({ type: 'add', text }); } // ...}","link":"/2019/06/20/å†™ç»™è‡ªå·±çœ‹çš„ReactHookç¬”è®°/"},{"title":"react-native-file-selectorå®‰è£…é‡åˆ°çš„é—®é¢˜","text":"åœ¨å®‰è£…react-native-file-selectoræ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç‰¹æ­¤è®°å½• æ­¥éª¤ å®‰è£…npm install react-native-file-selector --saveï¼Œä¹‹ååƒä¸‡ä¸è¦linkï¼Œä¸ç„¶ä¼šå‡ºé”™ï¼ åœ¨android\\settings.gradleæ·»åŠ  12include ':react-native-file-selector'project(':react-native-file-selector').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-file-selector/android') åœ¨android\\build.gradleæ·»åŠ  1maven { url \"http://dl.bintray.com/lukaville/maven\" } åœ¨android\\app\\build.gradleä¸­æ·»åŠ  1implementation project(':react-native-file-selector') åœ¨MainApplication.javaä¸­å¼•ç”¨jaråŒ… 1import ui.fileselector.RNFileSelectorPackage; åœ¨ä¸‹é¢çš„getPackages()ä¸­ä½¿ç”¨ 1new RNFileSelectorPackage(), æ–°å¢ä¸»é¢˜æ–‡ä»¶android/app/src/main/res/values/colors.xmlï¼Œå¯ä»¥è‡ªå®šä¹‰ 12345 &lt;resources&gt; &lt;color name=\"colorPrimary\"&gt;#3F51B5&lt;/color&gt; &lt;color name=\"colorPrimaryDark\"&gt;#303F9F&lt;/color&gt; &lt;color name=\"colorAccent\"&gt;#FF4081&lt;/color&gt;&lt;/resources&gt; åœ¨android\\app\\src\\main\\AndroidManifest.xmlæ·»åŠ æƒé™ 1&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt; åˆ°è¿™é‡Œç®—æ˜¯å®Œæˆäº†è‡ªåŠ¨linkçš„æ­¥éª¤ï¼Œä½†æ˜¯è¿˜æœ‰bugï¼ï¼ï¼é”™è¯¯æç¤ºï¼š 1Android dependency 'com.android.support:support-v4' has different version for the compile (27.0.2) and runtime (28.0.0) classpath. You should manually set the same version via DependencyResolution è§£å†³åŠæ³•ï¼Œä¿®æ”¹æˆ‘ä»¬ç¬¬4æ­¥ä¸ºï¼š 123implementation (project(':react-native-file-selector')) { exclude group: 'com.android.support' } è‡³æ­¤ï¼Œç»“æŸï¼","link":"/2019/06/24/react-native-file-selectorå®‰è£…é‡åˆ°çš„é—®é¢˜/"},{"title":"å¦‚ä½•åœ¨å¾ªç¯ä¸­ä½¿ç”¨await","text":"æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨å¾ªç¯ä¸­ç­‰å¾…ä¸Šä¸€æ¬¡ç»“æŸå†è¿›è¡Œä¸‹ä¸€æ¬¡çš„æ“ä½œï¼Œå¦‚æœç›´æ¥åœ¨forEachä½¿ç”¨awaitæ˜¯æ²¡æœ‰ä½œç”¨çš„ï¼Œå› ä¸ºforEach åªæ˜¯ç®€å•çš„æ‰§è¡Œäº†ä¸‹å›è°ƒå‡½æ•°è€Œå·²ï¼Œå¹¶ä¸ä¼šå»å¤„ç†å¼‚æ­¥çš„æƒ…å†µã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨forå¾ªç¯æ¥å®ç°æƒ³è¦çš„æ•ˆæœã€‚ for12345678910111213141516171819async function fn() { let arr = [1,2,3]; console.log('start') for (const item of arr) { const res = await fetch(item) console.log(res) } console.log('end')}function fetch(i) { return new Promise ((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(i) }, 500 * i); })}fn(); for of12345678910111213141516171819async function fn() { let arr = [1,2,3] console.log('start') for (let item of arr) { const res = await fetch(item) console.log(res) } console.log('end')}function fetch(i) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(i) }, 500 * i); })}fn(); æ€ä¹ˆè®©forEachæ”¯æŒawaitforEachç®€å•çš„åŸç†å°±æ˜¯ï¼š 123while (index &lt; arr.length) { callback(item, index) //ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å›è°ƒå‡½æ•°} æ„é€ ä¸€ä¸ªæ”¯æŒawaitçš„forEachï¼š 1234567891011121314151617Array.prototype.myforeach = async function (fn, context = null) { let index = 0; let arr = this; if (typeof fn !== 'function') { throw new TypeError(fn + ' is not a function'); } while (index &lt; arr.length) { if (index in arr) { try { await fn.call(context, arr[index], index, arr); } catch (e) { console.log(e); } } index ++; }};","link":"/2019/07/01/å¦‚ä½•åœ¨å¾ªç¯ä¸­ä½¿ç”¨await/"},{"title":"ReactNativeé›†æˆTypeScript","text":"åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨TypeScriptï¼Œä¹‹åé›†æˆTSçš„ç¬”è®° å®‰è£…npm i --dev typescript react-native-typescript-transformer åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶rn-cli.config.js 12345678module.exports = { getTransformModulePath() { return require.resolve(&apos;react-native-typescript-transformer&apos;) }, getSourceExts() { return [&apos;ts&apos;, &apos;tsx&apos;]; }} åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶tsconfig.json 123456789{ &quot;compilerOptions&quot;: { &quot;target&quot;: &quot;es2015&quot;, &quot;module&quot;: &quot;es2015&quot;, &quot;jsx&quot;: &quot;react-native&quot;, &quot;moduleResolution&quot;: &quot;node&quot;, &quot;allowSyntheticDefaultImports&quot;: true }} ä¿®æ”¹App.jså’Œ__tests__/App.jsæ–‡ä»¶åä¸ºApp.tsxï¼Œå¹¶ä¸”ä¿®æ”¹æ–‡ä»¶ç¬¬ä¸€è¡Œçš„å¼•å…¥ï¼š 12345// å°†ï¼š-import React, { Component } from &apos;react&apos;;// ä¿®æ”¹ä¸ºï¼š+import React from &apos;react&apos;+import { Component } from &apos;react&apos;; æ·»åŠ ç±»å‹å£°æ˜ä¾èµ–npm i --dev @types/react @types/react-native è‡³æ­¤ï¼Œç»“æŸï¼","link":"/2019/06/26/ReactNativeé›†æˆTypeScript/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„Reactç¬”è®°","text":"ä¸€äº›ReactçŸ¥è¯†ç‚¹çš„æ€»ç»“ ä¿®æ”¹objectä¸­æŸé¡¹123this.setState({object: {...object, key: value}}) ç»„ä»¶é€šä¿¡çˆ¶å­ç»„ä»¶é€šä¿¡ åœ¨å­ç»„ä»¶ä¸Šæ·»åŠ ï¼š 1ref={'xxx'} çˆ¶ç»„ä»¶é€šè¿‡ä¸‹åˆ—ä»£ç è°ƒç”¨ï¼š 1this.refs['xxx'].someMethod(); å­çˆ¶ç»„ä»¶é€šä¿¡ åœ¨çˆ¶ç»„ä»¶è°ƒç”¨çš„å­ç»„ä»¶çš„åœ°æ–¹æ·»åŠ ï¼š 123456789101112131415function Parent () { someMethod() { //Todo... } render { return ( &lt;View&gt; &lt;Children xxx={this.someMethod.bind(this [,...args])} /&gt; &lt;/View&gt; ) }} åœ¨å­ç»„ä»¶ä¸­é€šè¿‡ä¸‹åˆ—ä»£ç è°ƒç”¨ï¼š 1this.props.xxx.someMethod(); éå†æ‰€æœ‰å­èŠ‚ç‚¹ä½¿ç”¨React.childrenæ¥å¤„ç†this.props.childrenï¼Œå› ä¸ºthis.props.childrenå¯èƒ½æœ‰ä¸‰ç§ç±»å‹ï¼Œundefined, object, arrayï¼Œä½¿ç”¨React.childrenå¯ä»¥ä¸ç”¨æ‹…å¿ƒæ­¤é—®é¢˜ã€‚ 123456789101112131415161718192021var NotesList = React.createClass({ render: function() { return ( &lt;ol&gt; { React.Children.map(this.props.children, function (child) { return &lt;li&gt;{child}&lt;/li&gt;; }) } &lt;/ol&gt; ); }});ReactDOM.render( &lt;NotesList&gt; &lt;span&gt;hello&lt;/span&gt; &lt;span&gt;world&lt;/span&gt; &lt;/NotesList&gt;, document.body); propséªŒè¯ï¼ˆä½¿ç”¨PropTypesï¼‰1234567891011var MyTitle = React.createClass({ propTypes: { // è¡¨ç¤ºå¿…è¦å±æ€§ï¼Œå¹¶ä¸”æ˜¯stringç±»å‹ title: React.PropTypes.string.isRequired, }, render: function() { return &lt;h1&gt; {this.props.title} &lt;/h1&gt;; }}); è®¾ç½®é»˜è®¤propsï¼ˆä½¿ç”¨getDefaultPropsï¼‰12345678910111213var MyTitle = React.createClass({ getDefaultProps : function () { return { // å¦‚æœæ²¡æœ‰ä¼ å…¥title propsï¼Œé‚£ä¹ˆé»˜è®¤å€¼ä¸ºâ€˜Hello Worldâ€™ title : 'Hello World' }; }, render: function() { return &lt;h1&gt; {this.props.title} &lt;/h1&gt;; }}); è·å–è¡¨å•çš„è¾“å…¥å†…å®¹è¡¨å•ç»„ä»¶Input, Textarea, Select, Radioç­‰ï¼Œå¿…é¡»æ·»åŠ ä¸€ä¸ªæ–¹æ³•æ¥è·å–å…¶ä¸­çš„å†…å®¹ï¼ˆevent.target.valueï¼‰ 12345&lt;input type=&quot;text&quot; value={value} onChange={this.handleChange} /&gt;handleChange: function(event) { this.setState({value: event.target.value});} ç”Ÿå‘½å‘¨æœŸæ›´æ–°é¡µé¢çš„3ä¸ªç”Ÿå‘½å‘¨æœŸï¼šcompomentDidMount, compomentWillReceiveProps, shouldCompomentUpdate TipsJSXä¸­renderå¯¹è±¡ä¸èƒ½ç”¨async","link":"/2019/06/25/å†™ç»™è‡ªå·±çœ‹çš„Reactç¬”è®°/"},{"title":"ReactNativeåŸç”Ÿç»„ä»¶FlatListå®ç°ä¸Šæ‹‰åŠ è½½","text":"æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹ç»„ä»¶RefreshControlå®ç°ä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½ï¼Œä½†å®˜æ–¹å¹¶æ²¡æœ‰æä¾›ç›¸åº”çš„ä¸Šæ‹‰åŠ è½½ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡è‡ªå·±æ‰‹åŠ¨å®ç°ã€‚ è¿™é‡Œç”¨åˆ°äº†FlatListç»„å»ºçš„onEndReachedä¸onEndReachedThresholdå±æ€§æ¥å®ç°ç›¸åº”æ•ˆæœã€‚ ä¸Šæ‹‰åŠ è½½æ€è·¯ä¸Šæ‹‰åŠ è½½ä¸€èˆ¬åº”ç”¨äºåˆ†é¡µåŠ è½½çš„æƒ…å†µï¼Œå½“FlatListæ»‘åŠ¨åˆ°åº•éƒ¨æ—¶ï¼š é¡µé¢pageIndexæ•°åŠ 1ï¼Œè§¦å‘è¯·æ±‚æ–°ä¸€é¡µçš„æ•°æ® æ›´æ–°åˆ°ç»„ä»¶stateä¸­çš„æ•°æ®æºdataArrayä¸­ï¼ŒdataArrayä¹Ÿä½œä¸ºFlatListçš„æ•°æ®æºdata æ»‘åŠ¨åˆ°åº•éƒ¨è§¦å‘è¯·æ±‚æ–°ä¸€é¡µçš„æ•°æ®é€šè¿‡FlatListçš„onEndReachedå’ŒonEndReachedThresholdå±æ€§æ¥å®ç° å…·ä½“å®ç°onEndReachedä¸Šæ‹‰åŠ è½½çš„å…³é”®æ˜¯onEndReachedï¼Œé€šè¿‡è®¾ç½®è·ç¦»åº•éƒ¨è·ç¦»onEndReachedThresholdçš„å€¼ï¼ˆå€¼ä¸ºæ¯”ä¾‹ï¼Œ0.5è¡¨ç¤ºè·ç¦»åº•éƒ¨ä¸€åŠï¼‰ï¼Œæ¥è§¦å‘onEndReachedäº‹ä»¶ã€‚ onEndReachedæ–¹æ³•åœ¨å½“åˆ—è¡¨è¢«æ»šåŠ¨åˆ°è·ç¦»æœ€åº•éƒ¨å°äºonEndReachedThresholdçš„å€¼æ—¶è°ƒç”¨ã€‚ 12345678910111213141516171819/** * ä¸Šæ‹‰åŠ è½½ */_onEndReached = () =&gt; { /** å¦‚æœæ˜¯æ­£åœ¨åŠ è½½ä¸­æˆ–æ²¡æœ‰æ›´å¤šæ•°æ®äº†ï¼Œåˆ™è¿”å› */ if (this.state.showFoot !== 0 ) return; /** å¦‚æœå½“å‰é¡µå¤§äºæˆ–ç­‰äºæ€»é¡µæ•°ï¼Œé‚£å°±æ˜¯åˆ°æœ€åä¸€é¡µäº†ï¼Œè¿”å› */ if ((this.state.pageIndex !== 1) &amp;&amp; (this.state.showFoot === 1)) { return; } else { this.setState({pageIndex: this.state.pageIndex + 1}); } /** åº•éƒ¨æ˜¾ç¤ºæ­£åœ¨åŠ è½½æ›´å¤šæ•°æ® */ this.setState({showFoot: 2}); /** è·å–æ•°æ® */ this._fetchPrev();} åˆå§‹State123456789101112131415161718192021222324constructor(props) { super(props); this.state = { isLoading: true, // ç½‘ç»œè¯·æ±‚å¤±è´¥ fetchError: false, errorInfo: \"\", // åˆ—è¡¨æ•°æ® dataArray: [], /** * æ˜¯å¦æ˜¾ç¤ºåº•éƒ¨ç»„ä»¶ * 0ï¼šéšè—footer * 1ï¼šå·²åŠ è½½å®Œæˆ,æ²¡æœ‰æ›´å¤šæ•°æ® * 2ï¼šæ˜¾ç¤ºåŠ è½½ä¸­ */ showFoot:0, // ä¸‹æ‹‰åˆ·æ–°æ§åˆ¶ isRefreshing:false, // å½“å‰é¡µç  pageIndex: 1, // æ¯é¡µä¸ªæ•° pageSize: 10, }} æ•°æ®è·å–è·å–åˆ°æ–°ä¸€é¡µçš„æ•°æ®æ—¶ï¼ŒæŠŠpageIndexåŠ 1ï¼Œ å½“è·å–åˆ°æ•°æ®dataæ—¶ï¼Œæ‹¼æ¥åœ¨å·²æœ‰çš„dataArrayä¸Šï¼š 123456789101112componentDidMount() { //è¯·æ±‚æ•°æ® this.fetchData();}this.setState({ //å¤åˆ¶æ•°æ®æº dataArray:this.state.dataArray.concat(data), isLoading: false, showFoot:foot, isRefreshing:false,}); ç»„ä»¶æ¸²æŸ“1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * åŠ è½½ç­‰å¾…é¡µ */_renderLoadingView = () =&gt; { return ( &lt;ActivityIndicator animating={this.state.isLoading} toast={true} color='#108ee9' size=\"large\" /&gt; );}/** * åŠ è½½å¤±è´¥é¡µ */_renderErrorView = () =&gt; { return ( &lt;View style={styles.fetchErrContainer}&gt; &lt;Text&gt;ç½‘ç»œè¯·æ±‚å¤±è´¥&lt;/Text&gt; &lt;/View&gt; );}render() { // ç¬¬ä¸€æ¬¡åŠ è½½ç­‰å¾…çš„view if (this.state.isLoading &amp;&amp; !this.state.error) { // åŠ è½½ç­‰å¾…é¡µ return this.renderLoadingView(); } else if (this.state.error) { // ç½‘ç»œè¯·æ±‚å¤±è´¥ return this.renderErrorView(); } // åˆ—è¡¨ return ( &lt;FlatList data={this.state.dataArray} keyExtractor={(item, index) =&gt; `${item.id} - ${index}`} renderItem={this._renderItem} ListFooterComponent={this._renderFooter} onEndReached={this._onEndReached} onEndReachedThreshold={0.5} refreshing={this.state.refreshing} onRefresh={this._onRefresh} ItemSeparatorComponent={this._renderSeparator} /&gt; )} æ¯ä¸ªItemç»„ä»¶renderItemæ ¹æ®è¡Œæ•°æ®dataArrayæ¥æ¸²æŸ“æ¯ä¸ªItemç»„ä»¶ 123456789101112_renderItem = ({ item, index, separator }) =&gt; { return ( &lt;View&gt; &lt;Text style={styles.title}&gt; name: {item.value.name} ({item.value.stargazers_count}stars) &lt;/Text&gt; &lt;Text style={styles.content}&gt; description: {item.value.description} &lt;/Text&gt; &lt;/View&gt; );} åº•éƒ¨ä¸Šæ‹‰åŠ è½½loadingç»„ä»¶ListFooterComponentä¸ºå°¾éƒ¨ç»„ä»¶çš„æ¸²æŸ“ 123456789101112131415161718192021222324252627/** * åº•éƒ¨æç¤ºç»„ä»¶ */_renderFooter = () =&gt; { if (this.state.showFoot === 1) { return ( &lt;View&gt; &lt;Text style={{color: '#aaa', fontSize: 14, textAlign: 'center', height: 80, marginBottom: 10}}&gt; æ²¡æœ‰æ›´å¤šæ•°æ®äº† &lt;/Text&gt; &lt;/View&gt; ); } else if (this.state.showFoot === 2) { return ( &lt;View style={{flexDirection: 'row', justifyContent: 'center', alignItems: 'center', height: 80, marginBottom: 10}}&gt; &lt;ActivityIndicator /&gt; &lt;Text&gt;æ­£åœ¨åŠ è½½æ›´å¤šæ•°æ®...&lt;/Text&gt; &lt;/View&gt; ); } else if (this.state.showFoot === 0) { return ( &lt;View&gt; &lt;Text&gt;&lt;/Text&gt; &lt;/View&gt; ); }} æ¯ä¸ªItemä¹‹é—´çš„åˆ†éš”çº¿ItemSeparatorComponentæ˜¯è¡Œä¸è¡Œä¹‹é—´çš„åˆ†éš”çº¿ç»„ä»¶,ä¸ä¼šå‡ºç°åœ¨ç¬¬ä¸€è¡Œä¹‹å‰å’Œæœ€åä¸€è¡Œä¹‹å 12345_renderSeparator(){ return( &lt;View style={{height:1,backgroundColor:'#999999'}}/&gt; )} ActivityIndicatoråŠ è½½æŒ‡ç¤ºå™¨ç”¨åŸç”Ÿç»„ä»¶ActivityIndicatoræ¥å®ç°Loadingçš„æ•ˆæœã€‚ 1234567&lt;ActivityIndicator // { string } æ˜¯å¦æ˜¾ç¤º animating={true} color='red' // enum('small', 'large') size=\"large\"/&gt;","link":"/2019/07/03/ReactNativeåŸç”Ÿç»„ä»¶FlatListå®ç°ä¸Šæ‹‰åŠ è½½/"},{"title":"Axiosåœ¨é¡¹ç›®ä¸­çš„å°è£…","text":"å®é™…é¡¹ç›®å¼€å‘ä¸­ç”¨åˆ°çš„Axioså°è£… TOKENéªŒè¯å¯ä»¥åœ¨æ¯æ¬¡è¯·æ±‚ä¹‹å‰éªŒè¯tokenä¿¡æ¯ï¼š 123456// åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­åŠ å…¥ï¼Œç”¨åˆ°äº†js-cookieimport Cookies from &apos;js-cookie&apos;;if (Cookies.get(&apos;Admin-Token&apos;)) { config.headers[&apos;Authorization&apos;] = Cookies.get(&apos;Admin-Token&apos;)} ç½‘ç»œä¼˜åŒ–å½“å¤šæ¬¡è¯·æ±‚çš„æ—¶å€™å»é™¤ä¸Šä¸€æ¬¡è¯·æ±‚ï¼Œé¿å…è¿”å›æ•°æ®ä¸åŠæ—¶å¯¼è‡´çš„æ•°æ®é”™ä¹±ï¼š 12345678910111213141516let pending = []let CancelToken = axios.CancelToken let cancelPending = (config) =&gt; { pending.forEach((item, index) =&gt; { if (config) { if (item.UrlPath === config.url) { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• }; } else { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• } })} å…¨å±€Loading12345678910111213141516import { Loading } from &apos;element-ui&apos; let loading;// ä½¿ç”¨Elementçš„loading-startæ–¹æ³•let startLoading = () =&gt; { loading = Loading.service({ lock: true, text: &apos;åŠ è½½ä¸­â€¦â€¦&apos; // background: &apos;rgba(0, 0, 0, 0.7)&apos; })}// ä½¿ç”¨Elementçš„loading-closeæ–¹æ³•let endLoading = () =&gt; { loading.close()} ä¹‹ååœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­åŠ å…¥startLoading()æ–¹æ³•ï¼Œåœ¨è¿”å›æ‹¦æˆªå™¨ä¸­åŠ å…¥endLoading()æ–¹æ³• å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130import axios from 'axios';import qs from 'qs';import { SERVER_ADDRESS } from '../const/index';import { getToken } from '../utils/common';/** * AxiosäºŒæ¬¡å°è£… */let pending = []let CancelToken = axios.CancelTokenlet cancelPending = (config) =&gt; { pending.forEach((item, index) =&gt; { if (config) { if (item.UrlPath === config.url) { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• }; } else { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• } })}/** Axioså®ä¾‹åŸºç¡€é…ç½® */axios.defaults.baseURL = `${SERVER_ADDRESS}`;axios.defaults.timeout = 100000;/** è¯·æ±‚æ‹¦æˆªå™¨ */axios.interceptors.request.use(async config =&gt; { config.headers['Authorization'] = await getToken(); // 1. å¦‚æœæœ‰å­˜åœ¨çš„è¯·æ±‚ï¼Œå–æ¶ˆæ‰ cancelPending(config) // 2. pendingåˆ—è¡¨åŠ å…¥æ­¤æ¬¡æ–°çš„è¯·æ±‚ config.cancelToken = new CancelToken(res =&gt; { pending.push({'UrlPath': config.url, 'Cancel': res}) }); if (config.method === 'get') { config.params = { ...config.data, _t: Date.parse(new Date()) / 1000 } } return config}, error =&gt; { console.log(error) return Promise.reject(error)})/** è¿”å›æ‹¦æˆªå™¨ */axios.interceptors.response.use(response =&gt; { cancelPending(response.config) if (response.status === '200' || response.status === 200) { return response.data || response } else { // é200è¯·æ±‚åˆ™æŠ¥é”™ throw Error(response.opt || 'éæ³•çš„çŠ¶æ€ç ') }}, error =&gt; { console.log(error) return Promise.reject(error)})export default class http { static async get(url, params) { /** * params{ * goodsï¼šidï¼Œ * nameï¼šstring * } ==&gt; ?goods=id&amp;name=string */ try { let query = await qs.stringify(params) let res = null; if (!params) { // console.log( SERVER_ADDRESS + url); res = await axios.get(url) } else { // console.log( SERVER_ADDRESS + url + '?' + query); res = await axios.get(url + '?' + query) } return res } catch (error) { return error } } static async post(url, params) { try { let res = await axios.post(url, params) return res } catch (error) { return error } } static async patch(url, params) { try { let res = await axios.patch(url, params) return res } catch (error) { return error } } static async put(url, params) { try { let res = await axios.put(url, params) return res } catch (error) { return error } } static async delete(url, params) { try { let res = await axios.delete(url, params) return res } catch (error) { return error } }}","link":"/2019/06/27/Axiosåœ¨é¡¹ç›®ä¸­çš„å°è£…/"},{"title":"ReactNativeåº”ç”¨åç§°åŠå›¾æ ‡ä¿®æ”¹","text":"APPåç§°å’Œå›¾æ ‡çš„ä¿®æ”¹æ–¹æ³• ä¿®æ”¹APPåç§° åœ¨android/app/src/main/AndroidManifest.xmlé‡Œï¼Œæ‰¾åˆ°android:label=&quot;@string/app_name&quot;ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºå®šä¹‰å¥½çš„å˜é‡ï¼Œå®ƒè°ƒç”¨çš„åœ°æ–¹åœ¨android\\app\\src\\main\\AndroidManifest.xmlé‡Œã€‚ ä¿®æ”¹android/app/src/main/res/valuse/strings.xmlä¸­çš„æ–‡æœ¬ï¼Œå°±ä¼šæ”¹å˜APPåœ¨æ‰‹æœºä¸Šæ˜¾ç¤ºçš„åç§° 123&lt;resources&gt; &lt;string name=\"app_name\"&gt;å·¡æ£€ç³»ç»Ÿ&lt;/string&gt;&lt;/resources&gt; ä¿®æ”¹APPå›¾æ ‡ è¿›å…¥ç›®å½•android/app/src/main/AndroidManifest.xmlï¼Œæ‰¾åˆ°android:icon=&quot;@mipmap/ic_launcher&quot;ï¼Œå®ƒè°ƒç”¨çš„åœ°æ–¹åœ¨android\\app\\src\\main\\res\\mipmap-XXXé‡Œã€‚ æ›¿æ¢å‡ ä¸ªmipmap-XXXç›®å½•ä¸­çš„pngå›¾ç‰‡å³å¯ï¼Œåˆ†åˆ«å¯¹åº”çš„åˆ†è¾¨ç‡ä¸ºï¼š48x48ï¼Œ72x72ï¼Œ96x96ï¼Œ144x144ï¼Œ192x192ã€‚ å¦‚æœä½ AndroidManifest.xmlæ–‡ä»¶é‡Œæ˜¯android:icon=&quot;@drawable/ic_launcher&quot;ï¼Œé‚£ä¹ˆä¿®æ”¹drawable-XXXæ–‡ä»¶å›¾ç‰‡å³å¯ã€‚","link":"/2019/07/04/ReactNativeåº”ç”¨åç§°åŠå›¾æ ‡ä¿®æ”¹/"},{"title":"ReactNativeåº”ç”¨åŒ…åä¿®æ”¹","text":"åŒ…åæ˜¯Androidå”¯ä¸€çš„åº”ç”¨IDã€‚ ä¿®æ”¹åŒ…ååï¼Œä¹‹å‰ä¸Šä¼ åˆ°åº”ç”¨å•†åº—çš„APPä¹Ÿå°±ä¸æ˜¯åŒä¸€æ¬¾äº†ã€‚ å‡è®¾æ–°çš„åŒ…åä¸ºcom.oc.objectiveï¼Œä¸‹é¢å‡ å¤„åœ°æ–¹æ˜¯éœ€è¦åŒæ­¥ä¿®æ”¹çš„ï¼š ä¸¤ä¸ªJavaæ–‡ä»¶android/app/src/main/java/com/PROJECT_NAME/MainActivity.java android/app/src/main/java/com/PROJECT_NAME/MainApplication.java ä¿®æ”¹ç¬¬ä¸€è¡Œçš„packageä¸ºï¼š package com.oc.objective; å®‰å“æè¿°æ–‡ä»¶android/app/src/main/AndroidManifest.xml ä¿®æ”¹ç¬¬äºŒè¡Œpackageä¸ºï¼š package=&quot;com.oc.objective&quot; ä¸¤ä¸ªæ‰“åŒ…è„šæœ¬ **android/app/BUCK** é‡Œé¢æœ‰ä¸¤å¤„packageï¼Œéƒ½ä¿®æ”¹ä¸ºæ–°çš„åŒ…å 12345678910android_build_config( ... package = &quot;com.oc.objective&quot;,)android_resource( ... package = &quot;com.oc.objective&quot;,...) **android/app/build.gradle** ä¿®æ”¹applicationId 1234defaultConfig { applicationId &quot;com.oc.objective&quot; ...} ä¿®æ”¹å®Œæˆåï¼Œå‘½ä»¤è¡Œè¿›å…¥androidç›®å½•ï¼Œæ‰§è¡Œ./gradlew cleanæ¸…é™¤ç¼“å­˜å³å¯ï¼ˆwindowsä¸Šæ˜¯ gradlew.batï¼‰ æ›´æ–°Javaæ–‡ä»¶ç›®å½•è‡³æ­¤èƒ½å¤Ÿæ‰“åŒ…å‡ºæ­£ç¡®åŒ…åçš„apkï¼Œä¸è¿‡åœ¨å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬éƒ½éœ€è¦è‡ªåŠ¨linkåŸç”Ÿæ¨¡å—ï¼Œç°åœ¨Javaæ–‡ä»¶ç›®å½•ä¸æ­£ç¡®ä¼šå¯¼è‡´æ— æ³•linkæˆåŠŸï¼Œæ‰€ä»¥è¿˜éœ€è¦æŒ‰ç…§Javaçš„è§„èŒƒæŠŠJavaæ–‡ä»¶ç›®å½•æ”¾å…¥åŒ…ååŒ¹é…çš„ç›®å½•ä¸­ã€‚ æŠŠMainActivity.javaå’ŒMainApplication.javaä¸¤ä¸ªæ–‡ä»¶ç§»åˆ°æ–°åˆ›å»ºçš„ç›®å½•ä¸‹ï¼šandroid/app/src/main/java/com/oc/objective/ã€‚ ä¿®æ”¹å®Œæˆçš„ç›®å½•ç»“æ„ä¸ºï¼š 12android/app/src/main/java/com/PROJECT_NAME/MainActivity.javaandroid/app/src/main/java/com/PROJECT_NAME/MainApplication.java ç°åœ¨å°±å¯ä»¥è‡ªåŠ¨linkäº†ã€‚","link":"/2019/07/05/ReactNativeåº”ç”¨åŒ…åä¿®æ”¹/"},{"title":"æ™®é€šäººçš„ç½‘é¡µé…è‰²æ–¹æ¡ˆ","text":"å‰æ®µæ—¶é—´åœ¨é˜®è€å¸ˆåšå®¢ä¸Šçœ‹åˆ°çš„æ–‡ç« ï¼Œå‡ ä¸ªé…è‰²è‡ªå·±ç”¨ä¸‹æ¥è¿˜ä¸é”™ï¼Œåœ¨æ­¤å•ç‹¬è®°å½•ä¸€ä¸‹ã€‚ Flat UI è‰²è¡¨ æ›´å¤šçš„è®¾è®¡é£æ ¼å¯ä»¥æŸ¥çœ‹Flat UI å®˜ç½‘ é…è‰²çš„ç»éªŒæ³•åˆ™æœ‰äººè¿˜æå‡ºä¸€ç§é…è‰²çš„ç»éªŒæ³•åˆ™ï¼š æ–‡å­—é¢œè‰²æ–‡å­—æœ€å¥½ä¸è¦ä½¿ç”¨å…¨é»‘ï¼Œè€Œæ˜¯ä½¿ç”¨æ·±è“è‰²ï¼Œå¯ä»¥ä»ä¸‹é¢å‡ ç§é¢œè‰²æŒ‘ã€‚1a2a3aæœ€æ·±ï¼Œ2a3a4aæ¬¡ä¹‹ï¼Œ7a8a9aæœ€æµ…ã€‚ èƒŒæ™¯è‰²ã€é˜´å½±è‰²ã€è¾¹æ¡†è‰²èƒŒæ™¯è‰²ã€é˜´å½±è‰²ã€è¾¹æ¡†è‰²éƒ½å±äºè¡¬æ‰˜ï¼Œå»ºè®®ä½¿ç”¨ç°è‰²ï¼Œå¯ä»¥ä»aaaaaã€bbbbbbã€ccccccã€ddddddè¿™å››ä¸ªè‰²å€¼æŒ‘é€‰ã€‚","link":"/2019/07/11/æ™®é€šäººçš„ç½‘é¡µé…è‰²æ–¹æ¡ˆ/"},{"title":"å¸ƒå±€ï¼šæ°´å¹³å±…ä¸­ã€å‚ç›´å±…ä¸­ã€æ°´å¹³å‚ç›´å±…ä¸­","text":"æ°´å¹³å‚ç›´å±…ä¸­flex + marginï¼ˆéå¸¸æ¨èï¼‰123456789101112131415&lt;div class=\"parent\"&gt; &lt;div class=\"child \"&gt;&lt;/div&gt;&lt;/div&gt;.parent { background-color: lightblue; height: 500px; display: flex; /* å…³é”®ä»£ç  */}.child { width: 100px; height: 100px; background-color: lightseagreen; margin: auto; /* å…³é”®ä»£ç  */} flex + justify-content + align-itemsï¼ˆæ¨èï¼‰12345678910&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent{ display:flex; justify-content:center; //æ°´å¹³å±…ä¸­ align-items:center; //å‚ç›´å±…ä¸­} absolute + transformï¼ˆæ¨èï¼‰1234567891011121314&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { position:relative;}.child { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);} inline-block + text-align + table-cell + vertical-align12345678910111213&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.child { display:inline-block; //1.æ°´å¹³å±…ä¸­}.parent { text-align:center; //2.æ°´å¹³å±…ä¸­ display:table-cell; //3.å‚ç›´å±…ä¸­ vertical-align:middle; //4.å‚ç›´å±…ä¸­} æ°´å¹³å±…ä¸­absolute + transformï¼ˆæ¨èï¼‰transformä¸ºcss3å±æ€§ï¼Œå…¼å®¹åˆ°IE10ï¼ŒIE9æ·»åŠ -ms-transform å±æ€§ 12345678910111213&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { position:relative;}.child { position:absolute; left:50%; transform:translateX(-50%); //å†å‘å·¦åç§»è‡ªèº«å®½åº¦çš„ä¸€åŠ} flex + marginï¼ˆæ¨èï¼‰flexä¸ºcss3å±æ€§ï¼Œå…¼å®¹åˆ°IE9 1234567891011&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { display:flex;}.child { margin:0 auto;} flex + justify-contentï¼ˆæ¨èï¼‰flexä¸ºcss3å±æ€§ï¼Œå…¼å®¹åˆ°IE9 123456789&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { display:flex; justify-content:center;} inline-block + text-alignæŠŠå­å…ƒç´ è®¾ä¸ºinline-block å…ƒç´ ï¼Œç„¶åå¯¹çˆ¶å…ƒç´ è®¾ç½®text-align:center è®©å­å…ƒç´ å±…ä¸­ï¼Œå…¼å®¹åˆ°IE6 123456789101112&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.child{ display:inline-block; text-align:center; //é¿å…childé‡Œé¢çš„æ–‡å­—ä¹Ÿæ°´å¹³å±…ä¸­}.parent{ text-align:center;} table + marginå…¼å®¹åˆ°IE8 123456789&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.child{ display:table; //divè¢«æ¢æˆäº†table margin:0 auto;} å‚ç›´å±…ä¸­absolute + transformï¼ˆæ¨èï¼‰ç±»ä¼¼äºæ°´å¹³å±…ä¸­çš„é‚£ä¸ªæ–¹æ³• transformä¸ºcss3å±æ€§ï¼Œå…¼å®¹åˆ°IE10ï¼ŒIE9æ·»åŠ -ms-transform å±æ€§ 12345678910111213&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { position:relative;}.child { position:absolute; top:50%; transform:translateY(-50%);} flex + align-itemsï¼ˆæ¨èï¼‰ç±»ä¼¼äºæ°´å¹³å±…ä¸­çš„é‚£ä¸ªæ–¹æ³• flexä¸ºcss3å±æ€§ï¼Œå…¼å®¹åˆ°IE9 123456789&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { position:flex; align-items:center;} table-cell + vertical-alignå…¼å®¹åˆ°IE8 123456789&lt;div class=\"parent\" style=\"background:red\"&gt; &lt;div class=\"child\" style=\"background:yellow\"&gt;DEMO&lt;/div&gt;&lt;/div&gt;.parent { display:table-cell; //1.å°†çˆ¶æ¡†è½¬åŒ–ä¸ºä¸€ä¸ªè¡¨æ ¼å•å…ƒæ ¼ vertical-align:middle; //2.ä½¿è¡¨æ ¼å•å…ƒæ ¼å†…å®¹å‚ç›´å±…ä¸­}","link":"/2019/07/12/å¸ƒå±€ï¼šæ°´å¹³å±…ä¸­ã€å‚ç›´å±…ä¸­ã€æ°´å¹³å‚ç›´å±…ä¸­/"},{"title":"ä»é›¶å¼€å§‹æ­å»ºHexoåšå®¢","text":"ä»é›¶å¼€å§‹çš„Hexoä¸ªäººåšå®¢é…ç½® åŸºç¡€é…ç½®åˆå§‹åŒ– å®‰è£…Git å®‰è£…Nodeï¼ˆHexoæ˜¯åŸºäºNode.jsçš„é™æ€åšå®¢ï¼ŒLTSä¸ºé•¿æœŸæ”¯æŒç‰ˆï¼ŒCurrentä¸ºå½“å‰æœ€æ–°ç‰ˆï¼‰å®‰è£…æ­¥éª¤ï¼šåæ­£ä¸‹è½½å¥½msiæ–‡ä»¶åï¼ŒåŒå‡»æ‰“å¼€å®‰è£…ï¼Œä¹Ÿæ˜¯ä¸€è·¯nextï¼Œä¸è¿‡åœ¨Custom Setupè¿™ä¸€æ­¥è®°å¾—é€‰ Add to PATH ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨è‡ªå·±å»é…ç½®ç”µè„‘ä¸Šç¯å¢ƒå˜é‡äº†ï¼Œè£…å®Œåœ¨æŒ‰ win + r å¿«æ·é”®è°ƒå‡ºè¿è¡Œï¼Œç„¶åè¾“å…¥cmdç¡®å®šï¼Œåœ¨cmdä¸­è¾“å…¥pathå¯ä»¥çœ‹åˆ°ä½ çš„nodeæ˜¯å¦é…ç½®åœ¨é‡Œé¢ï¼ˆç¯å¢ƒå˜é‡ï¼‰ã€‚ å®‰è£…Hexo åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼šnpm i -g hexoï¼Œå®‰è£…å®Œæˆåï¼Œå¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬ï¼šhexo -vã€‚ åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼šmyBlogï¼ˆä»¥åè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯ä½ çš„blogç›®å½•ï¼‰ï¼Œç„¶åcdåˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ã€‚ åˆå§‹åŒ–å‘½ä»¤ï¼šhexo initï¼Œåˆå§‹åŒ–å®Œæˆä¹‹åæ‰“å¼€æ‰€åœ¨çš„æ–‡ä»¶å¤¹å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç»“æ„ï¼š å®‰è£…hexoæ ¹ç›®å½•å®‰è£…æœåŠ¡å™¨ä¾èµ–ï¼šnpm i hexo-server ç„¶ååˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š hexo clean hexo generate hexo server ç°åœ¨æ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:4000 å·²ç»å¯ä»¥çœ‹åˆ°é¡µé¢äº†ã€‚ .deploy_git ä¸Šä¼ åˆ°githubä¸Šçš„å†…å®¹ node_modulesï¼šä¾èµ–åŒ… publicï¼šå­˜æ”¾çš„æ˜¯ç”Ÿæˆçš„é¡µé¢ scaffoldsï¼šå‘½ä»¤ç”Ÿæˆæ–‡ç« ç­‰çš„æ¨¡æ¿ sourceï¼šç”¨å‘½ä»¤åˆ›å»ºçš„å„ç§æ–‡ç«  themesï¼šä¸»é¢˜ _config.ymlï¼šæ•´ä¸ªåšå®¢çš„é…ç½®ï¼ˆå…³é”®ï¼‰ db.jsonï¼šsourceè§£ææ‰€å¾—åˆ°çš„ package.jsonï¼šä¾èµ–åŒ…çš„é…ç½®ä¿¡æ¯ æ–°å»ºä»“åº“githubåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œåç§°ä¸ºusername.github.ioï¼Œ å…¶ä¸­usernameæ˜¯ä½ çš„githubç”¨æˆ·åï¼ŒæŒ‰ç…§è¿™ä¸ªè§„åˆ™åˆ›å»ºæ‰æœ‰ç”¨å“¦ï¼Œå¦‚ä¸‹ï¼š è®¾ç½®ç”¨æˆ·ä¿¡æ¯Gitä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHubä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œé…ç½®å…¨å±€gitä¿¡æ¯ï¼š 12$ git config --global user.name &quot;YourName&quot;//å¡«å†™ä½ è‡ªå·±çš„ç”¨æˆ·å$ git config --global user.email &quot;YourEmail&quot;//å¡«å†™ä½ è‡ªå·±çš„é‚®ç®± é…ç½®SSH KEY é…ç½®SSH KEYä¹Ÿå¯ä»¥å‚è€ƒå¦ä¸€ç¯‡æ–‡ç«  åˆ›å»ºSSH KEYåœ¨GitBashä¸­è¾“å…¥ï¼šssh-keygen -t rsa -C &quot;YourEmail&quot;ã€‚ç„¶åç³»ç»Ÿä¼šè¦ä½ è¾“å…¥å¯†ç ï¼Œè¿™ä¸ªå¯†ç ä¼šåœ¨ä½ æäº¤é¡¹ç›®æ—¶ä½¿ç”¨ï¼Œå¦‚æœä¸ºç©ºçš„è¯æäº¤é¡¹ç›®æ—¶åˆ™ä¸ç”¨è¾“å…¥ã€‚è¿™ä¸ªè®¾ç½®æ˜¯é˜²æ­¢åˆ«äººå¾€ä½ çš„é¡¹ç›®é‡Œæäº¤å†…å®¹ã€‚ 12Enter passphrase (empty for no passphrase):&lt;è¾“å…¥åŠ å¯†ä¸²&gt;Enter same passphrase again:&lt;å†æ¬¡è¾“å…¥åŠ å¯†ä¸²&gt; æœ€åçœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼Œå°±æˆåŠŸäº†ï¼š ç„¶åæŒ‰ä¸‹å›¾çš„æ–¹å¼æ‰¾åˆ°id_rsa.pubæ–‡ä»¶çš„å†…å®¹ï¼Œæˆ–è€…ä¸€èˆ¬åœ¨C:\\Users\\ç”¨æˆ·å\\.sshæ–‡ä»¶å¤¹å†…ï¼š æ·»åŠ SSH KEYåˆ°GitHubtitleéšä¾¿å–ï¼Œkeyå°±æ˜¯ä¸Šé¢è·å–çš„SSH Keyï¼ˆæ³¨æ„æ˜¯å…¨éƒ¨å¤åˆ¶ï¼ŒåŒ…æ‹¬å‰é¢çš„ssh-rsaï¼‰ã€‚ å®Œæˆååœ¨GitBashä¸­æµ‹è¯•æ˜¯å¦æ·»åŠ æˆåŠŸï¼šssh -T git@github.comå¦‚æœæ˜¯ä¸‹é¢çš„åé¦ˆï¼š 123The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? ä¸ç”¨ç´§å¼ ï¼Œç›´æ¥è¾“å…¥yeså¯ä»¥çœ‹åˆ°æˆåŠŸæç¤ºï¼š 1Hi xxx! You&apos;ve successfully authenticated, but GitHub does not provide shell access. éƒ¨ç½²é…ç½®Hexoç”¨ç¼–è¾‘å™¨æ‰“å¼€ä½ çš„blogé¡¹ç›®ï¼Œä¿®æ”¹_config.ymlæ–‡ä»¶çš„ä¸€äº›é…ç½®(å†’å·ä¹‹åéƒ½æ˜¯æœ‰ä¸€ä¸ªåŠè§’ç©ºæ ¼çš„)ï¼š 1234deploy:type: gitrepo: https://github.com/YourgithubName/YourgithubName.github.io.gitbranch: master ä¸»é¢˜ä¿®æ”¹ åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼šgit clone &lt;ä¸»é¢˜åœ°å€&gt; themes/&lt;ä¸»é¢˜åå­—&gt;git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus ä¿®æ”¹æ ¹ç›®å½•ä¸­config.ymlé‡Œçš„themeå€¼ä¸ºâ€œä¸»é¢˜åå­—â€ï¼Œå®Œæˆã€‚ ä¸Šä¼ åˆ°github ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®è¿˜åœ¨æœ¬åœ°ï¼Œå…ˆå®‰è£…ï¼šnpm install hexo-deployer-git --saveï¼ˆè¿™æ ·æ‰èƒ½å°†ä½ å†™å¥½çš„æ–‡ç« éƒ¨ç½²åˆ°githubæœåŠ¡å™¨ä¸Šå¹¶è®©åˆ«äººæµè§ˆåˆ°ï¼‰ ç„¶ååˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤(å»ºè®®æ¯æ¬¡éƒ½æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤éƒ¨ç½²)ï¼š hexo cleanï¼Œhexo generateï¼Œhexo deploy æ³¨æ„deployçš„è¿‡ç¨‹ä¸­å¯èƒ½è¦è¾“å…¥ä½ çš„githubç”¨æˆ·åå’Œå¯†ç ã€‚å¦‚ä¸‹ï¼š ä¸Šä¼ æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://yourgithubname.github.ioå°±å¯ä»¥çœ‹åˆ°ä½ çš„ä¸ªäººåšå®¢å•¦ï¼ å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼Œå¯ä»¥å†æ¥ç€å®Œæˆä»¥ä¸‹æ­¥éª¤ã€‚ åŸŸåç»‘å®šä¸ªäººåŸŸå å…è´¹çš„åŸŸåå¯ä»¥åœ¨freenomä¸Šé¢è´­ä¹°ï¼Œæœ‰ä¸€å¹´çš„ä½¿ç”¨æœŸ åœ¨åšå®¢ç›®å½•çš„sourceæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡ä»¶ï¼ˆå…¨å¤§å†™ï¼Œæ²¡æœ‰åç¼€ï¼‰ åœ¨CNAMEé‡Œé¢æ·»åŠ ä½ è´­ä¹°çš„åŸŸåï¼Œåªèƒ½æ·»åŠ ä¸€ä¸ªï¼ å°†æ–°å¢çš„CNAMEä¸Šä¼ åˆ°githubä¸Š DNSè§£ææ¥ç€æˆ‘ä»¬åœ¨CloudFlareä¸Šé¢è§£æåŸŸåã€‚ æ³¨å†Œç™»å½•åï¼Œåœ¨ Add a website ä¸­å¡«å…¥ä½ çš„åŸŸåï¼Œç„¶åç‚¹å‡» Scan DNS Recordsï¼Œç­‰å¾…æ‰«æå®Œæˆã€‚å³ä½¿æ²¡æœ‰æ‰«åˆ° DNS è®°å½•ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åé¢æ·»åŠ ï¼Œæ¥ç€ç‚¹å‡» Continueã€‚ æ‰«æå®Œæˆåï¼Œæ·»åŠ DNSé…ç½®ï¼š å¾€ä¸‹ç¿»ä¼šå‡ºç°ä¸¤è¡Œ NS è®°å½•ï¼Œå›åˆ°freenomå¤„ï¼Œå°†è¿™ä¸¤è¡ŒNSè®°å½•å¡«å†™åœ¨å¦‚ä¸‹åœ°å€ï¼š å¼ºåˆ¶ä½¿ç”¨HTTPS é¡¶éƒ¨æ ‡ç­¾ä¸­é€‰ä¸­ Cryptoï¼Œåœ¨ç¬¬ä¸€ä¸ªå‡ºç°çš„ SSL ä¸­é€‰ä¸­ Fullã€‚ æŒ‰ç…§ä¸‹å›¾é…ç½®ï¼š ä½¿ç”¨SSLåŠ å¯†","link":"/2019/07/15/ä»é›¶å¼€å§‹æ­å»ºHexoåšå®¢/"},{"title":"å¦‚ä½•æ·»åŠ æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹åˆ°å·²çŸ¥å¯¹è±¡å½“ä¸­","text":"åˆ©ç”¨å¯¹è±¡å¿«é€Ÿæ’å…¥1234567891011let routes = [ {path: '/', component: 'Home'}, {path: '/book', component: 'Book'}, {path: '/movie', component: 'Movie'}]let routeMap = {}routes.forEach(item =&gt; { routeMap[item.path] = item.component}) é€’å½’1234567891011121314151617let arr = [{a:1},{b:2}];let obj = {c: 3};let i = 0;let fun = (obj, i) =&gt; { if (i &lt; arr.length) { obj = {...obj, ...arr[i]} i++; // é€’å½’ï¼Œä¼ å…¥å·²ä¿®æ”¹çš„å‚æ•° return fun( obj, i ) } else { // æœ€ç»ˆç»“æœ return {...obj} }}fun(obj, i);","link":"/2019/07/16/å¦‚ä½•æ·»åŠ æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹åˆ°å·²çŸ¥å¯¹è±¡å½“ä¸­/"},{"title":"å¦‚ä½•åœ¨PicGoä¸­é…ç½®é˜¿é‡Œäº‘OSSä½œä¸ºåšå®¢å›¾åºŠ","text":"æˆ‘ä»¬ä¹‹å‰ä»é›¶å¼€å§‹æ­å»ºHexoåšå®¢ï¼Œç°åœ¨éœ€è¦æ‹¥æœ‰è‡ªå·±çš„å›¾åºŠ ç¯å¢ƒ å›¾åºŠï¼šé˜¿é‡Œäº‘OSS ä¸Šä¼ å·¥å…·ï¼šPicGo æ­¥éª¤ å…ˆæ¥çœ‹ä¸€ä¸‹PicGoé…ç½®é˜¿é‡Œäº‘OSSæ‰€éœ€çš„å‚æ•°ï¼Œä¸€å…±4é¡¹ï¼š ç™»å½•é˜¿é‡Œäº‘åï¼Œåœ¨é¡µé¢è·å–KeyIdå’ŒKeySecretï¼Œå»ºè®®ä½¿ç”¨å­è´¦æˆ·ï¼š å‹¾é€‰ç¼–ç¨‹è®¿é—®ï¼Œ è®°å½•ä¸‹AccessKey IDå’ŒAccessKeySecretï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡è·å–ï¼ å‹¾é€‰æ–°æ·»åŠ çš„ç”¨æˆ·ï¼Œæ·»åŠ æƒé™ï¼ŒåŠ å…¥OSSæƒé™ã€‚ æ‰“å¼€æ§åˆ¶å°ï¼Œåˆ›å»ºBucketï¼Œå¡«å†™çš„Bucketåç§°å°±æ˜¯å­˜å‚¨ç©ºé—´åï¼Œè®°å½•ä¸‹æ¥ã€‚ åˆ›å»ºå®Œæˆä»¥åï¼Œåœ¨æ¦‚è§ˆé¡µé¢â€”â€”è®¿é—®åŸŸåï¼Œå›¾ä¸­æ¡†çº¢çš„å°±æ˜¯å­˜å‚¨åŒºåŸŸï¼Œè®°å½•ä¸‹æ¥ã€‚ æœ€ååœ¨Bucketçš„åŸºç¡€è®¾ç½®ä¸­ï¼Œä¿®æ”¹è¯»å†™æƒé™ä¸ºå…¬å…±è¯»ï¼Œè¿™æ ·blogæ‰èƒ½è¯»å–åˆ°Bucketä¸­çš„æ•°æ®ã€‚","link":"/2019/07/22/å¦‚ä½•åœ¨PicGoä¸­é…ç½®é˜¿é‡Œäº‘OSSä½œä¸ºåšå®¢å›¾åºŠ/"},{"title":"Vueå¼€å‘æŠ€å·§ä¹‹è·¯ç”±","text":"Vueæ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨åˆ°çš„å°æŠ€å·§ï¼šè·¯ç”±ç›‘å¬ã€è·¯ç”±æ‡’åŠ è½½ è·¯ç”±ç›‘å¬åœ¨æŸä¸ªåœºæ™¯ä¸­ï¼Œvue-routerä»/post-page/aè·³è½¬åˆ°/post-page/båï¼Œæˆ‘ä»¬æƒŠäººåœ°å‘ç°ï¼Œé¡µé¢è·³è½¬åæ•°æ®ç«Ÿç„¶æ²¡æ›´æ–°ï¼Ÿï¼åŸå› æ˜¯vue-router è®¤ä¸ºè¿™æ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œç„¶åå®ƒå°±å†³å®šè¦å¤ç”¨è¿™ä¸ªç»„ä»¶ï¼Œæ‰€ä»¥ä½ åœ¨ created é‡Œçš„æ–¹æ³•ä¸ä¼šæ‰§è¡Œã€‚ é€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯ç›‘å¬ $route çš„å˜åŒ–æ¥åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223data() { return { loading: false, error: null, post: null }},watch: { // ä½¿ç”¨watchæ¥ç›‘æ§æ˜¯å¦æ˜¯åŒä¸€ä¸ªè·¯ç”± &apos;$route&apos;: { handler: &apos;resetData&apos;, immediate: true }},methods: { resetData() { this.loading = false this.error = null this.post = null this.getPost(this.$route.params.id) }, getPost(id){ }} ä¼˜åŒ–æ–¹æ³•ä¸€ä¸ºäº†å®ç°è¿™æ ·çš„æ•ˆæœæˆ‘ä»¬è¿˜å¯ä»¥ç»™ router-view æ·»åŠ ä¸€ä¸ªä¸åŒçš„ key ï¼Œè¿™æ ·å³ä½¿æ˜¯å…¬ç”¨ç»„ä»¶ï¼Œåªè¦ url å˜åŒ–äº†ï¼Œå°±ä¸€å®šä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ 1&lt;router-view :key=&quot;$route.fullpath&quot;&gt;&lt;/router-view&gt; è¿˜å¯ä»¥åœ¨å…¶åæ·»åŠ æ—¶é—´æˆ³ï¼Œä¿è¯ç‹¬ä¸€æ— äºŒï¼š 1&lt;router-view :key=&quot;$route.fullpath + Date.now()&quot;&gt;&lt;/router-view&gt; æ–¹æ³•äºŒå¦‚æœç»„ä»¶è¢«æ”¾åœ¨ &lt;keep-alive&gt; ä¸­çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨activatedã€‚ æŠŠéœ€è¦æ‰§è¡Œçš„æ–¹æ³•æ”¾åœ¨ activated é’©å­ï¼Œå°±ä¼šé‡æ–°æ‰§è¡Œæ“ä½œã€‚ è·¯ç”±æ‡’åŠ è½½ä¸€èˆ¬æˆ‘ä»¬åœ¨è·¯ç”±ä¸­å®šä¹‰ç»„ä»¶ä¸ºï¼š 123456789import Login from &apos;@/views/login.vue&apos;;export default new Router({ routes: [{ path: &apos;/login&apos;, name: &apos;ç™»é™†&apos;, component: Login }]}) å¦‚ä½•æ‡’åŠ è½½æ ¹æ® Vue çš„å¼‚æ­¥ç»„ä»¶å’Œ Webpack çš„ä»£ç åˆ†å‰²åŠŸèƒ½å¯ä»¥è½»æ¾å®ç°ç»„ä»¶çš„æ‡’åŠ è½½ï¼Œå¦‚ï¼š 1const Foo = () =&gt; import(&apos;./Foo.vue&apos;) æ‰€ä»¥å½“éœ€è¦æ‡’åŠ è½½ lazy-loading çš„æ—¶å€™ï¼ŒæŠŠ routes ä¸­çš„ component æ”¹ä¸º ()=&gt;import('@/views/login.vue')å³å¯ã€‚ åŒºåˆ†ç”Ÿäº§/å¼€å‘ç¯å¢ƒå½“ä½ çš„é¡¹ç›®é¡µé¢è¶Šæ¥è¶Šå¤šä¹‹åï¼Œåœ¨å¼€å‘ç¯å¢ƒä¹‹ä¸­ä½¿ç”¨ lazy-loading ä¼šå˜å¾—ä¸å¤ªåˆé€‚ï¼Œæ¯æ¬¡æ›´æ”¹ä»£ç è§¦å‘çƒ­æ›´æ–°éƒ½ä¼šå˜å¾—éå¸¸çš„æ…¢ã€‚æ‰€ä»¥å»ºè®®åªåœ¨ç”Ÿæˆç¯å¢ƒä¹‹ä¸­ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½åŠŸèƒ½ã€‚ ä¼˜åŒ–åœ¨è·¯ç”±æ–‡ä»¶å¤¹ä¸‹åˆ†åˆ«æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œ_import_production.jså’Œ_import_development.jsï¼š 123// _import_production.jsmodule.exports = file =&gt; () =&gt; import('@/views/' + file + '.vue') 123// _import_development.js (è¿™ç§å†™æ³• `vue-loader`ç‰ˆæœ¬è‡³å°‘v13.0.0ä»¥ä¸Š)module.exports = file =&gt; require('@/views/' + file + '.vue').default ç„¶ååœ¨è·¯ç”±å…¥å£æ–‡ä»¶ router/index.js ä¸­æ·»åŠ ï¼š 12345678910// å…³é”®çš„process.env.NODE_ENVconst _import = require('./_import_' + process.env.NODE_ENV);export default new Router({ routes: [{ path: '/login', name: 'ç™»é™†', component: _import('login/index') }]}); å…¶å®æ€è·¯å°±æ˜¯ï¼š é€šè¿‡process.env.NODE_ENVåˆ¤æ–­ç”Ÿäº§/å¼€å‘ç¯å¢ƒï¼Œå¼•å…¥ä¸åŒæ–‡ä»¶ åˆ›å»ºå•ç‹¬çš„å¤„ç†æ–‡ä»¶ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå°±æ‡’åŠ è½½å¼‚æ­¥è°ƒç”¨ï¼Œå¼€å‘ç¯å¢ƒå°±ç›´æ¥è°ƒç”¨ ä¼ å…¥ç»„ä»¶çš„è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œä¾‹å­ä¸­æ˜¯'login/index' è¿™æ ·ç»„ä»¶åœ¨å¼€å‘ç¯å¢ƒä¸‹å°±æ˜¯éæ‡’åŠ è½½ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹å°±æ˜¯æ‡’åŠ è½½çš„äº†ã€‚","link":"/2019/07/26/Vueå¼€å‘æŠ€å·§ä¹‹è·¯ç”±/"},{"title":"æé«˜ç¼–ç æ•ˆç‡çš„VSCodeå¿«æ·é”®","text":"VSCodeå¿«æ·é”®å¢å¤§å…‰æ ‡æ¥æ‰¹é‡ä¿®æ”¹è¿™ä¸ªæ–¹æ³•è¶…çº§æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯åœ¨æ‰¹é‡æ·»åŠ JSONæ•°æ®çš„æ—¶å€™ Ctrl + Alt + ä¸Š/ä¸‹ç®­å¤´ï¼Œæ¥å¢å¤§å…‰æ ‡æ§åˆ¶èŒƒå›´ Ctrl + å³ç®­å¤´ï¼Œè°ƒæ•´å…‰æ ‡åˆ°éœ€è¦æ’å…¥æ–‡æœ¬çš„ä½ç½® è¾“å…¥éœ€è¦æ’å…¥çš„æ–‡æœ¬ åˆ é™¤ä¸Šä¸€ä¸ªå•è¯Ctrl + Backspaceï¼Œå¿…é¡»æ˜¯å…‰æ ‡åœ¨å•è¯çš„æœ«å°¾ç”¨ï¼Œå½“å…‰æ ‡åœ¨å•è¯ä¸­é—´æ—¶æ— æ•ˆã€‚ åˆ é™¤ä¸€æ•´è¡Œ Ctrl + Shift + Kï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨å¿«é€Ÿå‰ªåˆ‡ä¸€æ•´è¡Œçš„æ–¹æ³• é€ä¸ªé€‰æ‹©æ–‡æœ¬Ctrl + Shift + å·¦/å³ç®­å¤´ï¼Œå¯ä»¥ä¾å•è¯ä¸ºå•ä½å¿«é€Ÿé€‰æ‹©æ–‡æœ¬ã€‚ å¿«é€Ÿå‰ªåˆ‡ä¸€æ•´è¡ŒCtrl + Xï¼Œå¯ä»¥å¿«é€Ÿå‰ªåˆ‡å…‰æ ‡æ‰€åœ¨è¡Œã€‚ æ³¨æ„ï¼šå…‰æ ‡ä¸èƒ½é€‰ä¸­æ–‡æœ¬ï¼Œä¸ç„¶å°±æ˜¯å‰ªåˆ‡æ‰€é€‰ä¸­çš„æ–‡æœ¬ã€‚ å¿«é€Ÿå¤åˆ¶ä¸€æ•´è¡Œ Shift + Alt + ä¸Š/ä¸‹ç®­å¤´ï¼Œå¯ä»¥å¿«é€Ÿå¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„ä¸€æ•´è¡Œæ–‡æœ¬è‡³ä¸‹ä¸€è¡Œã€‚ ç§»è‡³æ–‡ä»¶å¤´/å°¾Ctrl + Homeå…‰æ ‡å¿«é€Ÿç§»è‡³æ–‡ä»¶å¤´ Ctrl + Endå…‰æ ‡å¿«é€Ÿç§»è‡³æ–‡ä»¶å°¾ æ‰¹é‡æ›¿æ¢å½“å‰é€‰ä¸­æ–‡æœ¬ä»¥å‰çš„æ“ä½œæ˜¯å…ˆCtrl + FæŸ¥æ‰¾ï¼Œå†æ‰¹é‡æ›¿æ¢ã€‚ ç°åœ¨å¯ä»¥å¿«é€Ÿæ“ä½œï¼š åŒå‡»é€‰ä¸­éœ€è¦æ›¿æ¢çš„æ–‡æœ¬ æŒ‰ä¸‹å¿«æ·é”®Ctrl + F2ï¼ˆæ³¨æ„ç¼–è¾‘å™¨å³ä¸Šè§’ä¼šå‡ºç°Optionsï¼‰ è¾“å…¥æ–°çš„æ–‡æœ¬ æ­¤æ–¹æ³•ä¼šæ›¿æ¢å½“å‰æ–‡ä»¶ä¸­ç¬¬ä¸€æ­¥é€‰ä¸­çš„æ‰€æœ‰æ–‡æœ¬ è°ƒæ•´å½“å‰è¡Œçš„ä½ç½®Alt + ä¸Š/ä¸‹ç®­å¤´ï¼Œå¯ä»¥å¿«é€Ÿä¸Šç§»/ä¸‹ç§»å½“å‰è¡Œã€‚ ç»ˆç«¯Ctrl + åå•å¼•å·ï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€/å…³é—­Terminalã€‚ æ‰“å¼€åŒ¹é…çš„æ–‡ä»¶Ctrl + Tï¼Œæœç´¢åˆ°åŒ¹é…çš„æ–‡ä»¶åå¯ä»¥å¿«é€Ÿæ‰“å¼€ã€‚ é‡æ–°æ‰“å¼€å…³é—­çš„æ ‡ç­¾é¡µCtrl + Shift + T è°ƒæ•´å½“å‰æ ‡ç­¾é¡µçš„ä½ç½®Ctrl + Shift + PgUp/PgDnï¼Œå¯ä»¥è®©ç¼–è¾‘å™¨æ ‡ç­¾é¡µå¿«é€Ÿå·¦/å³ç§»åŠ¨ã€‚ å·¦å³åˆ‡æ¢æ ‡ç­¾é¡µCtrl + PgUp/PgDnï¼Œå¯ä»¥å¿«é€Ÿåˆ‡æ¢åˆ°å·¦è¾¹/å³è¾¹çš„æ ‡ç­¾ã€‚ ä¸¤ä¸ªæ ‡ç­¾é¡µæ¥å›åˆ‡æ¢Ctrl + Tabï¼Œå¦‚æœCtrl + Tabä¹‹åæŒ‰ä½Ctrlä¸æ”¾ï¼Œå¯ä»¥ä½¿ç”¨Tabé€‰æ‹©æ–°çš„æ ‡ç­¾é¡µã€‚","link":"/2019/07/23/æé«˜ç¼–ç æ•ˆç‡çš„VSCodeå¿«æ·é”®/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„Chameleonç¬”è®°","text":"Chameleonæ¡†æ¶æ˜¯ç”±æ»´æ»´å¼€æºçš„å¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆ è§†å›¾å±‚ æ•°æ®å±•ç¤ºå±‚ï¼Œæ˜¯â€œèº«ä½“â€ CMSSå•ä½ä½¿ç”¨cpxï¼Œè§„æ ¼ä»¥å±å¹• 750pxè§†è§‰ç¨¿ä¸ºæ ‡å‡†ï¼Œä¸æ”¯æŒ% å¸ƒå±€é»˜è®¤flexå¸ƒå±€ï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¸ºå…ƒç´ æ·»åŠ display: flex;å±æ€§ï¼Œå‹¿ä½¿ç”¨float ç›’æ¨¡å‹box-sizingé»˜è®¤ä¸ºborder-boxï¼Œå³å®½åº¦åŒ…å«å†…å®¹ã€å†…è¾¹è·ç›’è¾¹æ¡† æ ·å¼classï¼šé™æ€ã€åŠ¨æ€ï¼ˆå‹¿ä¼ å¯¹è±¡ï¼‰å†…è”æ ·å¼ï¼š é™æ€ï¼š 1&lt;view style=&quot;border: 1px solid red&quot;&gt;&lt;/view&gt; åŠ¨æ€ï¼š 123456789101112&lt;template&gt; &lt;view style=&quot;{{inlineStyle}}&quot;&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt;class Index { data = { inlineStyle: &apos;border: 1px solid red;&apos; }}export default new Index();&lt;/script&gt; æ ·å¼å¤šæ€ï¼š 12345678910111213&lt;style lang=&quot;less&quot;&gt;@media cml-type (web) { @import &quot;./style1.less&quot;;}@media cml-type (weex) { @import &quot;./style2.less&quot;;}@media cml-type (wx,alipay,baidu) { @import &quot;./style3.less&quot;;}&lt;/style&gt; CMLç»„ä»¶å±æ€§ï¼š1&lt;view id=&quot;item-{{id}}&quot;&gt; &lt;/view&gt; è¿ç®—ï¼š12345678910111213141516&lt;view hidden=&quot;{{flag ? true : false}}&quot;&gt; &lt;text&gt;Hidden &lt;/text&gt; &lt;/view&gt;&lt;view&gt; &lt;text&gt;{{a + b}} + {{c}} + d &lt;/text&gt;&lt;/view&gt;&lt;view c-if=&quot;{{length &gt; 5}}&quot;&gt; &lt;/view&gt;class Index { data = { a: 1, b: 2, c: 3, }}export default new Index();//viewä¸­çš„å†…å®¹ä¸º 3 + 3 + d ä¸ºäº†æé«˜å¾®ä¿¡ç«¯çš„æ¸²æŸ“æ•ˆç‡ï¼Œåœ¨ç»„ä»¶ä¸ŠåŠ ä¸ŠshrinkComponentsï¼š 1&lt;component is=&quot;{{currentComp}}&quot; shrinkComponents=&quot;comp,comp1&quot;&gt;&lt;/component&gt; æŒ‡ä»¤ c-ifå¦‚æœc-iféœ€è¦åˆ¤æ–­å¤šä¸ªç»„ä»¶ï¼Œåˆ™ç”¨blockåŒ…èµ·æ¥ 1234&lt;block c-if=&quot;{{true}}&quot;&gt; &lt;view&gt; &lt;text&gt;view1 &lt;/text&gt;&lt;/view&gt; &lt;view&gt; &lt;text&gt;view2 &lt;/text&gt;&lt;/view&gt;&lt;/block&gt; c-for 1&lt;view c-for=&quot;{{array}}&quot; c-for-item=&quot;item&quot; c-for-index=&quot;index&quot; c-key=&quot;index&quot;&gt;&lt;/view&gt; äº‹ä»¶é»˜è®¤ç‚¹å‡»äº‹ä»¶c-bind:tap 12345&lt;view id=&quot;tapTest&quot; data-hi=&quot;WeChat&quot; c-bind:tap=&quot;tapName&quot;&gt;tapName() { typeof event.currentTarget.dataset.hi == &quot;WeChat&quot; // true} ç»„ä»¶é€šä¿¡è‡ªå®šä¹‰äº‹ä»¶åç§°ä¸èƒ½å­˜åœ¨å¤§å†™å­—æ¯çˆ¶ç»„ä»¶ï¼šc-bind:äº‹ä»¶å=â€œmethodsâ€å­ç»„ä»¶ï¼šthis.$cmlEmit(&quot;äº‹ä»¶åâ€, [å‚æ•°]) ï¼Œä¸vueçš„emitç±»ä¼¼ ç±»vueè¯­æ³•ä¸ºäº†é™ä½å­¦ä¹ æˆæœ¬ï¼Œç‹¬ç«‹æ”¯æŒäº†vueçš„æŒ‡ä»¤å­é›†ï¼Œä½ å¯ä»¥åœ¨æ¨¡æ¿æ·»åŠ ä¸€ä¸ªlangå±æ€§&lt;template lang=&quot;vue&quot;&gt;å³å¯ä½¿ç”¨ã€‚ æ³¨æ„å¿…é¡»åœ¨ç»„ä»¶æ ¹å…ƒç´ ä¸Š templateä¸ŠåŠ lang='vue' é€»è¾‘å±‚ ç”¨æˆ·æ“ä½œå±‚ï¼Œæ˜¯â€œçµé­‚â€ ç”Ÿå‘½å‘¨æœŸbeforeCreate å®ä¾‹åˆå§‹åŒ–å®Œæˆcreated æ•°æ®å’Œæ–¹æ³•æŒ‚è½½å®ŒæˆbeforeMount å¼€å§‹æŒ‚è½½å·²ç»ç¼–è¯‘å®Œæˆçš„cmlåˆ°å¯¹åº”èŠ‚ç‚¹mounted cmlæ¨¡æ¿ç¼–è¯‘å®Œæˆï¼Œä¸”æ¸²å·²å®ŒæˆDOMæŸ“åˆ°beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰destroyed å®ä¾‹é”€æ¯åš é…ç½® ç»„ä»¶é…ç½® 1234567891011121314151617181920212223&lt;script cml-type=&quot;json&quot;&gt;{ &quot;base&quot;:{ &quot;usingComponents&quot;: { //ä¸è¦åŒ…å«åç¼€å &quot;navi&quot;: &quot;/components/navi/navi&quot;, &quot;c-cell&quot;: &quot;/components/c-cell/c-cell&quot;, &quot;c-list&quot;: &quot;/components/c-list/c-list&quot;, &quot;navi-npm&quot;: &quot;cml-test-ui/navi/navi&quot; } }, &quot;wx&quot;: { &quot;navigationBarTitleText&quot;: &quot;index&quot;, &quot;backgroundTextStyle&quot;: &quot;dark&quot;, &quot;backgroundColor&quot;: &quot;#E2E2E2&quot;, &quot;component&quot;: true } &quot;web&quot;: { }, &quot;weex&quot;: { }}&lt;/script&gt; è·¯ç”±é…ç½® ç»„ä»¶åŸºç¡€å†…å®¹viewï¼ˆç±»divï¼‰, textï¼ˆç±»pï¼‰, pageï¼ˆå«titleBarçš„é¡µé¢å®¹å™¨ï¼Œåªåœ¨é¡µé¢ä½¿ç”¨ï¼‰ï¼Œblockï¼ˆå¤–å±‚åŒ…è£…ï¼‰, list/cellï¼ˆç±»listä¸‹çš„liï¼‰ å¸ƒå±€å®¹å™¨scrollerï¼ˆæ»‘åŠ¨å™¨ï¼‰ï¼Œcontainerï¼ˆç±»elementçš„containerï¼‰ï¼Œrow/colï¼ˆç±»elementçš„rowï¼‰ï¼Œcarouselï¼ˆèµ°é©¬ç¯ï¼‰ è¡¨å•å…ƒç´  button:open-type: getUserInfo, getPhoneNumber, openSetting input:typeè¾“å…¥æ¡†ç±»å‹: text, password, numberreturn-key-type: å³ä¸‹è§’å›è½¦é”®æ–‡å­— textarea: å’Œinputå·®ä¸å¤š switchå¼€å…³ï¼Œradioå•é€‰ï¼Œcheckboxï¼ˆå’Œradioæ–¹æ³•ä¸€è‡´ï¼‰","link":"/2019/07/19/å†™ç»™è‡ªå·±çœ‹çš„Chameleonç¬”è®°/"},{"title":"åœ¨LinuxæœåŠ¡å™¨ä¸‹é…ç½®nodeå’Œpm2","text":"Linuxé…ç½®Nodeå’Œpm2çš„ç¬”è®° Node è½¬åˆ°æ ¹ç›®å½•cd / ä¸‹è½½nodeåŒ…åˆ°æœåŠ¡å™¨ wget https://npm.taobao.org/mirrors/node/v6.10.3/node-v6.10.3-linux-x64.tar.xz æŠŠxzæ ¼å¼è§£å‹æˆtaræ ¼å¼ xz -d node-v6.10.3-linux-x64.tar.xz æˆ–è€… tar -xzvf node-v6.10.3-linux-x64.tar.xz æŠŠtaræ ¼å¼åŒ…è§£å‹æˆnodeæ–‡ä»¶å¤¹ tar -xvf node-v6.10.3-linux-x64.tar å»ºç«‹è½¯è¿æ¥link å»ºç«‹äº†è½¯è¿æ¥æ‰èƒ½å…¨å±€ä½¿ç”¨ 12ln -s /node-v6.10.3-linux-x64/bin/npm /usr/local/bin/npmln -s /node-v6.10.3-linux-x64/bin/node /usr/local/bin/node ä½¿ç”¨å®šåˆ¶çš„cnpm (gzip å‹ç¼©æ”¯æŒ) å‘½ä»¤è¡Œå·¥å…·ä»£æ›¿é»˜è®¤çš„npm $ npm install -g cnpm --registry=[https://registry.npm.taobao.org](https://registry.npm.taobao.org/) å»ºç«‹npmçš„è½¯è¿æ¥ ln -s /node-v6.10.3-linux-x64/bin/cnpm /usr/local/bin/cnpm PM2 å®‰è£…cnpm install pm2 -g è½¬åˆ°æ ¹ç›®å½•cd / å»ºç«‹è½¯è¿æ¥ ln -s /node-v6.10.3-linux-x64/bin/pm2 /usr/local/bin/pm2 pm2å¯åŠ¨nodeæ–‡ä»¶ pm2 start app.js æ˜¾ç¤ºæœåŠ¡åˆ—è¡¨ pm2 list é‡å¯æœåŠ¡ pm2 show &lt;id|nam&gt;","link":"/2019/07/24/åœ¨LinuxæœåŠ¡å™¨ä¸‹é…ç½®nodeå’Œpm2/"},{"title":"Vueå¼€å‘æŠ€å·§ä¹‹å…¨å±€æ³¨å†Œ","text":"Vueæ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨åˆ°çš„å°æŠ€å·§ï¼šå…¨å±€æ³¨å†Œè¿‡æ»¤å™¨ã€å…¨å±€æ³¨å†Œç»„ä»¶ å…¨å±€æ³¨å†Œè¿‡æ»¤å™¨å®˜æ–¹çš„æ–¹å¼ï¼š 1234567// æ³¨å†ŒVue.filter('my-filter', function(value) { // è¿”å›å¤„ç†åçš„å€¼});//getter è¿”å›å·²æ³¨å†Œçš„è¿‡æ»¤å™¨var maFilter = Vue.filter('my-filter'); ä¼˜åŒ–ç°åœ¨æ˜¯åˆ†æ•£å†™åˆ°äº†æ¯ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŠ½å‡ºåˆ°ç‹¬ç«‹æ–‡ä»¶ä¸­å•ç‹¬å¤„ç†ï¼Œç„¶åé€šè¿‡Object.keysåœ¨å…¥å£æ–‡ä»¶mian.jsç»Ÿä¸€æ³¨å†Œã€‚ 12345// src/common/filters.js// è¿‡æ»¤å™¨æ–¹æ³•let dateServer = value =&gt; value.replace(/(\\d{4})(\\d{2})(\\d{2})/g, '$1-$2-$3') export default { dateServer } 12345// src/main.jsimport filters from './common/filters.js'Object.keys(filters).forEach(key =&gt; Vue.filter(key, filters[key])) ç„¶åå°±å¯ä»¥åœ¨å…¨å±€çš„.vueæ–‡ä»¶ä¸­ä½¿ç”¨æ³¨å†Œå·çš„è¿‡æ»¤å™¨äº†ï¼š 12345678910111213141516&lt;template&gt; &lt;section&gt; &lt;!-- 2016-01-01 --&gt; &lt;p&gt;{{ time | dateServer }}&lt;/p&gt; &lt;/section&gt;&lt;/template&gt;&lt;script&gt; export default { data () { return { time: 20160101 } } }&lt;/script&gt; å…¨å±€æ³¨å†Œç»„ä»¶æˆ‘ä»¬å†™å¥½äº†ä¸€äº›å¸¸ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œæ¯æ¬¡ä½¿ç”¨çš„ä½¿ç”¨éƒ½éœ€è¦è¿›è¡Œä¸€äº›å¼•ç”¨ï¼š 12345678910111213&lt;template&gt; &lt;!-- 3.ä½¿ç”¨ --&gt; &lt;BaseComp&gt;&lt;/BaseComp&gt;&lt;/template&gt;&lt;script&gt; // 1.å¼•å…¥ import BaseComp from &apos;./base-comp&apos; export default { // 2.ç”³æ˜ components: { BaseComp } }&lt;/script&gt; ä¼˜åŒ–åœ¨componentsæ–‡ä»¶å¤¹æ·»åŠ ä¸€ä¸ªæ–‡ä»¶componentRegister.jsã€‚å€ŸåŠ©äº†webpackåŠ¨æ€æ‰“åŒ…èƒ½åŠ›ï¼Œå°†éœ€è¦çš„åŸºç¡€ç»„ä»¶ç»Ÿç»Ÿæ‰“åŒ…è¿›æ¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536// src/components/ componentRegister.jsimport Vue from 'vue'/** * é¦–å­—æ¯å¤§å†™ * @param str å­—ç¬¦ä¸² * @example heheHaha * @return {string} HeheHaha */function capitalizeFirstLetter(str) { return str.charAt(0).toUpperCase() + str.slice(1)}/** * å¯¹ç¬¦åˆ'xx/xx.vue'æ ¼å¼çš„ç»„ä»¶ï¼Œå–å…¶ç»„ä»¶å * @param str fileName * @example abc/bcd/def/basicTable.vue * @return {string} BasicTable */function validateFileName(str) { return /^\\S+\\.vue$/.test(str) &amp;&amp; str.replace(/^\\S+\\/(\\w+)\\.vue$/, (rs, $1) =&gt; capitalizeFirstLetter($1))}const requireComponent = require.context('./', true, /\\.vue$/)// æ‰¾åˆ°ç»„ä»¶æ–‡ä»¶å¤¹ä¸‹ä»¥.vueå‘½åçš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶åä¸ºindexï¼Œé‚£ä¹ˆå–ç»„ä»¶ä¸­çš„nameä½œä¸ºæ³¨å†Œçš„ç»„ä»¶årequireComponent.keys().forEach(filePath =&gt; { const componentConfig = requireComponent(filePath) const fileName = validateFileName(filePath) const componentName = fileName.toLowerCase() === 'index' ? capitalizeFirstLetter(componentConfig.default.name) : fileName Vue.component(componentName, componentConfig.default || componentConfig)}) æ–‡ä»¶ç»“æ„ï¼š BasicTableæ–‡ä»¶å¤¹é‡Œæœ‰BasicTable.vue MultiConditionæ–‡ä»¶å¤¹é‡Œæœ‰index.vue å•ç‹¬çš„æ³¨å†Œæ–‡ä»¶componentRegister.js 123456componentsâ”‚ componentRegister.jsâ”œâ”€BasicTableâ”‚ BasicTable.vueâ”œâ”€MultiConditionâ”‚ index.vue è¿™é‡Œå¯¹ç»„ä»¶ååšäº†åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ index çš„è¯å°±å–ç»„ä»¶ä¸­çš„ name å±æ€§çš„å¤„ç†ç»“æœä½œä¸ºæ³¨å†Œç»„ä»¶åï¼Œæ‰€ä»¥æœ€åæ³¨å†Œçš„ç»„ä»¶ä¸ºï¼šmulti-conditionã€ basic-tableã€‚ æœ€åæˆ‘ä»¬åœ¨å…¥å£æ–‡ä»¶ main.js ä¸­ import 'components/ componentRegister.js' ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥éšæ—¶éšåœ°ä½¿ç”¨è¿™äº›åŸºç¡€ç»„ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨å¼•å…¥äº†ã€‚","link":"/2019/07/25/Vueå¼€å‘æŠ€å·§ä¹‹å…¨å±€æ³¨å†Œ/"},{"title":"åœ¨Linuxä¸‹å®‰è£…MongoDB","text":"å‚è€ƒåœ°å€ï¼šlinuxidc å®‰è£…æ­¥éª¤ ä¸‹è½½ä½ çš„æœåŠ¡å™¨ç³»ç»Ÿç‰ˆæœ¬çš„mongodbï¼Œè¿™é‡Œæ˜¯mongodb-linux-x86_64-3.4.9.tgz ä¼ è¾“åˆ°æœåŠ¡å™¨ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨puttyçš„pscpä¼ è¾“ï¼ˆmacç”¨æˆ·ç›´æ¥åœ¨shellä½¿ç”¨scpä¼ è¾“ï¼‰ æ ¼å¼ä¸ºï¼š pscp.exe æ–‡ä»¶è·¯å¾„ æœåŠ¡å™¨ç™»å½•å@æœåŠ¡å™¨ip:ä¼ è¾“åˆ°çš„æœåŠ¡å™¨è·¯å¾„ å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š C:\\Program Files\\PuTTY&gt;pscp.exe d:/mongodb-linux-x86_64-3.4.9.tgz root@120.78.82.59:/ æˆ‘è¿™é‡Œæ˜¯ä¼ åˆ°äº†æ ¹ç›®å½•ï¼Œæ‰€ä»¥ç›´æ¥æ˜¯/ wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.4.9.tgz wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.4.9.tgz è§£å‹mongodbï¼š tar -zxvf mongodb-linux-x86_64-rhel70-3.4.9.tgz æ–°å»ºmongodbæ–‡ä»¶å¤¹ï¼š mkdir mongodb ç§»åŠ¨åˆšæ‰è§£å‹ç¼©å®Œçš„æ–‡ä»¶å¤¹åˆ°æ–°å»ºçš„mongodbç›®å½•ä¸‹ï¼š mv mongodb-linux-x86_64-rhel70-3.4.9 mongodb è¿›å…¥æ–°å»ºçš„mongodbç›®å½•ä¸‹ï¼Œæ–°å»º3ä¸ªæ–‡ä»¶å¤¹ï¼š 1234cd mongodbmkdir datamkdir logsmkdir etc è¿›å…¥logsåˆ›å»º 12cd logstouch mongo.log è¿›å…¥etcåˆ›å»º 12345678910111213141516cd ..cd etc// è¿›å…¥vimç¼–è¾‘æ¨¡å¼vi mongo.conf// é”®å…¥ I è¿›å…¥ç¼–è¾‘æ¨¡å¼// è¾“å…¥ï¼šdbpath=/mongodb/datalogpath=/mongodb/logs/mongo.loglogappend=truejournal=truequiet=trueport=27017// å®ŒæˆåæŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼// å†è¾“å…¥ :wq ä¿å­˜é€€å‡ºï¼ˆæœ‰ä¸€ä¸ªå†’å·å“¦ï¼ï¼‰ å»ºmongodbè½¯è¿æ¥ 123cd /ln -s /mongodb/mongodb-linux-x86_64-rhel70-3.4.9/bin/mongo /usr/local/bin/mongoln -s /mongodb/mongodb-linux-x86_64-rhel70-3.4.9/bin/mongod /usr/local/bin/mongod æ‰“å¼€ç¬¬ä¸€ä¸ªputtyçª—å£ï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼ˆåœ¨æœåŠ¡å™¨sshä¸Šæ‰§è¡Œï¼‰ mongod -f /mongodb/etc/mongo.conf åŒå¼€ç¬¬äºŒä¸ªputtyçª—å£ï¼Œè¿æ¥æ•°æ®åº“ï¼Œè¾“å…¥ï¼šmongo æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥è¿›å…¥æ•°æ®åº“ï¼Œæˆ‘ä»¬æ’å…¥ä¸€æ¡æ•°æ®ï¼ˆmongodbçš„è¯­æ³•ï¼‰ï¼š db.goods.insert({ id:1000, name:test }) å†æ‰§è¡Œdb.goods.find()å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšæ‰æ’å…¥çš„æ•°æ®äº†ï¼Œä½†æ˜¯è¿™ç§åšæ³•æˆ‘ä»¬ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨å¯è§†åŒ–è½¯ä»¶robot 3t æ‰“å¼€ç¬¬ä¸‰ä¸ªputtyçª—å£ï¼Œæ‰§è¡Œï¼šnode imooc/server/bin/wwwï¼Œå¯ä»¥çœ‹åˆ°mongodb connected success å°†mongodbåŠ å…¥ç³»ç»Ÿè‡ªå¯åŠ¨ ç¼–è¾‘æ–‡ä»¶vi /etc/rc.loaclï¼Œåœ¨æœ€åº•éƒ¨è¾“å…¥ï¼š /mongodb/mongodb-linux-x86_64-rhel70-3.4.9/bin/mongod --dbpath=/mongodb/data --fork --port 27017 --logpath=/mongodb/logs/mongo.log --logappend --auth æ³¨æ„ï¼šæ­¤å¤„æœ‰ä¸€ä¸ªè¶…çº§å¤§å‘ï¼é˜¿é‡Œäº‘é»˜è®¤æ˜¯æ²¡æœ‰å¼€27017å’Œ3000ç«¯å£çš„ï¼Œæˆ‘ä¹‹å‰æœåŠ¡å™¨è™½ç„¶é…ç½®æˆåŠŸäº†ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨ä¸­å´ä¸€ç›´æ— æ³•è®¿é—®ã€‚ æ“ä½œæ–¹æ³•ï¼š é˜¿é‡Œäº‘æ§åˆ¶å°--äº‘è®¡ç®—åŸºç¡€æœåŠ¡--äº‘æœåŠ¡å™¨CES--ç½‘ç»œå®‰å…¨ï¼ˆå®‰å…¨ç»„ï¼‰--é€‰åˆ°ä½ çš„æœåŠ¡å™¨æ‰€åœ¨å®‰å…¨ç»„åˆ—è¡¨--ç®¡ç†å®ä¾‹ ç„¶åæ·»åŠ 27017å’Œ3000ç«¯å£å³å¯ï¼š","link":"/2019/07/30/åœ¨Linuxä¸‹å®‰è£…MongoDB/"},{"title":"äº‹ä»¶å§”æ‰˜çš„åŸç†åŠä½œç”¨","text":"äº‹ä»¶å§”æ‰˜çš„ä¼˜ç‚¹ æé«˜äº†æ€§èƒ½ï¼ˆå‡å°‘äº†DOMæ“ä½œï¼‰ï¼š å‡å°‘äº†äº‹ä»¶ç»‘å®šå…ƒç´ ï¼Œåªéœ€è¦ç»™çˆ¶å…ƒç´ æˆ–ç¥–å…ˆå…ƒç´ è®¾ç«‹ç›‘å¬å‡½æ•°. å‡å°‘äº†ç›‘å¬å‡½æ•°ï¼Œåªéœ€ä¸€ä¸ªäº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œæ‰€å ç”¨çš„å†…å­˜ç©ºé—´æ›´å°‘ã€‚ åŠ¨æ€ç›‘å¬ï¼šä½¿ç”¨äº‹ä»¶å§”æ‰˜å¯ä»¥è‡ªåŠ¨ç»‘å®šæ–°æ·»åŠ çš„å…ƒç´ ï¼Œå³æ–°å¢çš„èŠ‚ç‚¹ä¸éœ€è¦ä¸»åŠ¨æ·»åŠ ä¹Ÿå¯ä»¥ä¸€æ ·å…·æœ‰å’Œå…¶ä»–å…ƒç´ ä¸€æ ·çš„äº‹ä»¶ã€‚ æ³¨å†Œå¤šä¸ªäº‹ä»¶onclickå®ç°ä»¥å¾€æ³¨å†Œå¤šä¸ªäº‹ä»¶ï¼ˆonclickï¼‰ï¼Œåæ³¨å†Œçš„äº‹ä»¶ä¼šè¦†ç›–å…ˆæ³¨å†Œçš„äº‹ä»¶ï¼š 123456789101112131415//index.html&lt;div id=\"div1\"&gt;&lt;/div&gt;&lt;script&gt;window.onload = function(){ let div1 = document.getElementById('div1'); div1.onclick = function(){ console.log('æ‰“å°ç¬¬ä¸€æ¬¡') } div1.onclick = function(){ console.log('æ‰“å°ç¬¬äºŒæ¬¡') }}&lt;/script&gt; å¦‚ä¸Šå›¾ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬äºŒä¸ªç‚¹å‡»æ³¨å†Œäº‹ä»¶è¦†ç›–äº†ç¬¬ä¸€ä¸ªæ³¨å†Œäº‹ä»¶ï¼Œåªæ‰§è¡Œäº†ç¬¬äºŒæ¬¡æ³¨å†Œäº‹ä»¶ã€‚ addEventListenerå®ç°è¯­æ³•ï¼šaddEventListener(type, listener[, useCapture]) typeï¼šã€å¿…é¡»ã€‘stringç±»å‹ï¼Œäº‹ä»¶ç±»å‹ listenerï¼šã€å¿…é¡»ã€‘æ·»åŠ çš„ç›‘å¬å‡½æ•° useCaptureï¼šã€å¯é€‰ã€‘booleanç±»å‹ï¼ŒæŒ‡å®šäº‹ä»¶æ˜¯å¦å‘ç”Ÿåœ¨æ•è·é˜¶æ®µã€‚ é»˜è®¤ä¸ºfalseï¼Œäº‹ä»¶å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ 123456789101112131415//index.html&lt;div id=\"div1\"&gt;&lt;/div&gt;&lt;script&gt;window.onload = function(){ let div1 = document.getElementById('div1'); div1.addEventListener('click',function(){ console.log('æ‰“å°ç¬¬ä¸€æ¬¡') }) div1.addEventListener('click',function(){ console.log('æ‰“å°ç¬¬äºŒæ¬¡') })}&lt;/script&gt; å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ³¨å†Œäº‹ä»¶éƒ½æˆåŠŸè§¦å‘äº†ã€‚ useCaptureæ˜¯äº‹ä»¶å§”æ‰˜çš„å…³é”®,æˆ‘ä»¬åé¢è¯¦è§£ã€‚ æ•è·å’Œå†’æ³¡ äº‹ä»¶æ•è·å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘åï¼Œä»Windowå¯¹è±¡è§¦å‘ï¼Œä¸æ–­ç»è¿‡ä¸‹çº§èŠ‚ç‚¹ï¼Œç›´åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚åœ¨äº‹ä»¶åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹ä¹‹å‰çš„è¿‡ç¨‹å°±æ˜¯æ•è·é˜¶æ®µã€‚æ‰€æœ‰ç»è¿‡çš„èŠ‚ç‚¹éƒ½ä¼šè§¦å‘å¯¹åº”çš„äº‹ä»¶ã€‚ äº‹ä»¶å†’æ³¡å½“äº‹ä»¶åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹åï¼Œä¼šæ²¿ç€æ•è·é˜¶æ®µçš„è·¯çº¿åŸè·¯è¿”å›ã€‚åŒæ ·ï¼Œæ‰€æœ‰ç»è¿‡çš„èŠ‚ç‚¹ï¼Œéƒ½ä¼šè§¦å‘å¯¹åº”çš„äº‹ä»¶ã€‚ å‡è®¾æœ‰bodyå’ŒbodyèŠ‚ç‚¹ä¸‹çš„div1å‡æœ‰ç»‘å®šäº†ä¸€ä¸ªæ³¨å†Œäº‹ä»¶ï¼š å½“ä¸ºäº‹ä»¶æ•è·(useCapture:true)æ—¶ï¼Œå…ˆæ‰§è¡Œbodyçš„äº‹ä»¶ï¼Œå†æ‰§è¡Œdivçš„äº‹ä»¶ 123456789101112131415161718&lt;body&gt; &lt;div id=\"div1\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt;window.onload = function(){ let body = document.querySelector('body'); let div1 = document.getElementById('div1'); body.addEventListener('click',function(){ console.log('æ‰“å°body') }) div1.addEventListener('click',function(){ console.log('æ‰“å°div1') })}&lt;/script&gt;//ç»“æœï¼šæ‰“å°div1ï¼Œæ‰“å°body å½“ä¸ºäº‹ä»¶å†’æ³¡(useCapture:false)æ—¶ï¼Œå…ˆæ‰§è¡Œdivçš„äº‹ä»¶ï¼Œå†æ‰§è¡Œbodyçš„äº‹ä»¶ 123456789101112131415161718&lt;body&gt; &lt;div id=\"div1\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;script&gt;window.onload = function(){ let body = document.querySelector('body'); let div1 = document.getElementById('div1'); body.addEventListener('click',function(){ console.log('æ‰“å°body') },true) div1.addEventListener('click',function(){ console.log('æ‰“å°div1') })}&lt;/script&gt;//ç»“æœï¼šæ‰“å°bodyï¼Œæ‰“å°div1 ä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„ä¾‹å­12345678910111213141516171819202122&lt;script&gt; window.onload = function(){ let div = document.getElementById('div'); div.addEventListener('click',function(e){ console.log(e.target) }) let div3 = document.createElement('div'); div3.setAttribute('class','div3') div3.innerHTML = 'div3'; div.appendChild(div3) }&lt;/script&gt;&lt;body&gt; &lt;div id=\"div\"&gt; &lt;div class=\"div1\"&gt;div1&lt;/div&gt; &lt;div class=\"div2\"&gt;div2&lt;/div&gt; &lt;/div&gt;&lt;/body&gt; è™½ç„¶æ²¡æœ‰åœ¨äº‹ä»¶å‘ç”Ÿåœ°ï¼ˆdiv1å’Œdiv2ï¼‰è®¾ç«‹ç›‘å¬å‡½æ•°ï¼Œä½†æ˜¯æ— è®ºæ˜¯ç‚¹å‡»div1è¿˜æ˜¯div2ï¼Œéƒ½ä¼šæ‰“å°å½“å‰èŠ‚ç‚¹ã€‚å› ä¸ºå…¶çˆ¶çº§ç»‘å®šäº†ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»div1åå†’æ³¡ä¸Šå»çš„æ—¶å€™ï¼Œæ‰§è¡Œçˆ¶çº§çš„äº‹ä»¶ã€‚ åˆ†åˆ«ç‚¹å‡»div1ã€div2ã€div3ï¼š è¿™æ ·æ— è®ºåä»£æ–°å¢äº†å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œä¸€æ ·å…·æœ‰è¿™ä¸ªç‚¹å‡»äº‹ä»¶çš„åŠŸèƒ½ã€‚è¿™å°±æ˜¯åˆ©ç”¨äº†äº‹ä»¶å†’æ³¡çš„ç‰¹æ€§æ¥å®ç°äº†äº‹ä»¶å§”æ‰˜ã€‚","link":"/2019/07/29/äº‹ä»¶å§”æ‰˜çš„åŸç†åŠä½œç”¨/"},{"title":"åœ¨Windowsä¸‹å®‰è£…MongoDB","text":"å‚è€ƒåœ°å€ï¼šæ²³ç•”ä¸€è§’ ä¸‹è½½ä¸‹è½½åœ°å€ï¼Œä¸‹è½½ååŒå‡»å®‰è£…å³å¯ï¼Œæ‰€åœ¨ç›®å½•åœ¨C:\\Program Files\\MongoDB\\ã€‚ é…ç½® åœ¨c:\\MongoDBï¼ˆå¯éšæ„èµ·ï¼‰ä¸‹é¢å»ºä¸€ä¸ªdataæ–‡ä»¶å¤¹c:\\MongoDB\\data åœ¨c:\\MongoDBä¸‹é¢å»ºä¸€ä¸ªlogsæ–‡ä»¶å¤¹c:\\MongoDB\\logsï¼Œåœ¨é‡Œé¢å»ºä¸€ä¸ªæ–‡ä»¶mongo.log åœ¨c:\\MongoDBä¸‹é¢å»ºä¸€ä¸ªetcæ–‡ä»¶å¤¹ï¼ˆéšæ„èµ·ï¼Œæ”¾é…ç½®æ–‡ä»¶ï¼‰c:\\MongoDB\\etc ï¼Œåœ¨é‡Œé¢å»ºä¸€ä¸ªæ–‡ä»¶mongo.conf æ‰“å¼€mongo.confæ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š 1234567891011121314#æ•°æ®åº“è·¯å¾„dbpath=c:\\MongoDB\\data\\#æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„logpath=c:\\MongoDB\\logs\\mongodb.log#é”™è¯¯æ—¥å¿—é‡‡ç”¨è¿½åŠ æ¨¡å¼ï¼Œé…ç½®è¿™ä¸ªé€‰é¡¹åmongodbçš„æ—¥å¿—ä¼šè¿½åŠ åˆ°ç°æœ‰çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä»æ–°åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶logappend=true#å¯ç”¨æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤å¯ç”¨journal=true#è¿™ä¸ªé€‰é¡¹å¯ä»¥è¿‡æ»¤æ‰ä¸€äº›æ— ç”¨çš„æ—¥å¿—ä¿¡æ¯ï¼Œè‹¥éœ€è¦è°ƒè¯•ä½¿ç”¨è¯·è®¾ç½®ä¸ºfalsequiet=false#ç«¯å£å· é»˜è®¤ä¸º27017port=27017#æŒ‡å®šå­˜å‚¨å¼•æ“ï¼ˆé»˜è®¤å…ˆä¸åŠ æ­¤å¼•æ“ï¼Œå¦‚æœæŠ¥é”™äº†ï¼Œå¤§å®¶åœ¨åŠ è¿›å»ï¼‰storageEngine=mmapv1 æ³¨æ„ï¼šåœ¨ä¸Šé¢ï¼Œæˆ‘æŒ‡å®šäº†ä¸€ä¸ªå­˜å‚¨å¼•æ“ï¼Œè¿™ä¸ªé€šå¸¸æ˜¯ä¸éœ€è¦çš„ï¼Œä½†æ˜¯ï¼Œæˆ‘çš„ç”µè„‘æŠ¥é”™storage engine 'wiredTiger'ï¼ŒæŸ¥æ‰¾åšå®¢åï¼Œéœ€è¦æ·»åŠ æŒ‡å®šå¼•æ“ä¸ºï¼šstorageEngine=mmapv1ã€‚å¦‚æœå¤§å®¶æ˜¯win 64ä½ï¼Œåˆ™å¯èƒ½ä¸éœ€è¦æŒ‡å®šï¼Œå¦‚æœæ˜¯å…¶å®ƒå¹³å°ï¼Œæ¯”å¦‚linuxå¹³å°æˆ–è€…osxå¹³å°ï¼Œå¯èƒ½ä¹Ÿä¸éœ€è¦æŒ‡å®šã€‚ å®Œæˆä»¥ä¸Šæ“ä½œåï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨æˆ‘ä»¬çš„mongoæ•°æ®åº“äº†ã€‚ å¤‡æ³¨ï¼š ä»¥ä¸Šæ˜¯é€šè¿‡é…ç½®çš„å½¢å¼ï¼Œæ¥å¯åŠ¨æˆ‘ä»¬çš„MongoDBï¼Œä¹Ÿå¯ä»¥æŠŠå‚æ•°ç›´æ¥åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼ é€’è¿›å»å¦‚ä¸‹ï¼š mongod --dbpath c:\\MongoDB\\data --logpath c:\\MongoDB\\log\\mongo.log --journal åœ¨å‘½ä»¤è¡Œä¸­å¯åŠ¨mongo ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdã€‚ è¿›å…¥åˆ°å®‰è£…çš„mongoæ–‡ä»¶å¤¹ä¸­ï¼Œä¸€ç›´è¿›å…¥åˆ°binç›®å½•ï¼ˆå­˜æ”¾å‘½ä»¤çš„ç›®å½•ï¼Œé‡Œé¢æœ‰mongod.exeï¼‰ã€‚ å…ˆç®€å•å¯åŠ¨ä¸€ä¸‹mongoï¼ˆè¿™ç§æ–¹å¼æ˜¯é€šè¿‡å‘½ä»¤çš„å½¢å¼ï¼ŒåŒæ—¶æŠŠå‚æ•°ä¼ è¿›å»ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å¯åŠ¨æˆ‘ä»¬ä¸Šé¢é‚£ä¸ªé…ç½®æ–‡ä»¶å°±å¯ä»¥äº†ï¼‰ï¼Œæ‰§è¡Œï¼š mongod --dbpath c:\\MongoDB\\data çœ‹åˆ°waiting for connections on port 27017ç­‰ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ã€‚ çœ‹åˆ°æ­¤å›¾ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸã€‚ å†æ¬¡æ‰“å¼€å‘½ä»¤è¡Œï¼Œç„¶åè¿›å…¥åˆ°mongoçš„binç›®å½•ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥éœ€è¦è¿›åˆ°binä¸‹é¢æ‰§è¡Œï¼‰ï¼Œè¾“å…¥mongoåå›è½¦ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå·²ç»è¿›å…¥åˆ°äº†mongoçš„å‘½ä»¤ä¸­ï¼Œç°åœ¨å°±å¯ä»¥é€šè¿‡mongoçš„å‘½ä»¤è¿›è¡Œä¸€ç³»åˆ—å…³äºæ•°æ®åº“çš„æ“ä½œäº†ã€‚ é…ç½®mongoåˆ°WindowsæœåŠ¡ä¸­ è¿›å…¥åˆ°mongodbçš„å®‰è£…ç›®å½•ä¸‹é¢çš„binç›®å½•ä¸­ï¼š cd c:\\Program Files\\MongoDB\\Server\\3.2\\bin&gt; è¾“å…¥å‘½ä»¤ï¼Œå¯åŠ¨mongoï¼š mongod --config c:\\MongoDB\\etc\\mongo.conf --install --serviceName &quot;MongoDB&quot; å®‰è£…æˆåŠŸåï¼Œæ‰“å¼€windowæœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é‡Œé¢å·²ç»å®‰è£…äº†MongoDBï¼š ä¸‹æ¬¡æˆ‘ä»¬ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å¯åŠ¨æœåŠ¡å³å¯ï¼Œå¦‚æœå¤§å®¶ä¸å®‰è£…æ­¤æœåŠ¡ä¹Ÿå¯ä»¥ï¼Œæ¯æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œæ‰‹åŠ¨è¿›å…¥åˆ°å®‰è£…ç›®å½•é‡Œé¢ï¼Œè¾“å…¥å‘½ä»¤å¯åŠ¨ï¼Œä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ã€‚ åˆ é™¤æœåŠ¡å‘½ä»¤ï¼šmongod --config c:\\MongoDB\\etc\\mongo.conf --removeï¼Œç„¶ååœ¨æœåŠ¡é‡Œé¢åˆ·æ–°ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°å·²ç»åˆ æ‰äº†ã€‚ å¦å¤–å¦‚æœä¸æƒ³è¿›å…¥åˆ°å®‰è£…ç›®å½•ï¼Œå¯ä»¥é…ç½®ä¸€ä¸‹Mongoçš„ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡è¿›å…¥åˆ°å®‰è£…ç›®å½•å¯åŠ¨äº†ï¼Œæ‰“å¼€pathï¼Œåœ¨é‡Œé¢è¾“å…¥ï¼š ;C:\\Program Files\\MongoDB\\Server\\3.2\\bin ï¼ˆæ³¨æ„ï¼Œå‰é¢æœ‰ä¸ªåˆ†å·ï¼‰ åˆ°æ­¤ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸå®‰è£…MongoDBã€‚","link":"/2019/07/31/åœ¨Windowsä¸‹å®‰è£…MongoDB/"},{"title":"GitHubè®¾ç½®æ·»åŠ SSH","text":"åœ¨æ­å»ºHexoåšå®¢çš„æ—¶å€™ä¹Ÿä¼šéœ€è¦é…ç½®SSH HTTPSå’ŒSSHçš„åŒºåˆ« æˆ‘ä»¬å¯ä»¥åœ¨githubä¸Šå¯ä»¥ä½¿ç”¨HTTPSéšæ„cloneåˆ«äººçš„é¡¹ç›®; è€Œä½¿ç”¨SSHæ¥cloneçš„è¯ä½ å¿…é¡»æ˜¯è¦å…‹éš†çš„é¡¹ç›®çš„æ‹¥æœ‰è€…æˆ–ç®¡ç†å‘˜ï¼Œä¸”å¿…é¡»å…ˆæ·»åŠ SSH keyï¼Œå¦åˆ™æ— æ³•æ“ä½œã€‚ HTTPSåœ¨pushçš„æ—¶å€™éœ€è¦éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼› è€Œä½¿ç”¨SSHæ¥pushçš„è¯ï¼Œæ˜¯ä¸ç”¨è¾“å…¥ç”¨æˆ·åçš„ï¼Œå¦‚æœé…ç½®SSH keyçš„æ—¶å€™è®¾ç½®äº†å¯†ç ï¼Œåˆ™éœ€è¦è¾“å…¥å¯†ç çš„ï¼Œå¦åˆ™è¿å¯†ç éƒ½ä¸éœ€è¦è¾“å…¥ã€‚ é…ç½®SSH å…ˆæ£€æŸ¥ä½ ç”µè„‘æ˜¯å¦å·²ç»æœ‰SSH key æ‰“å¼€git bashï¼Œè¾“å…¥ï¼š 12$ cd ~/.ssh$ ls è¿™æ˜¯åœ¨æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨id_rsa.pubæˆ–id_dsa.pubä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆä½ å¯ä»¥è·³è¿‡æ­¥éª¤2ï¼Œç›´æ¥è¿›å…¥æ­¥éª¤3ã€‚ åˆ›å»ºä¸€ä¸ªSSH key 1$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot; -t æŒ‡å®šå¯†é’¥ç±»å‹ï¼Œé»˜è®¤æ˜¯ rsa ï¼Œå¯ä»¥çœç•¥ã€‚ -C è®¾ç½®æ³¨é‡Šæ–‡å­—ï¼Œæ¯”å¦‚é‚®ç®±ã€‚ -f æŒ‡å®šå¯†é’¥æ–‡ä»¶å­˜å‚¨æ–‡ä»¶åã€‚ ä¸Šè¿°ä»£ç çœç•¥äº† -f å‚æ•°ï¼Œå› æ­¤ï¼Œè¿è¡Œä¸Šé¢é‚£æ¡å‘½ä»¤åä¼šè®©ä½ è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œç”¨äºä¿å­˜åˆšæ‰ç”Ÿæˆçš„ SSH key ä»£ç ï¼Œå¦‚ï¼š 12Generating public/private rsa key pair.# Enter file in which to save the key (/c/Users/you/.ssh/id_rsa): [Press enter] å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸è¾“å…¥æ–‡ä»¶åï¼Œä½¿ç”¨é»˜è®¤æ–‡ä»¶åï¼ˆæ¨èï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆ id_rsa å’Œ id_rsa.pub ä¸¤ä¸ªç§˜é’¥æ–‡ä»¶ã€‚ ç´§æ¥ç€åˆä¼šæç¤ºä½ è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼ˆè¯¥å¯†ç æ˜¯ä½ pushæ–‡ä»¶çš„æ—¶å€™è¦è¾“å…¥çš„å¯†ç ï¼Œè€Œä¸æ˜¯githubç®¡ç†è€…çš„å¯†ç ï¼‰ï¼ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸è¾“å…¥å¯†ç ï¼Œç›´æ¥æŒ‰å›è½¦ã€‚é‚£ä¹ˆpushçš„æ—¶å€™å°±ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œç›´æ¥æäº¤åˆ°githubä¸Šäº†ï¼ˆç”µè„‘ç§ç”¨çš„æ—¶å€™æ‰æ¯”è¾ƒå®‰å…¨ï¼‰ï¼Œå¦‚ï¼š 12Enter passphrase (empty for no passphrase): # Enter same passphrase again: æ¥ä¸‹æ¥ï¼Œå°±ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä»£ç æç¤ºï¼Œå¦‚ï¼š 1234Your identification has been saved in /c/Users/you/.ssh/id_rsa.# Your public key has been saved in /c/Users/you/.ssh/id_rsa.pub.# The key fingerprint is:# 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com å½“ä½ çœ‹åˆ°ä¸Šé¢è¿™æ®µä»£ç çš„æ”¶ï¼Œé‚£å°±è¯´æ˜ä½ çš„ SSH key å·²ç»åˆ›å»ºæˆåŠŸï¼Œä½ åªéœ€è¦æ·»åŠ åˆ°githubçš„SSH keyä¸Šå°±å¯ä»¥äº†ã€‚ æ·»åŠ SSH keyåˆ°github å…ˆæ‹·è´ id_rsa.pub æ–‡ä»¶çš„å†…å®¹ï¼Œä½ å¯ä»¥ç”¨ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶å¤åˆ¶ï¼Œä¹Ÿå¯ä»¥ç”¨gitå‘½ä»¤å¤åˆ¶è¯¥æ–‡ä»¶çš„å†…å®¹ï¼Œå¦‚ï¼š $ clip &lt; ~/.ssh/id_rsa.pub ç™»å½•ä½ çš„githubè´¦å·ï¼Œåœ¨è®¾ç½®ä¸­æ‰¾åˆ°SSH and GPG keys æ–°å»ºä¸€ä¸ªSSH key Titleå¯ä»¥è¿™æ¡SSH keyçš„ä½œç”¨ï¼Œé»˜è®¤æ˜¯é‚®ç®±; Keyå°±æ˜¯ç¬¬ä¸€æ­¥å¤åˆ¶id_rsa.pubçš„å†…å®¹ï¼Œä»£ç çš„å‰åä¸è¦ç•™æœ‰ç©ºæ ¼æˆ–è€…å›è½¦ã€‚ æµ‹è¯•ä¸€ä¸‹è¯¥SSH key åœ¨git bashä¸­è¾“å…¥ï¼š 1$ ssh -T git@github.com ç„¶åä¼šå‡ºç°ä¸€æ®µè­¦å‘Šä»£ç ï¼Œå¦‚ï¼š 123The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established.# RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.# Are you sure you want to continue connecting (yes/no)? è¿™æ˜¯æ­£å¸¸çš„ï¼ä½ è¾“å…¥ yes å›è½¦æ—¢å¯ã€‚å¦‚æœä½ åˆ›å»º SSH key çš„æ—¶å€™è®¾ç½®äº†å¯†ç ï¼Œæ¥ä¸‹æ¥å°±ä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼Œå¯†ç æ­£ç¡®åä½ ä¼šçœ‹åˆ°ä¸‹é¢è¿™æ®µè¯ï¼Œå¦‚ï¼š 12Hi username! You&apos;ve successfully authenticated, but GitHub does not# provide shell access. å¦‚æœç”¨æˆ·åä¹Ÿæ˜¯æ­£ç¡®çš„ï¼Œä½ å°±å·²ç»æˆåŠŸè®¾ç½®SSHå¯†é’¥ã€‚å¦‚æœä½ çœ‹åˆ° â€œaccess deniedâ€ ï¼Œè€…è¡¨ç¤ºæ‹’ç»è®¿é—®ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ä½¿ç”¨ HTTPS å»è®¿é—®ï¼Œè€Œä¸æ˜¯ SSH ã€‚","link":"/2019/08/01/GitHubè®¾ç½®æ·»åŠ SSH/"},{"title":"JSæ•°ç»„å»é‡çš„å‡ ç§æ–¹å¼","text":"åˆ©ç”¨sort()ï¼ŒSet()ç­‰æ–¹æ³•å®ç°JSæ•°ç»„å»é‡ sort()æ–¹æ³•å…ˆsort()æ’åºï¼Œå†å»é‡ 12345678910111213function select(arr){ arr.sort(); for(let i=0;i&lt;arr.length;i++){ if(arr[i]==arr[i+1]){ arr.splice(i,1); //éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œi--ï¼Œé¿å…å°‘æ¯”è¾ƒä¸€æ¬¡ i--; } } return arr;} Set()æ–¹æ³•ES6æä¾›äº†æ–°çš„æ•°æ®ç»“æ„Setï¼Œå®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯å®ƒçš„æ¯ä¸€é¡¹éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆåˆ©ç”¨Set()æ–¹æ³•å»é‡æ•°ç»„ï¼š console.log(new Set([2,3,1,2,3,4,5]) //2,3,1,4,5 å»é‡åçš„ç»“æœä¸ºä¸€ä¸ªç±»æ•°ç»„ï¼Œå¯ä»¥åˆ©ç”¨Array.fromæ–¹æ³•ï¼Œå°†ä¸€ä¸ªç±»æ•°ç»„è½¬æ¢æˆæ–°çš„æ•°ç»„å®ä¾‹ã€‚ å…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345function select(arr){ let s = new Set(arr); //å› ä¸ºSetåæ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦è½¬æ¢ return Array.from(s);} indexOf()æ–¹æ³•åˆ©ç”¨indexOf()æ–¹æ³•è¿”å›æŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè¿”å›å€¼ä¸º-1è¯´æ˜ä¸å­˜åœ¨ã€‚ 1234567891011function select(arr){ let arr2=[]; for(let i=0;i&lt;arr.length;i++){ if(arr2.indexOf(arr[i])==-1){ arr2.push(arr[i]); } } return arr2;} åˆ©ç”¨JSONå¯¹è±¡å±æ€§1234567891011121314function select(arr) { let arrr2 = []; let json = {}; for (let i = 0; i &lt; arr.length; i++) { //å»jsonå¯¹è±¡ä¸­è®¿é—®æŠ½å‡ºçš„æ•°ç»„å…ƒç´ ï¼Œå¦‚æœjsonå­˜åœ¨æ­¤å±æ€§ï¼Œåˆ™å­˜åœ¨è¯´æ˜æ•°ç»„é‡å¤ if (!json(arr[i])) { json(arr[i]) = true; arr2.push(arr[i]); } } return arr2;} åŒå±‚å¾ªç¯ï¼ˆåŸºç¡€ç‰ˆï¼‰12345678910function select(arr){ for(let i=0;i&lt;arr.length;i++){ for(let j=i+1;j&lt;arr.length;j++){ if(arr[i] == arr[j]){ arr.splice(j,1) } } } return arr;} åŒå±‚å¾ªç¯ï¼ˆè¿›é˜¶ç‰ˆï¼‰123456789101112function select(arr) { let arr2 = []; for (let i = 0; i &lt; arr.length; i++) { for (let j = i + 1; j &lt; arr.length; j++) { if (arr[i] == arr[j]) { j = ++i; } } arr2.push(arr[i]) } return arr2;};","link":"/2019/08/05/JSæ•°ç»„å»é‡çš„å‡ ç§æ–¹å¼/"},{"title":"å¦‚ä½•åœ¨é˜¿é‡Œäº‘éƒ¨ç½²ngnixæœåŠ¡å™¨","text":"åœ¨é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²Nginxçš„ç¬”è®° ç¯å¢ƒ centos 7.3 64ä½æ“ä½œç³»ç»Ÿ LINUXä¸€é”®webå®‰è£…åŒ…sh-1.5.5 ä¸€é”®å®‰è£…åŒ…åœ¨é˜¿é‡Œäº‘äº‘å¸‚åœºé‡Œé¢å–2å…ƒ/ä¸ªï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šäººå…±äº«ï¼Œè½¯ä»¶åŒ…ä¸­åŒ…å«çš„è½¯ä»¶åŠç‰ˆæœ¬å¦‚ä¸‹ï¼š Nginxï¼š1.4.4 Apacheï¼š2.2.29ã€2.4.10 MySQLï¼š5.1.73ã€5.5.40ã€5.6.21 PHPï¼š5.2.17ã€5.3.29ã€5.4.23ã€5.5.7 PHP æ‰©å±•ï¼šMemcachedã€Zend Engine/Opcache JDKï¼š1.7.0 Tomcatï¼š7.0.54 FTPï¼šï¼ˆyum/apt-get å®‰è£…ï¼‰ PHPWindï¼š8.7 GBK phpMyAdminï¼š4.1.8 æ³¨æ„ï¼šå®ä¾‹è¿è¡Œçš„é•œåƒéœ€æ˜¯ CentOSã€Ubuntu æˆ– Aliyun Linuxã€‚ å› ä¸º é˜¿é‡Œäº‘linuxä¸€é”®å®‰è£…webç¯å¢ƒ ç›®å‰ä»…æ”¯æŒè¿™ 3 ç§ Linux ç³»ç»Ÿï¼Œä½†æ˜¯ Ubuntu16.04 åŠä»¥ä¸Šç‰ˆæœ¬ã€Aliyun 17 çš„ç‰ˆæœ¬ä¸æ”¯æŒã€‚ å¼€å§‹ xshellè¿æ¥åˆ°ä½ çš„æœåŠ¡å™¨ï¼Œæ–°å»ºtmpæ–‡ä»¶å¤¹ï¼š 12cd /homemkdir tmp &amp;&amp; cd tmp å°†ä¸‹è½½å¥½çš„shæ–‡ä»¶ä¸Šä¼ åˆ°/home/tmpæ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚å›¾ï¼š é‡æ–°é“¾æ¥æœåŠ¡å™¨ï¼ˆxshellï¼‰ï¼Œä¸é‡æ–°é“¾æ¥ä¼šé€ æˆæ— æ³•æ‰¾åˆ°shæ–‡ä»¶ç›®å½•ã€‚ æˆ‘ä»¬å°±åœ¨æµ‹è¯•ä¸€ä¸‹é”®å…¥ä¸€ä¸‹å‘½ä»¤ï¼šcd /home/tmpï¼Œç„¶åé”®å…¥llï¼Œä¼šå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š ä¾æ¬¡æ‰§è¡Œå‘½ä»¤ï¼š 123chmod â€“R 777 shcd sh./install.sh æ¥ä¸‹æ¥æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©ï¼Œæˆ‘æ­å»ºçš„æ˜¯nginx æ³¨æ„ï¼šmysqlçš„ç‰ˆæœ¬è¯·é€‰æ‹©5.5.40ï¼Œå› ä¸ºä¼ è¯´å…¶ä»–ç‰ˆæœ¬ä¼šå¯¼è‡´ä¸ç¡®å®šçš„é—®é¢˜ ä¸‹é¢å°±åç­‰å®‰è£…ï¼Œå–æ¯å’–å•¡ æ³¨æ„ï¼šå¦‚æœä½ æ˜¯ç”¨çš„xshellï¼Œé‚£ä¹ˆéœ€è¦å¤åˆ¶ç¬¬äºŒä¸ªshellçª—å£ï¼Œæ‰§è¡ŒÂ·TOPå‘½ä»¤ä»¥å…é“¾æ¥æ–­å¼€ å‡ºç°å¦‚ä¸‹ç•Œé¢å°±ç­‰äºå®Œæˆäº†ï¼š è¾“å…¥å‘½ä»¤ç›‘æµ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚è‹¥æ²¡æœ‰ä¸‹åˆ—ç«¯å£ï¼Œè¯´æ˜å®‰è£…å¤±è´¥äº†ï¼š netstat -tunpl 80ç«¯å£æ˜¯nginxï¼Œ21ç«¯å£æ˜¯ftpï¼Œ9000ç«¯å£æ˜¯phpï¼Œ3306ç«¯å£æ˜¯mysql æŸ¥æ‰¾FTPå¸å·å¯†ç  é”®å…¥å‘½ä»¤ï¼šcat account.log æ³¨æ„ï¼šéœ€è¦åœ¨shç›®å½•ä¸‹é¢æ‰§è¡Œ ä¿®æ”¹FTPå¯†ç  ä½¿ç”¨rootç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼Œç„¶åé”®å…¥å‘½ä»¤ï¼špasswd wwwï¼Œç„¶åè¾“å…¥æ–°å¯†ç å³å¯ã€‚ ä¿®æ”¹mysqlå¯†ç  mysqladmin -uroot -p æ—§å¯†ç  password æ–°å¯†ç  æ³¨æ„ï¼š-på’Œæ—§å¯†ç ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œpasswordå’Œæ–°å¯†ç ä¹‹é—´æœ‰ç©ºæ ¼ å¥½äº†ï¼Œè‡³æ­¤æ‰€æœ‰é…ç½®éƒ½å·²ç»å®Œæˆäº†ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ ç½‘ç«™ç›®å½•ï¼š/alidata/www æœåŠ¡å™¨è½¯ä»¶ç›®å½•ï¼š/alidata/server Mysql ç›®å½• /alidata/server/mysql Phpç›®å½•/alidata/server/php é€‰æ‹©äº†nginx é‚£ä¹ˆä¼šæœ‰ä¸€ä¸ªnginx ç›®å½•åœ¨ /alidata/server/nginx/ Nginx é…ç½®æ–‡ä»¶åœ¨/alidata/server/nginx/conf Nginxè™šæ‹Ÿä¸»æœºæ·»åŠ  ä½ å¯ä»¥ä¿®æ”¹/alidata/server/nginx/conf/vhosts/phpwind.conf é€‰æ‹©äº†apacheä¼šæœ‰ä¸€ä¸ªhttpdç›®å½•åœ¨/alidata/server/httpd apacheé…ç½®æ–‡ä»¶åœ¨/alidata/server/httpd/conf apacheè™šæ‹Ÿä¸»æœºæ·»åŠ ï¼Œä½ å¯ä»¥ä¿®æ”¹/alidata/server/httpd/conf/vhosts/phpwind.conf phpwindå’Œphpmyadmin ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥ä½ çš„åŸŸåæˆ–è€…ipï¼Œåˆ™ä¼šè‡ªåŠ¨è·³è½¬åˆ°å®‰è£…é¡µé¢ã€‚ æ¥å—åæ ¹æ®è‡ªå·±çš„è¦æ±‚ï¼Œè®¾ç½®å¥½æ•°æ®åº“åç§°ï¼Œç®¡ç†å‘˜è´¦å·å’Œå¯†ç ç­‰ã€‚ å…¶ä¸­æ•°æ®åº“ç”¨æˆ·åå¯†ç å°±æ˜¯åˆšæ‰account.logé‡Œé¢çš„æ•°æ®åº“ç”¨æˆ·åå¯†ç ã€‚ ç‚¹ä¸‹ä¸€æ­¥åï¼Œè‡ªåŠ¨å¼€å§‹å®‰è£…ã€‚ è®¿é—®phpmyadminï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ip+phpmyadminï¼Œè¾“å…¥mysqlç”¨æˆ·åå¯†ç å³å¯ç™»å½•ã€‚ æœ€åæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™é‡Œé¢æ“ä½œæˆ‘ä»¬çš„mysqläº†ã€‚","link":"/2019/08/02/å¦‚ä½•åœ¨é˜¿é‡Œäº‘éƒ¨ç½²ngnixæœåŠ¡å™¨/"},{"title":"åºŸå¼ƒçš„æ•°æ®äº¤äº’æ–¹å¼â€”â€”JSONP","text":"ä»¥å¾€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨JSONPæ¥è·¨åŸŸï¼Œè™½ç„¶ç›®å‰å·²è¢«åºŸå¼ƒï¼Œä½†ä¸å¦¨ç¢æˆ‘ä»¬å­¦ä¹ å…¶å®ç°æ€è·¯ åŸç”ŸJSONPå®ç°ç™¾åº¦æœç´¢é¢„æµ‹åˆ—è¡¨JSONPçš„åŸç†ï¼šåˆ©ç”¨äº†scriptæ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›ã€‚ å®ç°æ­¥éª¤ï¼šåˆ›å»ºscriptæ ‡ç­¾ï¼Œç„¶åè°ƒç”¨ä½ çš„å‡½æ•°æˆ–å¤–éƒ¨åœ°å€ã€‚ åœ¨17å¹´çš„æ—¶å€™ç™¾åº¦æœç´¢é¦–é¡µè¿˜å­˜åœ¨JSONPï¼Œå½“ä½ è¾“å…¥å­—ç¬¦åï¼Œä¼šä¸‹æ‹‰ä¸€ä¸ªæœç´¢é¢„æµ‹åˆ—è¡¨ï¼ˆç›®å‰å¥½åƒå·²ç»æ²¡æœ‰äº†ï¼‰ã€‚ æˆ‘ä»¬å®ç°ä¸€ä¸ªç±»ä¼¼çš„åŠŸèƒ½ï¼Œåœ¨æœ¬åœ°è¯·æ±‚ç™¾åº¦çš„æœåŠ¡ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;åŸç”Ÿå®ç°JSONPæœç´¢åˆ—è¡¨&lt;/title&gt; &lt;script&gt; function show(json){ let oUl=document.getElementById('ul1'); //äºŒæ¬¡æœç´¢å‰å…ˆæ¸…ç©ºåˆ—è¡¨ oUl.innerHTML=''; // show({q:\"ad\",p:false,s:[\"é˜¿è¿ªè¾¾æ–¯å®˜æ–¹æ——èˆ°åº—\",\"adobe flash player\",\"adobe\",\"adobe acrobat\",\"adobe reader\",\"adobe acrobat pro\",\"adsafe\",\"administrator\",\"adidas\",\"adc\"]}); //æ­¤å¤„json.så°±æ˜¯ä¸Šé¢æ³¨é‡Šä¸­çš„sæ•°ç»„ json.s.forEach(str=&gt;{ let oLi=document.createElement('li'); oLi.innerHTML=str; oUl.appendChild(oLi); }); } window.Î¿nlÎ¿ad=function (){ let oTxt=document.getElementById('txt1'); let oUl=document.getElementById('ul1'); //oninputæ”¯æŒåˆ°IE9 oTxt.Î¿ninput=function (){ let oS=document.createElement('script'); oS.src=`https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=${oTxt.value}&amp;cb=show`; //document.headæ”¯æŒåˆ°IE9 document.head.appendChild(oS); }; }; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=\"text\" id=\"txt1\"&gt; &lt;ul id=\"ul1\"&gt;&lt;/ul&gt; &lt;/body&gt;&lt;/html&gt; è¿™æ ·æˆ‘ä»¬å°±é€šè¿‡JSONPè·å¾—äº†ç™¾åº¦æœç´¢é¢„æµ‹åˆ—è¡¨çš„æ•°æ®ï¼Œå®Œæˆäº†è·¨åŸŸè¯·æ±‚ã€‚ JQueryå®ç°JSONPåœ¨å®é™…é¡¹ç›®ä¸­å¦‚æœè¦ä½¿ç”¨JSONPï¼Œä¸€èˆ¬ä¼šä½¿ç”¨JQueryç­‰å¯¹JSONPè¿›è¡Œäº†å°è£…çš„åº“æ¥è¿›è¡ŒAjaxè¯·æ±‚ã€‚ åœ¨ä½¿ç”¨JQueryçš„AJaxè¿›è¡ŒJSONPè·¨åŸŸè¯·æ±‚æ—¶ï¼Œåªéœ€è¦æŠŠdataTypeè®¾ç½®ä¸ºjsonpå°±å¯ä»¥äº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;JQueryå®ç°JSONPæœç´¢åˆ—è¡¨&lt;/title&gt; &lt;script src=\"jquery.js\" charset=\"utf-8\"&gt;&lt;/script&gt; &lt;script&gt; $(function (){ $('#txt1').on('input', function (){ $.ajax({ url: 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su', data: {wd: $('#txt1').val()}, dataType: 'jsonp', // å…³é”®ä»£ç  jsonp: 'cb', //å›è°ƒå‡½æ•°åï¼Œä¸ä¸€å®šå«â€˜cbâ€™ success(json){ $('#ul1').html(''); json.s.forEach(str=&gt;{ $(`&lt;li&gt;${str}&lt;/li&gt;`).appendTo('#ul1'); }); }, error(){ alert('é”™äº†'); } }); }); }); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=\"text\" id=\"txt1\"&gt; &lt;ul id=\"ul1\"&gt;&lt;/ul&gt; &lt;/body&gt;&lt;/html&gt;","link":"/2019/08/07/åºŸå¼ƒçš„æ•°æ®äº¤äº’æ–¹å¼â€”â€”JSONP/"},{"title":"åºŸå¼ƒçš„æ•°æ®äº¤äº’æ–¹å¼â€”â€”AJaxé•¿è¿æ¥","text":"ç›®å‰å·²è¢«websocketæ›¿ä»£ åœ¨ä»¥å¾€ç½‘é¡µèŠå¤©ã€åŠ¨æ€å›¾è¡¨ç­‰åœºæ™¯ä¸­ï¼Œéœ€è¦æœåŠ¡å™¨æºæºä¸æ–­åœ°å‘å®¢æˆ·ç«¯è¾“å…¥æ•°æ®ï¼Œå°±è¦ä¸¤è€…ä¹‹é—´ä¿æŒé•¿è¿æ¥ã€‚ ä½†ç”±äºHTTPæ²¡æœ‰é•¿è¿æ¥ï¼Œæ¯æ¬¡è¯·æ±‚åå®¢æˆ·ç«¯éƒ½ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚åˆç”±äºHTTPæ— çŠ¶æ€çš„ç‰¹å¾ï¼Œå†æ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨ä¸çŸ¥é“ä½ æ˜¯è°ï¼Œæ‰€ä»¥åˆè¦è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ã€‚ å¦‚æœæƒ³ä¸€ç›´è·ŸæœåŠ¡å™¨ä¿æŒè¿æ¥ï¼Œå°±è¦åˆ©ç”¨AJaxé•¿è¿æ¥ã€‚å…¶æ€è·¯ä¸è¿‡æ˜¯æœåŠ¡å™¨è®¾ç½®å®šæ—¶å™¨ï¼Œæ¥è®©HTTPè¯·æ±‚ä¿æŒè¿æ¥ã€‚ è¿™é‡Œåå°æˆ‘ä»¬ä½¿ç”¨Nodeï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š HTML 1234567891011121314151617181920212223242526&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;&lt;/title&gt; &lt;script&gt; window.Î¿nlÎ¿ad=function (){ var oBtn=document.getElementById('btn1'); oBtn.Î¿nclick=function (){ var xhr=new XMLHttpRequest(); xhr.open('post', 'http://localhost:8080/', true); xhr.send(); xhr.onreadystatechange=function (){ console.log(xhr.readyState); }; }; }; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;input type=\"button\" value=\"ajaxè¯·æ±‚\" id=\"btn1\"&gt; &lt;/body&gt;&lt;/html&gt; JavaScript 1234567891011const http=require('http');let server=http.createServer(function (req, res){ res.setHeader('Access-Control-Allow-Origin', '*'); setTimeout(function (){ res.write('abc'); res.end(); }, Math.floor(Math.random()*20000)); //è®¾ç½®å®šæ—¶å™¨ï¼Œä¸æ–­è¯·æ±‚});server.listen(8080);","link":"/2019/08/08/åºŸå¼ƒçš„æ•°æ®äº¤äº’æ–¹å¼â€”â€”AJaxé•¿è¿æ¥/"},{"title":"Androidå¼€å‘ç¯å¢ƒé…ç½®","text":"å½“æ—¶å¼€å‘RNï¼Œé‡åˆ°äº†ç¹ççš„Androidå¼€å‘ç¯å¢ƒé…ç½®ï¼Œè‡ªå·±ç²¾ç®€äº†ä¸€ä¸‹ å®‰è£… Android Studioä¸‹è½½ï¼Œé»˜è®¤å‹¾é€‰å®‰è£…å³å¯ï¼Œç¡®ä¿ä»¥ä¸‹å‡ é¡¹æœ‰å‹¾é€‰ï¼š Android SDK Android SDK Platform Performance (Intel Â® HAXM) Android Virtual Device æ·»åŠ ç¯å¢ƒå˜é‡ æ–°å¢ï¼šå˜é‡åANDROID_HOMEï¼Œ å˜é‡å€¼ C:\\Users\\ä½ çš„ç”¨æˆ·å\\AppData\\Local\\Android\\Sdk ä¿®æ”¹PATHï¼šæ·»åŠ 2ä¸ªå˜é‡å€¼ï¼Œåˆ†åˆ«æ˜¯%ANDROID_HOME%\\platform-tools å’Œ %ANDROID_HOME%\\toolsæ‰“å¼€CMDï¼Œè¿™æ—¶è¾“å…¥adbå¯æˆåŠŸè¿”å›çš„è¯å°±æ˜¯å¯ä»¥äº†ã€‚ ä½ éœ€è¦å…³é—­ç°æœ‰çš„å‘½ä»¤ç¬¦æç¤ºçª—å£ç„¶åé‡æ–°æ‰“å¼€ï¼Œè¿™æ ·æ–°çš„ç¯å¢ƒå˜é‡æ‰èƒ½ç”Ÿæ•ˆã€‚ å®‰è£… Android SDKæ‰“å¼€Android Studioâ€”â€”Toolsâ€”â€”SDK Managerï¼ŒSDK Platformsä¸­å®‰è£…API Levelä¸º26ï¼Œ27ï¼Œ28çš„ï¼ŒToolsä¸­å®‰è£…andr SDK Build-Toolsï¼ŒGoogle Usb Driverã€‚ å³å°†å®Œæˆ æ‰“å¼€Android Studioâ€”â€”Fileâ€”â€”Sync Project with Gradle Filesï¼ŒæˆåŠŸå³å¯ã€‚ æ‰“å¼€æ‰‹æœºè°ƒè¯•æ¨¡å¼ï¼Œå®‰å“æ‰‹æœºåœ¨å…³äºæ‰‹æœºä¸­ï¼Œç‚¹å‡»5æ¬¡ç‰ˆæœ¬å·å³å¯æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œç„¶ååœ¨è°ƒè¯•æ¨¡å¼ä¸­ï¼Œæ‰“å¼€USBè°ƒè¯•ã€‚ åœ¨Android Studioä¸­ï¼Œç‚¹å‡»Runï¼ˆalt+shift+F10ï¼‰ï¼Œå¤§åŠŸå‘Šæˆï¼","link":"/2019/07/18/Androidå¼€å‘ç¯å¢ƒé…ç½®/"},{"title":"ç§»åŠ¨ç«¯å¸ƒå±€ä¹‹rem","text":"å‚è€ƒåœ°å€ï¼šæ‰‹æœºç«¯é¡µé¢è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆâ€”remå¸ƒå±€è¿›é˜¶ç‰ˆï¼ˆé™„æºç ç¤ºä¾‹ï¼‰ remå–å†³äºé¡µé¢æ ¹å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œä¸€èˆ¬æ¥è¯´å°±æ˜¯ç»™æ ¹æ ‡ç­¾&lt;html&gt;è®¾ç½®å­—ä½“å¤§å°ã€‚remå…¼å®¹åˆ°IE9+ ç§»åŠ¨ç«¯remé€‚é…è¦å®ç°å…¨å±€remçš„é…ç½®ï¼Œåªéœ€åœ¨å…¥å£æ–‡ä»¶å¼•å…¥å¦‚ä¸‹JSä»£ç ï¼š 12345678910111213141516171819202122232425var fun = function (doc, win) { // åˆ¤æ–­åœ¨windowå¯¹è±¡ä¸­æ˜¯å¦æœ‰orientationchangeå±æ€§ï¼Œå› ä¸ºorientationchangeä¼šé‡åˆ°å…¼å®¹æ€§é—®é¢˜ resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'; var docEl = doc.documentElement; resize = function () { var width = docEl.clientWidth; if (!width) return; if (width &gt;= 750) { docEl.style.fontSize = '100px'; } else { // 1rem = 100px docEl.style.fontSize = ((width / 750) * 100) + 'px'; } }; if (!doc.addEventListener) return; win.addEventListener(resizeEvt, resize, false); doc.addEventListener('DOMContentLoaded', resize, false);}fun(document, window);export default fun; é¡¹ç›®ä¸­çš„å°ç»éªŒï¼š é¡µé¢ä¸­æ¨¡å—é—´è·ç¦»ä¸€èˆ¬ä¸º0.2rem å­—ä½“çš„å¤§å°ä¸€èˆ¬åˆ†ä¸ºå››ä¸ªæ¡£æ¬¡ï¼š0.2rem 0.24rem 0.28rem 0.32rem æœ€å¤–å±‚çš„divæ ·å¼å°±è®¾ç½®æˆäº†12345position: relative;width: 100%;max-width: 750px;min-width: 320px;margin: 0 auto; åŠ¨æ€ç›‘å¬çª—å£å˜åŒ–å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨éå›ºå®šå°ºå¯¸çš„åœ°æ–¹ä½¿ç”¨remï¼Œè®©è§†å›¾æ ¹æ®çª—å£çš„å˜åŒ–è€Œå˜åŒ–ï¼Œé‚£ä¹ˆéœ€è¦å•ç‹¬è®¾ç½®ã€‚ document.documentElementæ–¹æ³•è¿”å›çš„htmlä¸­domçš„æ ¹èŠ‚ç‚¹rootï¼Œå³&lt;html&gt;ã€‚ getBoundingClientRectæ–¹æ³•è¿”å›æŸå…ƒç´ ç›¸å¯¹äºè§†çª—çš„ä½ç½®é›†åˆï¼Œå†…å«top, right, bottom, leftå±æ€§ï¼Œå•ä½ä¸ºåƒç´ ã€‚ 123456789101112131415function setRem () { //1. è·å–æ ¹èŠ‚ç‚¹ let docEl = document.documentElement; // 2. è·å–æ ¹èŠ‚ç‚¹ç›¸å¯¹è§†çª—çš„å®½åº¦ let width = docEl.getBoundingClientRect.width; // 3. 1rem = 10px let rem = width / 75; // 4.è®¾ç½®é¡µé¢æ ¹å…ƒç´ å­—ä½“å¤§å° docEl.style.fontSize = rem + 'px';}addEventListener('resize', setRem);","link":"/2019/08/09/ç§»åŠ¨ç«¯å¸ƒå±€ä¹‹rem/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„Reactå…¥é—¨æ•™ç¨‹Demo","text":"Reactä¸­æ–‡ç½‘æ•™ç¨‹â€”â€”äº•å­—æ£‹ æ¯”è¾ƒé‡è¦çš„ç‚¹ çŠ¶æ€æå‡ï¼ŒæŠŠå­ç»„ä»¶çš„stateæ•°æ®æå‡è‡³çˆ¶ç»„ä»¶ï¼Œä»¥ä¾¿ç»„ä»¶ä¹‹é—´çš„çŠ¶æ€æ•°æ®å…±äº«ã€‚ ä¸ºä»€ä¹ˆä¸å¯å˜æ€§åœ¨ React ä¸­éå¸¸é‡è¦ï¼Œä½¿ç”¨slice()åˆ›å»ºäº†æ•°ç»„å‰¯æœ¬ã€‚ å‡½æ•°ç»„ä»¶ï¼Œé€šè¿‡propsè€Œä¸æ˜¯this.propsä¼ å…¥å±æ€§å’Œæ–¹æ³•ã€‚ æ ¸å¿ƒJSä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152import React from 'react';import ReactDOM from 'react-dom';import './index.css';// å‡½æ•°ç»„ä»¶å†™æ³•// é€šè¿‡propsä¼ å…¥æ–¹æ³•ï¼Œå‡½æ•°å†™æ³•ä¸å¸¦thisfunction Square(props) { return ( &lt;button className=\"square\" onClick={props.onClick}&gt; {props.value} &lt;/button&gt; );}class Board extends React.Component { renderSquare(i) { return ( &lt;Square value={this.props.squares[i]} onClick={() =&gt; this.props.onClick(i)} /&gt; ); } render() { return ( &lt;div&gt; &lt;div className=\"board-row\"&gt; {this.renderSquare(0)} {this.renderSquare(1)} {this.renderSquare(2)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {this.renderSquare(3)} {this.renderSquare(4)} {this.renderSquare(5)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {this.renderSquare(6)} {this.renderSquare(7)} {this.renderSquare(8)} &lt;/div&gt; &lt;/div&gt; ); }}class Game extends React.Component { constructor(props) { super(props); this.state = { history: [ { squares: Array(9).fill(null) } ], stepNumber: 0, xIsNext: true }; } handleClick(i) { // åˆ›å»ºå‰¯æœ¬è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹åŸæ•°ç»„ï¼ï¼ï¼ // https://react.docschina.org/tutorial/tutorial.html#why-immutability-is-important const history = this.state.history.slice(0, this.state.stepNumber + 1); const current = history[history.length - 1]; const squares = current.squares.slice(); if (calculateWinner(squares) || squares[i]) { return; } squares[i] = this.state.xIsNext ? \"X\" : \"O\"; this.setState({ history: history.concat([ { squares: squares } ]), stepNumber: history.length, xIsNext: !this.state.xIsNext }); } jumpTo(step) { this.setState({ stepNumber: step, xIsNext: (step % 2) === 0 }); } render() { const history = this.state.history; const current = history[this.state.stepNumber]; const winner = calculateWinner(current.squares); const moves = history.map((step, move) =&gt; { const desc = move ? 'Go to move #' + move : 'Go to game start'; return ( &lt;li key={move}&gt; &lt;button onClick={() =&gt; this.jumpTo(move)}&gt;{desc}&lt;/button&gt; &lt;/li&gt; ); }); let status; if (winner) { status = \"Winner: \" + winner; } else { status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\"); } return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; &lt;Board squares={current.squares} onClick={i =&gt; this.handleClick(i)} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; &lt;div&gt;{status}&lt;/div&gt; &lt;ol&gt;{moves}&lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; ); }}// ========================================ReactDOM.render(&lt;Game /&gt;, document.getElementById(\"root\"));function calculateWinner(squares) { const lines = [ [0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6] ]; for (let i = 0; i &lt; lines.length; i++) { const [a, b, c] = lines[i]; if (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) { return squares[a]; } } return null;}","link":"/2019/08/14/å†™ç»™è‡ªå·±çœ‹çš„Reactå…¥é—¨æ•™ç¨‹Demo/"},{"title":"ä¸€å¼ å›¾çœ‹æ‡‚JavaScriptä¸­æ•°ç»„çš„è¿­ä»£æ–¹æ³•","text":"æœ¬æ–‡ä»‹ç»äº†forEachã€mapã€filterã€reduceã€everyã€some å‚è€ƒåœ°å€ï¼šæ°´ä¹™ éå¸¸ç®€å•æ˜äº†çš„å›¾ï¼Œä¸€çœ‹å°±æ‡‚ï¼","link":"/2019/08/15/ä¸€å¼ å›¾çœ‹æ‡‚JavaScriptä¸­æ•°ç»„çš„è¿­ä»£æ–¹æ³•/"},{"title":"å¦‚ä½•å‘ç°å±‹å†…éšè—çš„æ‘„åƒå¤´","text":"å‚è€ƒåœ°å€ï¼šHow to increase your chances of finding a hidden camera è¯†åˆ«æ¡ä»¶å¦‚æœå­˜åœ¨ä»¥ä¸‹æƒ…å†µï¼Œåˆ™æ— æ³•å‘ç°æ‘„åƒå¤´ï¼š æ‘„åƒå¤´ä¸ä½ è¿æ¥çš„WIFIä¸åœ¨åŒä¸€ç½‘ç»œä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸»æŒäººæƒ³éšè—æ‘„åƒå¤´ï¼Œä»–ä»¬å¯ä»¥å°†å…¶è¿æ¥åˆ°ä½ å¯èƒ½æ— æ³•è®¿é—®çš„ç½‘ç»œã€‚ å¦‚æœæ‘„åƒå¤´è®°å½•åˆ°å†…éƒ¨å­˜å‚¨å¡ï¼Œåˆ™æ— éœ€è¿æ¥åˆ°ç½‘ç»œï¼Œå› æ­¤ä¸ä¼šæ˜¾ç¤ºåœ¨ç½‘ç»œä¸Šã€‚ è¯†åˆ«æ­¥éª¤ è¿æ¥WIFIï¼Œä»¥æ‰«æè¿æ¥æ­¤WIFIçš„å…¶ä»–è®¾å¤‡ã€‚ ä¸‹è½½å®‰è£…Network Scanner - First Rowï¼Œå®ƒä¼šè‡ªåŠ¨æ‰«æä½ è¿æ¥çš„WIFIï¼Œå¹¶æ˜¾ç¤ºè®¾å¤‡å’Œåˆ¶é€ å•†çš„IPåœ°å€ã€‚å¦‚å›¾ï¼Œå·²è¯†åˆ«å‡ºç½‘ç»œä¸Šçš„è®¸å¤šè®¾å¤‡ï¼ŒåŒ…æ‹¬ç½‘å…³ï¼ˆæ— çº¿æ¥å…¥ç‚¹/è·¯ç”±å™¨ï¼‰ï¼Œç¬”è®°æœ¬ç”µè„‘å’Œå¤šéƒ¨ç”µè¯ã€‚ ä»”ç»†æ‰¾å¯»å¯èƒ½æ˜¯ç›¸æœºçš„è®¾å¤‡ï¼Œå¦‚IPCAMERAï¼Œæˆ–è€…ä¸æ˜¯ä½ æ‰€ä½¿ç”¨çš„è®¾å¤‡ã€‚ æ‰¾åˆ°å¯ç–‘è®¾å¤‡åï¼Œä½¿ç”¨ç«¯å£æ‰«æåº”ç”¨Network MapperæŸ¥çœ‹è¯¥è®¾å¤‡ä¸Šæ‰“å¼€äº†å“ªäº›ç«¯å£ã€‚è¾“å…¥è¯¥å¯ç–‘è®¾å¤‡çš„IPåœ°å€ï¼Œç»“æœå¦‚å›¾ï¼š æˆ‘ä»¬å‘ç°æœ‰4ä¸ªç«¯å£æ‰“å¼€ï¼š81ï¼Œ554ï¼Œ1935ï¼Œ8080ã€‚RTSPå’ŒRTMPæœåŠ¡ç”¨äºæµå¼ä¼ è¾“è§†é¢‘ã€‚å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€IPåœ°å€:8080æ¥æ˜¾ç¤ºç«¯å£ã€‚ ç‰¹åˆ«æ³¨æ„ONVIFï¼Œå®ƒæ˜¯æ˜¯è¿æ¥IPå®‰å…¨æ‘„åƒå¤´çš„æ ‡å‡†æ–¹å¼ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›¸å½“è‚¯å®šè¿™æ˜¯ä¸€å°ç›¸æœºã€‚ åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼ŒæŸ¥æ‰¾å’Œè®¿é—®éšè—çš„æ‘„åƒå¤´å¾ˆå®¹æ˜“ï¼Œå› ä¸ºï¼š å®ƒä¸æˆ‘ä»¬è·å¾—è®¿é—®æƒé™çš„æ— çº¿ç½‘ç»œç›¸åŒ å®ƒåœ¨ç½‘ç»œæ‰«æä¸­è¢«å‘½åä¸ºâ€œIPCAMERAâ€ å®ƒæœ‰ä¸€ä¸ªåœ¨ç«¯å£80ä¸Šè¿è¡Œçš„å®æ—¶æµï¼Œæ— éœ€èº«ä»½éªŒè¯å³å¯è¿æ¥ï¼ˆç™»å½•åå’Œå¯†ç ï¼‰","link":"/2019/08/12/å¦‚ä½•å‘ç°å±‹å†…éšè—çš„æ‘„åƒå¤´/"},{"title":"ä¸€å¼ å›¾çœ‹æ‡‚URIçš„ç¼–ç å’Œè§£ç å‡½æ•°","text":"æœ¬æ–‡ä»‹ç»äº†encodeURIã€encodeURIComponentã€decodeURIã€decodeURIComponentçš„åŒºåˆ« å‚è€ƒåœ°å€ï¼šæ°´ä¹™ ä»€ä¹ˆæ˜¯URIURIï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚URIæ˜¯ç”¨æ¥æ ‡è¯†äº’è”ç½‘ä¸Šçš„èµ„æºï¼ˆä¾‹å¦‚ï¼Œç½‘é¡µæˆ–æ–‡ä»¶ï¼‰å’Œæ€æ ·è®¿é—®è¿™äº›èµ„æºçš„ä¼ è¾“åè®®ï¼ˆä¾‹å¦‚ï¼ŒHTTP æˆ– FTPï¼‰çš„å­—ç¬¦ä¸²ã€‚é™¤äº†encodeURIã€encodeURIComponentã€decodeURIã€decodeURIComponentè¿™å››ä¸ªç”¨æ¥ç¼–ç å’Œè§£ç URIçš„å‡½æ•°ä¹‹å¤–ï¼ŒECMAScriptä¸æä¾›å…¶ä»–URLçš„æ”¯æŒã€‚ URIç»„æˆå½¢å¼ä¸€ä¸ª URI æ˜¯ç”±ç»„ä»¶åˆ†éš”ç¬¦åˆ†å‰²çš„ç»„ä»¶åºåˆ—ç»„æˆã€‚å…¶ä¸€èˆ¬å½¢å¼æ˜¯ï¼šScheme : First / Second ; Third ? Fourthå…¶ä¸­æ–œä½“çš„åå­—ä»£è¡¨ç»„ä»¶ï¼Œ: / ; ?å‡ ä¸ªå­—ç¬¦æ˜¯ä½œä¸ºåˆ†éš”ç¬¦çš„ä¿ç•™å­—ç¬¦ã€‚ å››ä¸ªå‡½æ•°é—´çš„åŒºåˆ«encodeURIå’ŒdecodeURIå‡½æ•°æ“ä½œçš„æ˜¯å®Œæ•´çš„URIã€‚è¿™ä¸¤ä¸ªå‡½æ•°å‡å®šURIä¸­çš„ä»»ä½•ä¿ç•™å­—ç¬¦éƒ½æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œæ‰€æœ‰ä¸ä¼šç¼–ç å®ƒä»¬ã€‚ encodeURIComponentå’ŒdecodeURIComponentå‡½æ•°æ“ä½œçš„æ˜¯ç»„æˆURIçš„ä¸ªåˆ«ç»„ä»¶ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å‡å®šä»»ä½•ä¿ç•™å­—ç¬¦éƒ½ä»£è¡¨æ™®é€šæ–‡æœ¬ï¼Œæ‰€ä»¥å¿…é¡»ç¼–ç å®ƒä»¬ã€‚ å›¾è§£å››ä¸ªå‡½æ•°","link":"/2019/08/16/ä¸€å¼ å›¾çœ‹æ‡‚URIçš„ç¼–ç å’Œè§£ç å‡½æ•°/"},{"title":"ä¸‰å¼ å›¾çœ‹æ‡‚JavaScriptåŸå‹å¯¹è±¡å’ŒåŸå‹é“¾","text":"æœ¬æ–‡ä»‹ç»äº†prototypeå’Œ__proto__ å‚è€ƒåœ°å€ï¼šæ°´ä¹™ prototypeå’Œ__proto__çš„åŒºåˆ« 1234567var a = {};console.log(a.prototype); //undefinedconsole.log(a.__proto__); //Object {}var b = function(){}console.log(b.prototype); //b {}console.log(b.__proto__); //function() {} __proto__çš„æŒ‡å‘ 12345678910111213141516171819/*1ã€å­—é¢é‡æ–¹å¼*/var a = {};console.log(a.__proto__); //Object {}console.log(a.__proto__ === a.constructor.prototype); //true/*2ã€æ„é€ å™¨æ–¹å¼*/var A = function(){};var a = new A();console.log(a.__proto__); //A {}console.log(a.__proto__ === a.constructor.prototype); //true/*3ã€Object.create()æ–¹å¼*/var a1 = {a:1}var a2 = Object.create(a1);console.log(a2.__proto__); //Object {a: 1}console.log(a.__proto__ === a.constructor.prototype); //falseï¼ˆæ­¤å¤„å³ä¸ºå›¾1ä¸­çš„ä¾‹å¤–æƒ…å†µï¼‰ ä»€ä¹ˆæ˜¯åŸå‹é“¾ 12345var A = function(){};var a = new A();console.log(a.__proto__); //A {}ï¼ˆå³æ„é€ å™¨function A çš„åŸå‹å¯¹è±¡ï¼‰console.log(a.__proto__.__proto__); //Object {}ï¼ˆå³æ„é€ å™¨function Object çš„åŸå‹å¯¹è±¡ï¼‰console.log(a.__proto__.__proto__.__proto__); //null","link":"/2019/08/19/ä¸‰å¼ å›¾çœ‹æ‡‚JavaScriptåŸå‹å¯¹è±¡å’ŒåŸå‹é“¾/"},{"title":"Chomeæµè§ˆå™¨å®‰å…¨æ–°ç‰¹æ€§ä¹‹SameSite","text":"chromeæµè§ˆå™¨ç ”å‘å›¢é˜Ÿå®£å¸ƒå°†ä¼šå¯¹ç”¨æˆ·éšç§å’Œå®‰å…¨çš„å¤„ç†æœºåˆ¶ä½œå‡ºé‡å¤§æ”¹å˜ Chromeæ–°ç‰¹æ€§chromeæµè§ˆå™¨å°†ä¼šåœ¨ä»Šå¹´æ™šäº›çš„ç‰ˆæœ¬ä¸­ï¼Œæä¾›ä¸€äº›æ–°ç‰¹æ€§ï¼š åœ¨é»˜è®¤æƒ…å†µä¸‹é˜»æ­¢ç½‘ç«™çš„cookiesè·¨åŸŸä¼ è¾“ã€‚å¼€å‘è€…å¿…é¡»é€šè¿‡æ‰‹åŠ¨è®¾ç½®cookieçš„SameSiteå±æ€§ï¼Œå†³å®šæ˜¯å¦å…è®¸æ­¤cookieè·¨åŸŸä¼ è¾“ã€‚ æä¾›å“ªäº›ç«™ç‚¹æ­£åœ¨è®¾ç½®cookieçš„æ˜ç¡®ä¿¡æ¯ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥å¯¹å…¶æ•°æ®çš„ä½¿ç”¨æ–¹å¼åšå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚ è·¨ç«™ç‚¹cookieä¼ è¾“åªèƒ½ä½œç”¨åœ¨HTTPSåŸŸåã€‚ é™åˆ¶ç½‘ç«™è·å–é™¤cookieä¿¡æ¯ä¹‹å¤–çš„ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯æ˜¯ç”±UAï¼Œrefererè¯·æ±‚å¤´ç­‰ä¿¡æ¯ç»„æˆçš„ï¼ŒåŒ…å«äº†å¤§é‡çš„ç”¨æˆ·ç‹¬ç‰¹ä¿¡æ¯ã€‚ å®‰å…¨å› ç´ cookiesä½¿å¾—åŸºäºæ— çŠ¶æ€çš„HTTPåè®®è®°å½•ç¨³å®šçš„çŠ¶æ€ä¿¡æ¯æˆä¸ºäº†å¯èƒ½ã€‚ä½†å®ƒä¹Ÿæ˜¯ä¸å®‰å…¨çš„èµ·å› ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š cookieåŒ…å«äº†ç”¨æˆ·åœ¨æŸç«™ç‚¹çš„èº«ä»½è¯æ˜ã€‚æµè§ˆå™¨ä¸­çš„documentå¯¹è±¡ä¸­ï¼Œå‚¨å­˜äº†Cookieçš„ä¿¡æ¯ï¼Œå¦‚æœåˆ©ç”¨jså¯ä»¥æŠŠè¿™é‡Œé¢çš„cookieç»™å–å‡ºæ¥ï¼ˆdocument.cookieï¼‰ï¼Œåªè¦å¾—åˆ°æ­¤cookieæ‹¥æœ‰è€…çš„çš„èº«ä»½ã€‚ cookieå¯ä»¥è·¨ç«™ç‚¹å’ŒåŸŸåä¼ è¾“ã€‚è¿™æ˜¯æ•´ä¸ªä¸šç•Œè¿›è¡Œå•†ä¸šåŒ–å¹¿å‘Šç²¾å‡†æŠ•æ”¾çš„æŠ€æœ¯åŸºç¡€ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ åœ¨æ·˜å®æœç´¢æŸç±»å•†å“ä¹‹åï¼Œç¬¬ä¸‰æ–¹ç½‘é¡µå¹¿å‘Šèƒ½å¦ç»™ä½ æ¨èä½ æœç´¢è¿‡çš„è¿™ç±»å•†å“çš„åŸå› ã€‚ ç½‘ç»œæ”»å‡»æ–¹å¼æœ€å¸¸è§çš„äºŒå¤§ç±»æ”»å‡»æ–¹å¼ï¼Œå‡æ¶‰åŠåˆ°äº†å¯¹ç”¨æˆ·cookiesçš„ç›—å–å’Œä¼ªé€ ï¼š XSS(Cross SiteScript) è·¨ç«™è„šæœ¬æ”»å‡» CSRF (Cross Site Request Forgery) è·¨åŸŸè¯·æ±‚ä¼ªé€  cookie æœ€åˆè¢«è®¾è®¡æˆäº†å…è®¸åœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™å‘èµ·çš„è¯·æ±‚ä¸­æºå¸¦ï¼ŒCSRFæ”»å‡»å°±æ˜¯åˆ©ç”¨äº†cookieçš„è¿™ä¸€â€œå¼±ç‚¹â€ï¼Œä¸¾ä¸ªæ —å­ï¼š å½“æŸç”¨æˆ·é€šè¿‡ç™»å½•æ­£å¸¸åˆæ³•è¿›å…¥äº†a.comä¹‹åï¼Œå°±è·å¾—äº†a.comçš„ç™»å½•å‡­è¯ï¼ˆCookieï¼‰ã€‚è¿™äº›ç”±a.comå†…é¡µé¢å‘èµ·çš„è¯·æ±‚çš„ URL ä¸ä¸€å®šä¹Ÿæ˜¯æŒ‡å‘a.com ä¸Šï¼Œå¯èƒ½æœ‰æŒ‡å‘ b.com çš„ï¼Œä¹Ÿå¯èƒ½æœ‰æŒ‡å‘ c.com çš„ã€‚æˆ‘ä»¬æŠŠå‘é€ç»™ a.com ä¸Šçš„è¯·æ±‚å«åšç¬¬ä¸€æ–¹è¯·æ±‚ï¼ˆfirst-party requestï¼‰ï¼Œå‘é€ç»™ b.com å’Œ c.com ç­‰çš„è¯·æ±‚å«åšç¬¬ä¸‰æ–¹è¯·æ±‚ï¼ˆthird-party requestï¼‰ï¼Œ ç¬¬ä¸‰æ–¹è¯·æ±‚å’Œç¬¬ä¸€æ–¹è¯·æ±‚ä¸€æ ·ï¼Œéƒ½ä¼šå¸¦ä¸Šå„è‡ªåŸŸåä¸‹çš„ cookieï¼Œæ‰€ä»¥å°±æœ‰äº†ç¬¬ä¸€æ–¹ cookieï¼ˆfirst-party cookieï¼‰å’Œç¬¬ä¸‰æ–¹ cookieï¼ˆthird-party cookieï¼‰çš„åŒºåˆ«ã€‚ä¸Šé¢æåˆ°çš„ CSRF æ”»å‡»ï¼Œå°±æ˜¯åˆ©ç”¨äº†ç¬¬ä¸‰æ–¹ cookie ã€‚ CSRFæ”»å‡»æµç¨‹ å—å®³è€…ç™»å½•a.comï¼Œå¹¶ä¿ç•™äº†ç™»å½•å‡­è¯ï¼ˆCookieï¼‰ã€‚ æ”»å‡»è€…å¼•è¯±å—å®³è€…è®¿é—®äº†b.comã€‚ b.com å‘ a.com å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼ša.com/act=xxã€‚æµè§ˆå™¨ä¼šé»˜è®¤æºå¸¦a.comçš„Cookieã€‚ a.comæ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¯¹è¯·æ±‚è¿›è¡ŒéªŒè¯ï¼Œå¹¶ç¡®è®¤æ˜¯å—å®³è€…çš„å‡­è¯ï¼Œè¯¯ä»¥ä¸ºæ˜¯å—å®³è€…è‡ªå·±å‘é€çš„è¯·æ±‚ã€‚ a.comä»¥å—å®³è€…çš„åä¹‰æ‰§è¡Œäº†act=xxã€‚ æ”»å‡»å®Œæˆï¼Œæ”»å‡»è€…åœ¨å—å®³è€…ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œå†’å……å—å®³è€…ï¼Œè®©a.comæ‰§è¡Œäº†è‡ªå·±å®šä¹‰çš„æ“ä½œã€‚ CSRFé˜²å¾¡ç­–ç•¥ç›®å‰åœ¨ä¸šç•Œé˜²å¾¡ CSRF æ”»å‡»ä¸»è¦æœ‰ä¸‰ç§ç­–ç•¥ï¼š éªŒè¯ HTTP Referer å­—æ®µï¼Œå¿…é¡»åŒæºè¯·æ±‚æ‰è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚ åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯ã€‚ åœ¨ HTTP å¤´ä¸­è‡ªå®šä¹‰å±æ€§å¹¶éªŒè¯ã€‚ åœ¨2016å¹´5æœˆï¼ŒGoogleèµ·è‰äº†ä¸€ä»½è‰æ¡ˆæ¥æ”¹è¿›HTTPåè®®ã€‚åœ¨2016å¹´çš„chrome 51ç‰ˆæœ¬ä¸­ä¸ºSet-Cookieå“åº”å¤´æ–°å¢SameSiteå±æ€§ï¼Œå®ƒç”¨æ¥æ ‡æ˜è¿™ä¸ª Cookieæ˜¯ä¸ªâ€œåŒç«™ Cookieâ€ï¼Œæ¥æ§åˆ¶åŸæœ¬â€œç¬¬ä¸‰æ–¹cookieâ€å¸¦æ¥çš„å®‰å…¨é£é™©ã€‚ SameSiteå±æ€§ä½¿ç”¨SameSiteè¿™ä¸ªå±æ€§æ—¶ï¼šéœ€è¦åœ¨Set-Cookieä¸­åŠ å…¥SameSiteå±æ€§ï¼Œå¹¶å¯ä»¥å¯¹å…¶èµ‹äºˆå‡ ç§å€¼ï¼Œä¾‹å¦‚ï¼š 1Set - Cookie : key = value ; HttpOnly ; SameSite = Strict ä¸¥æ ¼æ¨¡å¼1SameSite=Strict å«ä¹‰ä¸ºï¼šæ­¤cookieä¸ºç¦æ­¢å‘é€æ‰€æœ‰ç¬¬ä¸‰æ–¹é“¾æ¥çš„cookieã€‚å½“æˆ‘ä»¬é€šè¿‡å…¶ä»–ç½‘ç«™æ¥è®¿é—®ä¸€ä¸ªæœ‰ SameSite-Cookies æœºåˆ¶çš„ç½‘ç«™æ—¶ï¼Œä¾‹å¦‚ä» a.com ç‚¹å‡»é“¾æ¥è¿›å…¥ b.comï¼Œå¦‚æœ b.com è®¾ç½®äº† Set-Cookie:foo=bar;SameSite=Strictï¼Œé‚£ä¹ˆï¼Œfoo=bar è¿™ä¸€ cookie æ˜¯ä¸ä¼šéšç€ request å‘é€çš„ï¼Œè¿™å°±é˜²å¾¡äº†CSRFã€‚ å®½æ¾æ¨¡å¼1SameSite=LAX å®½æ¾æ¨¡å¼ä¸‹ä¹Ÿä¸æ˜¯å…è®¸æ‰€æœ‰ç±»å‹çš„è·¨åŸŸè¯·æ±‚éƒ½å¯ä»¥æºå¸¦cookieï¼Œé™åˆ¶æœ‰ä»¥ä¸‹å‡ ç±»ï¼š å…è®¸å‘é€å®‰å…¨ HTTP è¯·æ±‚ç±»å‹ï¼ˆ GET , HEAD , OPTIONS , TRACE ï¼‰ç¬¬ä¸‰æ–¹é“¾æ¥çš„ cookiesã€‚ å¿…é¡»æ˜¯ TOP-LEVEL å³å¯å¼•èµ·åœ°å€æ å˜åŒ–çš„è·³è½¬æ–¹å¼ï¼Œä¾‹å¦‚&lt;a&gt; , &lt;link rel = &quot;prerender&quot; &gt; ï¼Œä»¥åŠGET æ–¹å¼çš„ form è¡¨å• ï¼Œæ­¤å¤–ï¼Œ XMLHttpRequest , å›¾æ ‡æ ‡ç­¾çš„åœ°å€ç­‰æ–¹å¼è¿›è¡Œ GET æ–¹å¼çš„è®¿é—®å°†ä¸ä¼šå‘é€ cookiesã€‚ å‘é€ä¸å®‰å…¨ HTTP æ–¹æ³•ï¼ˆ POST , PUT , DELETE ï¼‰ç±»å‹çš„http è¯·æ±‚è¢«è§†ä¸ºä¸å®‰å…¨çš„çš„è¯·æ±‚ï¼Œç¦æ­¢æºå¸¦ç¬¬ä¸‰æ–¹é“¾æ¥çš„cookiesã€‚ æ­¤å¤–ï¼Œå€¼å¾—è¯´æ˜çš„æ˜¯ï¼šå¦‚æœæˆ‘ä»¬ç»™cookieæ·»åŠ äº†SameSiteå…³é”®å­—ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å®š valueï¼ˆLax or Stictï¼‰ï¼Œä¾‹å¦‚Set - Cookie : key = value ; HttpOnly ; SameSiteæ­¤ç§æƒ…å†µä¸‹ï¼Œchromeæµè§ˆå™¨ä¼šè®¤ä¸ºç­‰åŒäºSet - Cookie : key = value ; HttpOnly ; SameSite = Strictä»¥ä¸Šå³æ˜¯æˆªæ­¢åˆ°ç›®å‰å¯¹äºcookieçš„å¤„ç†æ–¹å¼ã€‚","link":"/2019/08/13/Chomeæµè§ˆå™¨å®‰å…¨æ–°ç‰¹æ€§ä¹‹SameSite/"},{"title":"çº¯CSSå®ç°æ–‡æœ¬æº¢å‡ºçœç•¥æ•ˆæœ","text":"å•è¡Œæ–‡æœ¬ã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºåæ˜¾ç¤ºçœç•¥å· å•è¡Œæ–‡å­—1234567&lt;style&gt; p { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }&lt;/style&gt; å¤šè¡Œæ–‡å­—å’Œå•è¡Œæ–‡å­—ä¸€æ ·ï¼Œéƒ½éœ€è¦ç”¨åˆ°overflow: hidden;ã€‚ 12345678&lt;style&gt; p { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-clamp: 3; // è¡Œæ•° }&lt;/style&gt; å¤šè¡Œæ–‡å­—è€ƒè™‘å…¼å®¹æ€§1234567891011121314151617181920&lt;style&gt; p { overflow: hidden; position: relative; max-height: 40px; line-height: 20px; } p::after { content: \"...\"; position: absolute; bottom: 0; right: 0; padding-left: 40px; background: -webkit-linear-gradient(left, transparent, #fff 55%); background: -o-linear-gradient(right, transparent, #fff 55%); background: -moz-linear-gradient(right, transparent, #fff 55%); background: linear-gradient(to right, transparent, #fff 55%); }&lt;/style&gt;","link":"/2019/08/20/çº¯CSSå®ç°æ–‡æœ¬æº¢å‡ºçœç•¥æ•ˆæœ/"},{"title":"å“åº”å¼å›¾ç‰‡","text":"æ‰€è°“å“åº”å¼å›¾ç‰‡ï¼Œå°±æ˜¯æ ¹æ®å®¢æˆ·ç«¯çš„æƒ…å†µè¿”å›æœ€é€‚åˆå®¢æˆ·ç«¯çš„å›¾ç‰‡ã€‚ å‚è€ƒåœ°å€ï¼šcjtingï¼Œé˜®ä¸€å³° pictureæ ‡ç­¾12345&lt;picture&gt; &lt;source srcset=\"a.jpg\"&gt; &lt;source srcset=\"b.jpg\"&gt; &lt;img src=\"c.jpg\" &gt;&lt;/picture&gt; &lt;picture&gt;æ ‡ç­¾ä¼šä» source ä¸­é€‰æ‹©æœ€åˆé€‚çš„ä¸€ä¸ªï¼Œç„¶åå°†å®ƒçš„ URL èµ‹å€¼ç»™ imgã€‚å¯¹äºä¸è®¤è¯† picture çš„æ—§æµè§ˆå™¨ï¼Œä»–ä»¬ä¼šå¿½ç•¥&lt;source&gt;æ ‡ç­¾ï¼Œåªæ¸²æŸ“ &lt;img&gt;æ ‡ç­¾ã€‚ æ³¨æ„ï¼š&lt;picture&gt;æ ‡ç­¾æœ€åä¸€å®šè¦åŒ…å«ä¸€ä¸ª &lt;img&gt;æ ‡ç­¾ï¼Œå¦åˆ™ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ˜¾ç¤ºã€‚ åŠ¨æ€å†…å®¹æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡ï¼Œä½¿ç”¨ &lt;source&gt;æ ‡ç­¾çš„mediaå±æ€§å³å¯ã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718&lt;picture&gt; &lt;!-- å¤§äºç­‰äº 1024px æ—¶ï¼Œæ˜¾ç¤º img-full.jpg --&gt; &lt;source media=\"(min-width: 1024px)\" srcset=\"img-full.jpg\" &gt; &lt;!-- å¤§äºç­‰äº 768px ä¸”å°äº 1024px æ—¶ï¼Œæ˜¾ç¤º img-center.jpg --&gt; &lt;source media=\"(min-width: 768px)\" srcset=\"img-center.jpg\" &gt; &lt;!-- å°äº 1024px æ—¶ï¼Œæ˜¾ç¤º img-default.jpg --&gt; &lt;img src=\"img-default.jpg\" &gt;&lt;/picture&gt; åŠ¨æ€æ ¼å¼æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡æ ¼å¼ï¼Œä½¿ç”¨ &lt;source&gt;æ ‡ç­¾çš„typeå±æ€§å³å¯ã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112&lt;picture&gt; &lt;!-- åœ¨æ”¯æŒ WebP çš„æµè§ˆå™¨ä¸Šä½¿ç”¨ img.webp --&gt; &lt;source srcset=\"img.webp\" type=\"image/webp\" &gt; &lt;!-- åœ¨ä¸æ”¯æŒ WebP çš„æµè§ˆå™¨ä¸Šä½¿ç”¨ img.jpg --&gt; &lt;img src=\"img.jpg\" &gt;&lt;/picture&gt; åŠ¨æ€åˆ†è¾¨ç‡æ ¹æ®å±å¹•çš„DPIè¿”å›åŒä¸€å¼ å›¾ç‰‡çš„ä¸åŒåˆ†è¾¨ç‡ç‰ˆæœ¬ï¼Œä½¿ç”¨ &lt;img&gt;æ ‡ç­¾çš„srcsetå±æ€§å³å¯ã€‚ srcsetå±æ€§ï¼š ç”¨æ¥æä¾›å¤šå¼ å›¾ç‰‡ï¼Œæµè§ˆå™¨ä¼šä¸‹è½½ä¸å…¶ DPR å¯¹åº”çš„æœ€ä½³å›¾ç‰‡ã€‚ å®ƒçš„å€¼æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†æ ¼å¼éƒ½æ˜¯ä¸€å¼ å›¾ç‰‡çš„ URL + æè¿°ç¬¦ã€‚ æè¿°ç¬¦æœ‰ä¸¤ç§ï¼š ç”¨ å­—æ¯x æ¥åŒºåˆ†è®¾å¤‡åƒç´ æ¯” (DPR) ç”¨ å­—æ¯w æ¥æè¿°å›¾ç‰‡çš„å®½åº¦ å¦‚æœsrcsetå±æ€§éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆå°±åŠ è½½srcå±æ€§æŒ‡å®šçš„é»˜è®¤å›¾ç‰‡ã€‚ åƒç´ å¯†åº¦æè¿°ç¬¦ï¼šæ ¼å¼æ˜¯åƒç´ å¯†åº¦å€æ•° + å­—æ¯xã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 12345678910111213&lt;!-- åœ¨ä½DPIä½¿ç”¨ img-200.jpgï¼Œåœ¨é«˜DPIä½¿ç”¨ img-400.jpg --&gt;&lt;img srcset=\" img-200.jpg, img-400.jpg 2x\" src=\"img-400.jpg\"&gt;&lt;style type=\"text/css\"&gt; img { width: 200px; }&lt;/style&gt; åŠ¨æ€å°ºå¯¸æ ¹æ®å®¢æˆ·ç«¯æƒ…å†µè¿”å›ä¸åŒçš„å›¾ç‰‡å°ºå¯¸ã€‚æˆ‘ä»¬éœ€è¦ç”¨åˆ° &lt;img&gt;æ ‡ç­¾çš„ä¸¤ä¸ªå±æ€§ï¼š æœ‰å“ªäº›å°ºå¯¸çš„å›¾ç‰‡ï¼ˆsrcsetå±æ€§æ¥æä¾›ï¼‰ æµè§ˆå™¨åœ¨ä¸åŒè§†çª—åº”è¯¥æ˜¾ç¤ºä»€ä¹ˆå°ºå¯¸çš„å›¾ç‰‡ï¼ˆsizeå±æ€§æ¥æŒ‡å®šï¼‰ ç¬¬ä¸€æ­¥ï¼Œsrcsetå±æ€§æä¾›å€¼ç±»ä¼¼äºåŠ¨æ€åˆ†è¾¨ç‡ï¼Œä¸è¿‡è¿™é‡Œçš„å•ä½ä¸ºå®½åº¦æè¿°ç¬¦ã€‚ å®½åº¦æè¿°ç¬¦ï¼šæ ¼å¼æ˜¯å›¾ç‰‡åŸå§‹çš„å®½åº¦ + å­—æ¯wã€‚ ç¬¬äºŒæ­¥ï¼Œsizeså±æ€§åˆ—å‡ºä¸åŒè®¾å¤‡çš„å›¾ç‰‡æ˜¾ç¤ºå®½åº¦ã€‚æ ¼å¼æ˜¯ä¸€ä¸ªæ”¾åœ¨æ‹¬å·é‡Œé¢çš„åª’ä½“æŸ¥è¯¢è¡¨è¾¾å¼ + å›¾ç‰‡çš„æ˜¾ç¤ºå®½åº¦ã€‚ æ³¨æ„ï¼šsizeså±æ€§å¿…é¡»ä¸srcsetå±æ€§æ­é…ä½¿ç”¨ã€‚å•ç‹¬ä½¿ç”¨sizeså±æ€§æ˜¯æ— æ•ˆçš„ã€‚ ç¬¬ä¸‰æ­¥ï¼Œæµè§ˆå™¨æ ¹æ®å½“å‰è®¾å¤‡çš„å®½åº¦ï¼Œä»sizeså±æ€§è·å¾—å›¾ç‰‡çš„æ˜¾ç¤ºå®½åº¦ï¼Œç„¶åä»srcsetå±æ€§æ‰¾å‡ºæœ€æ¥è¿‘è¯¥å®½åº¦çš„å›¾ç‰‡ï¼Œè¿›è¡ŒåŠ è½½ã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112&lt;img srcset=\" img-160.jpg 160w, img-320.jpg 320w, img-640.jpg 640w, img-1280.jpg 1280w\" sizes=\" (min-width: 440px) 100vw, (min-width: 900px) 33vw, 254px\" src=\"img-1280.jpg\"&gt; ä¸Šé¢ä»£ç ä¸­ï¼Œsizeså±æ€§ç»™å‡ºäº†ä¸‰ç§å±å¹•æ¡ä»¶ï¼Œä»¥åŠå¯¹åº”çš„å›¾ç‰‡æ˜¾ç¤ºå®½åº¦ï¼š å®½åº¦ä¸è¶…è¿‡ 440px çš„è®¾å¤‡ï¼Œå›¾ç‰‡æ˜¾ç¤ºå®½åº¦ä¸º 100% å®½åº¦ 441pxåˆ° 900px çš„è®¾å¤‡ï¼Œå›¾ç‰‡æ˜¾ç¤ºå®½åº¦ä¸º 33% å®½åº¦ 900px ä»¥ä¸Šçš„è®¾å¤‡ï¼Œå›¾ç‰‡æ˜¾ç¤ºå®½åº¦ä¸º 254px ä¸¾ä¸ªæ —å­ï¼š å‡å®šå½“å‰è®¾å¤‡çš„å±å¹•å®½åº¦æ˜¯480pxï¼Œæµè§ˆå™¨ä»sizeså±æ€§æŸ¥è¯¢å¾—åˆ°ï¼Œå›¾ç‰‡çš„æ˜¾ç¤ºå®½åº¦æ˜¯33vwï¼ˆå³33%ï¼‰ï¼Œç­‰äº160pxã€‚srcsetå±æ€§é‡Œé¢ï¼Œæ­£å¥½æœ‰å®½åº¦ç­‰äº160pxçš„å›¾ç‰‡ï¼Œäºæ˜¯åŠ è½½foo-160.jpgã€‚ ç»¼åˆåº”ç”¨ è§†å£ &gt;= 1280px æ—¶ æ ¹æ®è§†å£çš„å…·ä½“å®½åº¦ï¼Œè¿”å›ä¸åŒå°ºå¯¸çš„img-fullå›¾ç‰‡ å¦‚æœå®¢æˆ·ç«¯æ”¯æŒ WebPï¼Œè¿”å› WebP æ ¼å¼ è§†å£ &lt; 1280px æ—¶ æ ¹æ®è§†å£çš„å…·ä½“å®½åº¦ï¼Œè¿”å›ä¸åŒå°ºå¯¸çš„imgå›¾ç‰‡ å¦‚æœå®¢æˆ·ç«¯æ”¯æŒ WebPï¼Œè¿”å› WebP æ ¼å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;picture&gt; &lt;source media=\"(min-width: 1280px)\" sizes=\"50vw\" srcset=\" img-full-200.webp 200w, img-full-400.webp 400w, img-full-800.webp 800w, img-full-1200.webp 1200w, img-full-1600.webp 1600w, img-full-2000.webp 2000w\" type=\"image/webp\" &gt; &lt;source media=\"(min-width: 1280px)\" sizes=\"50vw\" srcset=\" img-full-200.jpg 200w, img-full-400.jpg 400w, img-full-800.jpg 800w, img-full-1200.jpg 1200w, img-full-1600.jpg 1800w, img-full-2000.jpg 2000w\" &gt; &lt;source sizes=\"(min-width: 640px) 60vw, 100vw\" srcset=\" img-200.webp 200w, img-400.webp 400w, img-800.webp 800w, img-1200.webp 1200w, img-1600.webp 1600w, img-2000.webp 2000w\" type=\"image/webp\" &gt; &lt;img src=\"img-400.jpg\" sizes=\"(min-width: 640px) 60vw, 100vw\" srcset=\" img-200.jpg 200w, img-400.jpg 400w, img-800.jpg 800w, img-1200.jpg 1200w, img-1600.jpg 1600w, img-2000.jpg 2000w\" &gt;&lt;/picture&gt;","link":"/2019/08/21/å“åº”å¼å›¾ç‰‡/"},{"title":"Git commit message è§„èŒƒ","text":"ä¹¦å†™è‰¯å¥½çš„commit messageèƒ½å¤§å¤§æé«˜ä»£ç ç»´æŠ¤çš„æ•ˆç‡ ç”¨ä»€ä¹ˆè§„èŒƒç°åœ¨å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„æ–¹æ¡ˆæ˜¯çº¦å®šå¼æäº¤è§„èŒƒï¼ˆConventional Commitsï¼‰ï¼Œå®ƒå—åˆ°äº†Angularæäº¤å‡†åˆ™çš„å¯å‘ï¼Œå¹¶åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä»¥å…¶ä¸ºä¾æ®ã€‚çº¦å®šå¼æäº¤è§„èŒƒæ˜¯ä¸€ç§åŸºäºæäº¤æ¶ˆæ¯çš„è½»é‡çº§çº¦å®šã€‚ å®ƒæä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»ºæ¸…æ™°çš„æäº¤å†å²çš„ç®€å•è§„åˆ™ï¼›è¿™ä½¿å¾—ç¼–å†™åŸºäºè§„èŒƒçš„è‡ªåŠ¨åŒ–å·¥å…·å˜å¾—æ›´å®¹æ˜“ã€‚è¿™ä¸ªçº¦å®šä¸SemVerç›¸å»åˆï¼Œåœ¨æäº¤ä¿¡æ¯ä¸­æè¿°æ–°ç‰¹æ€§ã€bug ä¿®å¤å’Œç ´åæ€§å˜æ›´ã€‚å®ƒçš„ message æ ¼å¼å¦‚ä¸‹ï¼š 12345&lt;ç±»å‹&gt;[å¯é€‰çš„ä½œç”¨åŸŸ]: &lt;æè¿°&gt;[å¯é€‰çš„æ­£æ–‡][å¯é€‰çš„è„šæ³¨] Quick Start1.å…¨å±€å®‰è£…commitizen &amp; cz-conventional-changelogcommitizenæ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼commit messageçš„å·¥å…·ï¼Œç”¨äºä»£æ›¿git commitæŒ‡ä»¤ã€‚ cz-conventional-changelogé€‚é…å™¨æä¾›conventional-changelogæ ‡å‡†ï¼ˆçº¦å®šå¼æäº¤æ ‡å‡†ï¼‰ã€‚åŸºäºä¸åŒéœ€æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒé€‚é…å™¨ã€‚ 12npm install -g commitizen cz-conventional-changelogecho &apos;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&apos; &gt; ~/.czrc å®‰è£…å®Œæ¯•åï¼Œå¯ç›´æ¥ä½¿ç”¨git czæ¥å–ä»£git commitã€‚ å…¨å±€æ¨¡å¼ä¸‹ï¼Œéœ€è¦ ~/.czrc é…ç½®æ–‡ä»¶, ä¸ºcommitizenæŒ‡å®šAdapterã€‚ 2.é¡¹ç›®å†…å®‰è£…commitlint &amp; huskycommitlintè´Ÿè´£ç”¨äºå¯¹commit messageè¿›è¡Œæ ¼å¼æ ¡éªŒã€‚ huskyè´Ÿè´£æä¾›æ›´æ˜“ç”¨çš„git hookã€‚ npm i -D husky @commitlint/config-conventional @commitlint/cli æˆ–è€… yarn add husky @commitlint/config-conventional @commitlint/cli -D commitlintåªèƒ½åšæ ¼å¼è§„èŒƒï¼Œæ— æ³•è§¦åŠå†…å®¹ã€‚å¯¹äºå†…å®¹è´¨é‡çš„æŠŠæ§åªèƒ½é æˆ‘ä»¬è‡ªå·±ã€‚ 3.æ·»åŠ ç›¸åº”é…ç½®åˆ›å»ºcommitlint.config.js 123# In the same path as package.jsonecho &apos;module.exports = {extends: [&quot;@commitlint/config-conventional&quot;]};&apos; &gt; ./commitlint.config.js å¼•å…¥husky 12345678# package.json...,&quot;husky&quot;: { &quot;hooks&quot;: { &quot;commit-msg&quot;: &quot;commitlint -e $GIT_PARAMS&quot; }} 4.ä½¿ç”¨æ‰§è¡Œgit czè¿›å…¥interactiveæ¨¡å¼ï¼Œæ ¹æ®æç¤ºä¾æ¬¡å¡«å†™ 12345678910111.Select the type of change that you&apos;re committing é€‰æ‹©æ”¹åŠ¨ç±»å‹ (&lt;type&gt;)2.What is the scope of this change (e.g. component or file name)? å¡«å†™æ”¹åŠ¨èŒƒå›´ (&lt;scope&gt;)3.Write a short, imperative tense description of the change: å†™ä¸€ä¸ªç²¾ç®€çš„æè¿° (&lt;subject&gt;)4.Provide a longer description of the change: (press enter to skip) å¯¹äºæ”¹åŠ¨å†™ä¸€æ®µé•¿æè¿° (&lt;body&gt;)5.Are there any breaking changes? (y/n) æ˜¯ç ´åæ€§ä¿®æ”¹å—ï¼Ÿé»˜è®¤n (&lt;footer&gt;)6.Does this change affect any openreve issues? (y/n) æ”¹åŠ¨ä¿®å¤äº†å“ªä¸ªé—®é¢˜ï¼Ÿé»˜è®¤n (&lt;footer&gt;) ç”Ÿæˆçš„commit messageæ ¼å¼å¦‚ä¸‹ï¼š 12345&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&lt;BLANK LINE&gt;&lt;body&gt;&lt;BLANK LINE&gt;&lt;footer&gt; å¡«å†™å®Œæ¯•åï¼Œhuskyä¼šè°ƒç”¨commitlintå¯¹messageè¿›è¡Œæ ¼å¼æ ¡éªŒï¼Œé»˜è®¤è§„å®štypeåŠsubjectä¸ºå¿…å¡«é¡¹ã€‚ ä»»ä½•git commitæŒ‡ä»¤çš„optionéƒ½èƒ½ç”¨åœ¨git czæŒ‡ä»¤ä¸Šï¼Œä¾‹å¦‚git cz -aã€‚ commit messageè§„èŒƒåœ¨rrd-feè½åœ°ä½¿ç”¨æƒ…å†µ1.typetypeä¸ºå¿…å¡«é¡¹ï¼Œç”¨äºæŒ‡å®šcommitçš„ç±»å‹ï¼Œçº¦å®šäº†featã€fixä¸¤ä¸ªä¸»è¦typeï¼Œä»¥åŠdocsã€styleã€buildã€refactorã€revertäº”ä¸ªç‰¹æ®Štypeï¼Œå…¶ä½™typeæš‚ä¸ä½¿ç”¨ã€‚ 12345678910111213141516# ä¸»è¦typefeat: å¢åŠ æ–°åŠŸèƒ½fix: ä¿®å¤bug# ç‰¹æ®Štypedocs: åªæ”¹åŠ¨äº†æ–‡æ¡£ç›¸å…³çš„å†…å®¹style: ä¸å½±å“ä»£ç å«ä¹‰çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚å»æ‰ç©ºæ ¼ã€æ”¹å˜ç¼©è¿›ã€å¢åˆ åˆ†å·build: æ„é€ å·¥å…·çš„æˆ–è€…å¤–éƒ¨ä¾èµ–çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚webpackï¼Œnpmrefactor: ä»£ç é‡æ„æ—¶ä½¿ç”¨revert: æ‰§è¡Œgit revertæ‰“å°çš„message# æš‚ä¸ä½¿ç”¨typetest: æ·»åŠ æµ‹è¯•æˆ–è€…ä¿®æ”¹ç°æœ‰æµ‹è¯•perf: æé«˜æ€§èƒ½çš„æ”¹åŠ¨ci: ä¸CIï¼ˆæŒç»­é›†æˆæœåŠ¡ï¼‰æœ‰å…³çš„æ”¹åŠ¨chore: ä¸ä¿®æ”¹srcæˆ–è€…testçš„å…¶ä½™ä¿®æ”¹ï¼Œä¾‹å¦‚æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ å½“ä¸€æ¬¡æ”¹åŠ¨åŒ…æ‹¬ä¸»è¦typeä¸ç‰¹æ®Štypeæ—¶ï¼Œç»Ÿä¸€é‡‡ç”¨ä¸»è¦typeã€‚ 2.scopescopeä¹Ÿä¸ºå¿…å¡«é¡¹ï¼Œç”¨äºæè¿°æ”¹åŠ¨çš„èŒƒå›´ï¼Œæ ¼å¼ä¸ºé¡¹ç›®å/æ¨¡å—åï¼Œä¾‹å¦‚ï¼šnode-pc/commonï¼Œrrd-h5/activityï¼Œè€Œwe-sdkä¸éœ€æŒ‡å®šæ¨¡å—åã€‚å¦‚æœä¸€æ¬¡commitä¿®æ”¹å¤šä¸ªæ¨¡å—ï¼Œå»ºè®®æ‹†åˆ†æˆå¤šæ¬¡commitï¼Œä»¥ä¾¿æ›´å¥½è¿½è¸ªå’Œç»´æŠ¤ã€‚ 3.bodybodyå¡«å†™è¯¦ç»†æè¿°ï¼Œä¸»è¦æè¿°æ”¹åŠ¨ä¹‹å‰çš„æƒ…å†µåŠä¿®æ”¹åŠ¨æœºï¼Œå¯¹äºå°çš„ä¿®æ”¹ä¸ä½œè¦æ±‚ï¼Œä½†æ˜¯é‡å¤§éœ€æ±‚ã€æ›´æ–°ç­‰å¿…é¡»æ·»åŠ bodyæ¥ä½œè¯´æ˜ã€‚ 4.break changesbreak changesæŒ‡æ˜æ˜¯å¦äº§ç”Ÿäº†ç ´åæ€§ä¿®æ”¹ï¼Œæ¶‰åŠbreak changesçš„æ”¹åŠ¨å¿…é¡»æŒ‡æ˜è¯¥é¡¹ï¼Œç±»ä¼¼ç‰ˆæœ¬å‡çº§ã€æ¥å£å‚æ•°å‡å°‘ã€æ¥å£åˆ é™¤ã€è¿ç§»ç­‰ã€‚ 5.affect issuesaffect issuesæŒ‡æ˜æ˜¯å¦å½±å“äº†æŸä¸ªé—®é¢˜ã€‚ä¾‹å¦‚æˆ‘ä»¬ä½¿ç”¨jiraæ—¶ï¼Œæˆ‘ä»¬åœ¨commit messageä¸­å¯ä»¥å¡«å†™å…¶å½±å“çš„JIRA_IDï¼Œè‹¥è¦å¼€å¯è¯¥åŠŸèƒ½éœ€è¦å…ˆæ‰“é€šjiraä¸gitlabï¼Œå‚è§æ–‡æ¡£ã€‚å¡«å†™æ–¹å¼ä¾‹å¦‚ï¼š 12re #JIRA_IDfix #JIRA_ID ç¤ºä¾‹å®Œæ•´çš„commit messageç¤ºä¾‹ ç›¸åº”çš„git log æ‰©å±•é˜…è¯»conventional commits å¿…è¯» ä»‹ç»çº¦å®šå¼æäº¤æ ‡å‡†ã€‚Angularè§„èŒƒ å¿…è¯» ä»‹ç»Angularæ ‡å‡†æ¯ä¸ªéƒ¨åˆ†è¯¥å†™ä»€ä¹ˆã€è¯¥æ€ä¹ˆå†™ã€‚@commitlint/config-conventional å¿…è¯» ä»‹ç»commitlintçš„æ ¡éªŒè§„åˆ™config-conventionalï¼Œä»¥åŠä¸€äº›å¸¸è§passes/failsæƒ…å†µã€‚ å‚è€ƒåœ°å€ï¼šäººäººè´·å¤§å‰ç«¯æŠ€æœ¯ä¸­å¿ƒ","link":"/2019/08/28/Git-commit-message-è§„èŒƒ/"},{"title":"HTTPçŠ¶æ€ç ä¹‹é‡å®šå‘ï¼ˆ301ï¼Œ302ï¼‰","text":"HTTPçŠ¶æ€ç 301ã€302çš„ä½¿ç”¨åœºæ™¯ 301å’Œ302ä¹‹é—´çš„åŒºåˆ« 301ï¼šæ°¸ä¹…æ€§è½¬ç§»(Permanently Moved)ï¼Œ301é‡å®šå‘æ˜¯ç½‘é¡µæ›´æ”¹åœ°å€åå¯¹æœç´¢å¼•æ“æœ€å‹å¥½çš„æ–¹æ³•ï¼Œåˆ©äºSEOã€‚åªè¦ä¸æ˜¯ä¸´æ—¶æ¬ç§»çš„æƒ…å†µï¼Œéƒ½å»ºè®®ä½¿ç”¨301æ¥åšè½¬å€ã€‚å¦‚æœæˆ‘ä»¬æŠŠä¸€ä¸ªåœ°å€é‡‡ç”¨301è·³è½¬æ–¹å¼è·³è½¬çš„è¯ï¼Œæœç´¢å¼•æ“ä¼šæŠŠè€åœ°å€çš„PageRankç­‰ä¿¡æ¯å¸¦åˆ°æ–°åœ°å€ï¼ŒåŒæ—¶åœ¨æœç´¢å¼•æ“ç´¢å¼•åº“ä¸­å½»åº•åºŸå¼ƒæ‰åŸå…ˆçš„è€åœ°å€ã€‚æ—§ç½‘å€çš„æ’åç­‰å®Œå…¨æ¸…é›¶ã€‚ 302ï¼šä¸´æ—¶æ€§è½¬ç§»(Temporarily Moved)ï¼Œè¿„ä»Šä¸ºæ­¢èƒ½å¤Ÿå¯¹302é‡å®šå‘å…·å¤‡ä¼˜å¼‚å¤„ç†èƒ½åŠ›çš„åªæœ‰Googleã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç½‘ç«™ä½¿ç”¨302é‡å®šå‘å‘½ä»¤å°†å…¶å®ƒåŸŸåæŒ‡å‘ä¸»åŸŸæ—¶ï¼Œåªæœ‰Googleä¼šæŠŠå…¶å®ƒåŸŸåçš„é“¾æ¥æˆç»©è®¡å…¥ä¸»åŸŸï¼Œè€Œå…¶å®ƒæœç´¢å¼•æ“åªä¼šæŠŠé“¾æ¥æˆç»©å‘å¤šä¸ªåŸŸååˆ†æ‘Šï¼Œä»è€Œå‰Šå¼±ä¸»ç«™çš„é“¾æ¥æ€»é‡ï¼Œä¸åˆ©ç”¨SEOã€‚æ—¢ç„¶ä½œä¸ºç½‘ç«™æ’åå…³é”®å› ç´ ä¹‹ä¸€çš„å¤–é“¾æ•°é‡å—åˆ°äº†å½±å“ï¼Œç½‘ç«™æ’åé™ä½ä¹Ÿæ˜¯å¾ˆè‡ªç„¶çš„äº‹æƒ…äº†ã€‚åœ¨å‰äº›å¹´ï¼Œä¸å°‘é»‘å¸½å­åˆ©ç”¨è¿™é¡¹æŠ€æœ¯ä½œå¼Šï¼Œç›®å‰ï¼Œå„å¤§ä¸»è¦æœç´¢å¼•æ“å‡åŠ å¼ºäº†æ‰“å‡»åŠ›åº¦ï¼ŒåƒGoogleå‰äº›å¹´å¯¹Business.comä»¥åŠè¿‘æ¥å¯¹BMWå¾·å›½ç½‘ç«™çš„æƒ©ç½šã€‚å³ä½¿ç½‘ç«™å®¢è§‚ä¸Šä¸æ˜¯spamï¼Œä¹Ÿå¾ˆå®¹æ˜“è¢«æœå¯»å¼•æ“å®¹æ˜“è¯¯åˆ¤ä¸ºspamè€Œé­åˆ°æƒ©ç½šã€‚ é‡å®šå‘","link":"/2019/08/22/HTTPçŠ¶æ€ç ä¹‹é‡å®šå‘ï¼ˆ301ï¼Œ302ï¼‰/"},{"title":"æ‰‹å†™å‡½æ•°ï¼šèŠ‚æµthrottleå’Œé˜²æŠ–debounce","text":"èŠ‚æµä¸é˜²æŠ–æ˜¯é«˜é¢‘è§¦å‘ä¼˜åŒ–æ–¹å¼ èŠ‚æµå½“è¾¾åˆ°äº†ä¸€å®šçš„æ—¶é—´é—´éš”å°±ä¼šæ‰§è¡Œä¸€æ¬¡ 123456789101112131415161718function throttle (fn, delay) { let prev = Date.now(); return function () { let context = this; let arg = arguments; let now = Date.now(); if (now - prev &gt;= delay) { fn.apply(context, arg) prev = Date.now(); } }}function fn () { console.log('èŠ‚æµ')}addEventListener('scroll', throttle(fn, 1000)); åŠ ä¸Šç«‹å³è§¦å‘å‚æ•°å¸¸è§ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢æ»šåŠ¨å’Œresize 12345678910111213141516171819202122232425262728&lt;body&gt; &lt;input oninput=\"handel(111)\"&gt;&lt;/input&gt;&lt;/body&gt;&lt;script&gt;function throttle(fn, delay, immediate) { let timer = null; retrun function () { let context = this; let arg = arguments; if (immediate) { fn.apply(context, args); } else { if (!timer) { timer = setTimeout(() =&gt; { fn.apply(context, args); timer = null; }, delay) } } }}let handel = throttle(checkVal, 1000, false)function checkVal() { console.log('sss'); console.log(arguments);}&lt;/script&gt; é˜²æŠ–å°†è‹¥å¹²å‡½æ•°è°ƒç”¨åˆæˆä¸ºä¸€æ¬¡ 1234567891011121314151617function debounce (fn, delay) { let timer = null; return function() { let context = this; let arg = arguments; clearTimeout(timer); timer = setTimeout(() =&gt; { fn.apply(context, arg) }, delay) }}function fn () { console.log('é˜²æŠ–')}addEventListener('scroll', debounce(fn, 1000)); åŠ ä¸Šç«‹å³è§¦å‘æ–¹å‚æ•°å¸¸è§ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·è¾“å…¥æ ¡éªŒ 12345678910111213141516171819202122232425262728&lt;body&gt; &lt;input oninput=\"handel(111)\"&gt;&lt;/input&gt;&lt;/body&gt;&lt;script&gt;function debounce(fn, delay, immediate) { let timer = null return function () { let context = this; let args = arguments; if (immediate) { fn.apply(context, args); } else { if (timer) { clearTimeout(timer); } timer = setTimeout(() =&gt; { fn.apply(context, args); }, delay) } }}let handel = debounce(checkVal, 1000, false)function checkVal() { console.log('sss'); console.log(arguments);}&lt;/script&gt;","link":"/2019/08/26/æ‰‹å†™å‡½æ•°ï¼šèŠ‚æµthrottleå’Œé˜²æŠ–debounce/"},{"title":"ReactNativeä¹‹ä½¿ç”¨Stethoè°ƒè¯•Androidé¡¹ç›®","text":"åœ¨RNä¸Šä½¿ç”¨Stethoè°ƒè¯•å®‰å“é¡¹ç›® ç¯å¢ƒé…ç½®æ­¥éª¤ æ‰“å¼€android/app/build.gradleæ–‡ä»¶ï¼Œåœ¨dependenciesä¸­æ·»åŠ ï¼š 12implementation 'com.facebook.stetho:stetho:1.3.1'implementation 'com.facebook.stetho:stetho-okhttp3:1.3.1' åœ¨android/app/src/main/java/com/{yourAppName}/MainApplication.javaæ–‡ä»¶ä¸­æ·»åŠ ï¼š 123456import com.facebook.react.modules.network.ReactCookieJarContainer;import com.facebook.stetho.Stetho;import okhttp3.OkHttpClient;import com.facebook.react.modules.network.OkHttpClientProvider;import com.facebook.stetho.okhttp3.StethoInterceptor;import java.util.concurrent.TimeUnit; ä¾æ—§åœ¨android/app/src/main/java/com/{yourAppName}/MainApplication.javaæ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°onCreate()ï¼Œæ·»åŠ å†…å®¹ï¼š 123456789101112public void onCreate() { super.onCreate(); Stetho.initializeWithDefaults(this); OkHttpClient client = new OkHttpClient.Builder() .connectTimeout(0, TimeUnit.MILLISECONDS) .readTimeout(0, TimeUnit.MILLISECONDS) .writeTimeout(0, TimeUnit.MILLISECONDS) .cookieJar(new ReactCookieJarContainer()) .addNetworkInterceptor(new StethoInterceptor()) .build(); OkHttpClientProvider.replaceOkHttpClient(client);} è¿è¡Œå‘½ä»¤react-native run-android æ‰“å¼€ä¸€ä¸ªæ–°çš„Chromeé€‰é¡¹å¡ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥chrome://inspectå¹¶å›è½¦ã€‚ ç¨ç­‰å‡ ç§’ï¼Œåœ¨é¡µé¢åˆ—è¡¨ä¸­æ‰¾åˆ°ä½ è¦è°ƒè¯•çš„è®¾å¤‡ï¼Œç‚¹å‡»Inspectã€‚ è‡³æ­¤ç»“æŸï¼","link":"/2019/08/30/ReactNativeä¹‹ä½¿ç”¨Stethoè°ƒè¯•Androidé¡¹ç›®/"},{"title":"ç”¨å›¾è¡¨å’Œå®ä¾‹è§£é‡ŠAsyncå’ŒAwait","text":"Promiseå’ŒAsync/Awaitï¼Œä¸€ç¯‡å†™çš„å¾ˆæ·±åˆ»çš„æ–‡ç«  ç®€ä»‹JavaScript ES7 ä¸­çš„ async / await è®©å¤šä¸ªå¼‚æ­¥ promise ååŒå·¥ä½œèµ·æ¥æ›´å®¹æ˜“ã€‚å¦‚æœè¦æŒ‰ä¸€å®šé¡ºåºä»å¤šä¸ªæ•°æ®åº“æˆ–è€… API å¼‚æ­¥è·å–æ•°æ®ï¼Œä½ å¯èƒ½ä¼šä»¥ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ promise å’Œå›è°ƒå‡½æ•°è€Œå‘Šç»ˆã€‚è€Œ async / await ç»“æ„è®©æˆ‘ä»¬èƒ½ç”¨å¯è¯»æ€§å¼ºã€æ˜“ç»´æŠ¤çš„ä»£ç æ›´åŠ ç®€æ´åœ°å®ç°è¿™äº›é€»è¾‘ã€‚æœ¬æ•™ç¨‹ç”¨å›¾è¡¨å’Œç®€å•ç¤ºä¾‹è®²è§£äº† JavaScript ä¸­ async / await çš„è¯­æ³•å’Œè¯­ä¹‰ã€‚åœ¨æ·±å…¥ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€å•å›é¡¾ä¸€ä¸‹ promise. å¦‚æœä½ å·²ç»å¯¹ JS çš„ promise æœ‰æ‰€äº†è§£ï¼Œå¯æ”¾å¿ƒå¤§èƒ†åœ°è·³è¿‡è¿™ä¸€éƒ¨åˆ†ã€‚ Promisesåœ¨ JavaScript ä¸­ï¼Œpromise ä»£è¡¨éé˜»å¡å¼‚æ­¥æ‰§è¡Œçš„æŠ½è±¡æ¦‚å¿µã€‚å¦‚æœä½ ç†Ÿæ‚‰Java çš„ Futureã€C# çš„ Task.aspx), ä½ ä¼šå‘ç° promise è·Ÿå®ƒä»¬å¾ˆåƒã€‚Promise ä¸€èˆ¬ç”¨äºç½‘ç»œå’Œ I/O æ“ä½œï¼Œæ¯”å¦‚è¯»å–æ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»º HTTP è¯·æ±‚ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºå¼‚æ­¥ promiseï¼Œç„¶åç”¨ then æ·»åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ promise ç»“æŸåä¼šè§¦å‘è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œéé˜»å¡ä½å½“å‰â€œçº¿ç¨‹â€ã€‚å›è°ƒå‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½å¤Ÿé“¾å¼è°ƒç”¨ promiseã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾åé¢æ‰€æœ‰ç¤ºä¾‹éƒ½å·²ç»åƒè¿™æ ·å®‰è£…å¹¶åŠ è½½äº† request-promise ç±»åº“ï¼š 1var rp = require(&apos;request-promise&apos;); ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥åƒè¿™æ ·åˆ›å»ºä¸€ä¸ªè¿”å› promise å¯¹è±¡çš„ç®€æ˜“ HTTP GET è¯·æ±‚ï¼š 1const promise = rp(&apos;http://example.com/&apos;) æˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸ªä¾‹å­ï¼š 123console.log(&apos;Starting Execution&apos;);const promise = rp(&apos;http://example.com/&apos;);promise.then(result =&gt; console.log(result)); console.log(&quot;Can&apos;t know if promise has finished yet...&quot;); æˆ‘ä»¬åœ¨ç¬¬3è¡Œåˆ›å»ºäº†ä¸€ä¸ª promise å¯¹è±¡ï¼Œåœ¨ç¬¬4è¡Œç»™å®ƒåŠ äº†ä¸ªå›è°ƒå‡½æ•°ã€‚Promise æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å½“æ‰§è¡Œåˆ°ç¬¬6è¡Œæ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ promise æ˜¯å¦å·²å®Œæˆã€‚å¦‚æœæŠŠæ®µè¿™ä»£ç å¤šæ‰§è¡Œå‡ æ¬¡ï¼Œå¯èƒ½æ¯æ¬¡éƒ½å¾—åˆ°ä¸åŒçš„ç»“æœã€‚ä¸€èˆ¬åœ°è¯´ï¼Œå°±æ˜¯ promise åˆ›å»ºåçš„ä»£ç å’Œ promise æ˜¯åŒæ—¶è¿è¡Œçš„ã€‚ ç›´åˆ° promise æ‰§è¡Œå®Œï¼Œæ‰æœ‰åŠæ³•é˜»å¡å½“å‰æ“ä½œåºåˆ—ã€‚è¿™ä¸åŒäº Java çš„ Future.get, å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ Future ç»“æŸä¹‹å‰å°±é˜»å¡å½“å‰çº¿ç¨‹ã€‚å¯¹äº JavaScriptï¼Œæˆ‘ä»¬æ²¡æ³•ç­‰å¾… promise æ‰§è¡Œå®Œã€‚åœ¨ promise åé¢ç¼–æ’ä»£ç çš„å”¯ä¸€æ–¹æ³•æ˜¯ç”¨ then ç»™å®ƒæ·»åŠ å›è°ƒå‡½æ•°ã€‚ä¸‹å›¾æè¿°äº†æœ¬ä¾‹çš„è®¡ç®—è¿‡ç¨‹ï¼š Promise çš„è®¡ç®—è¿‡ç¨‹ã€‚æ­£åœ¨æ‰§è¡Œçš„â€œçº¿ç¨‹â€æ— æ³•ç­‰å¾… promise æ‰§è¡Œå®Œæˆã€‚åœ¨ promise åé¢ç¼–æ’ä»£ç çš„å”¯ä¸€æ–¹æ³•æ˜¯ç”¨ then ç»™å®ƒæ·»åŠ å›è°ƒå‡½æ•°ã€‚é€šè¿‡ then æ·»åŠ çš„å›è°ƒå‡½æ•°åªæœ‰å½“ promise æˆåŠŸæ—¶æ‰ä¼šæ‰§è¡Œã€‚å¦‚æœå®ƒå¤±è´¥äº†ï¼ˆæ¯”å¦‚ç”±äºç½‘ç»œé”™è¯¯ï¼‰ï¼Œå›è°ƒå‡½æ•°ä¸ä¼šæ‰§è¡Œã€‚ä½ å¯ä»¥ç”¨ catch å†é™„åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥å¤„ç†å¤±è´¥çš„ promise: 123rp(&apos;http://example.com/&apos;).then(() =&gt; console.log(&apos;Success&apos;)).catch(e =&gt; console.log(`Failed: ${e}`)) æœ€åï¼Œä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ Promise.resolve å’Œ Promise.reject å¾ˆå®¹æ˜“åœ°åˆ›å»ºæ‰§è¡ŒæˆåŠŸæˆ–å¤±è´¥çš„â€œå‚»ç“œâ€ promise: 123456789101112const success = Promise.resolve(&apos;Resolved&apos;);// æ‰“å° &quot;Successful result: Resolved&quot;success. then(result =&gt; console.log(`Successful result: ${result}`)). catch(e =&gt; console.log(`Failed with: ${e}`)) const fail = Promise.reject(&apos;Err&apos;);// æ‰“å° &quot;Failed with: Err&quot;fail. then(result =&gt; console.log(`Successful result: ${result}`)). catch(e =&gt; console.log(`Failed with: ${e}`)) æƒ³è¦æ›´è¯¦ç»†çš„ promise æ•™ç¨‹ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚ é—®é¢˜æ¥äº†â€”â€”ç»„åˆpromiseåªç”¨ä¸€ä¸ª promise å¾ˆå®¹æ˜“æå®šã€‚ä½†æ˜¯ï¼Œå½“éœ€è¦é’ˆå¯¹å¤æ‚å¼‚æ­¥é€»è¾‘ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½æœ€åè¦åŒæ—¶ç”¨å¥½å‡ ä¸ª promise å¯¹è±¡ã€‚å†™ä¸€å † then è¯­å¥å’ŒåŒ¿åå›è°ƒå¾ˆå®¹æ˜“æå¾—éš¾ä»¥æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦ç¼–ç¨‹è§£å†³å¦‚ä¸‹éœ€æ±‚ï¼šåˆ›å»º HTTP è¯·æ±‚ï¼Œç­‰å¾…è¯·æ±‚ç»“æŸå¹¶æ‰“å°å‡ºç»“æœï¼›å†åˆ›å»ºä¸¤ä¸ªå¹¶è¡Œ HTTP è¯·æ±‚ï¼›ç­‰è¿™ä¸¤ä¸ªè¯·æ±‚ç»“æŸåï¼Œæ‰“å°å‡ºå®ƒä»¬çš„ç»“æœã€‚ä¸‹é¢è¿™æ®µä»£ç ç¤ºèŒƒäº†å¦‚ä½•è§£å†³æ­¤é—®é¢˜ï¼š 123456789101112131415// ç¬¬ä¸€æ¬¡è°ƒç”¨const call1Promise = rp(&apos;http://example.com/&apos;); call1Promise.then(result1 =&gt; { // ç¬¬ä¸€ä¸ªè¯·æ±‚å®Œæˆåä¼šæ‰§è¡Œ console.log(result1); const call2Promise = rp(&apos;http://example.com/&apos;); const call3Promise = rp(&apos;http://example.com/&apos;); return Promise.all([call2Promise, call3Promise]);}).then(arr =&gt; { // ä¸¤ä¸ª promise éƒ½ç»“æŸåä¼šæ‰§è¡Œ console.log(arr[0]); console.log(arr[1]);}) æˆ‘ä»¬å¼€å¤´åˆ›å»ºäº†ç¬¬ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œå¹¶ä¸”åŠ äº†ä¸ªå®Œæˆæ—¶å€™è¿è¡Œçš„å›è°ƒï¼ˆ1-3è¡Œï¼‰ã€‚åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œï¼Œæˆ‘ä»¬ä¸ºéšåçš„ HTTP è¯·æ±‚åˆ›å»ºäº†å¦å¤–ä¸¤ä¸ª promiseï¼ˆ8-9è¡Œï¼‰ã€‚è¿™ä¸¤ä¸ª promise åŒæ—¶æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªèƒ½ç­‰å®ƒä»¬éƒ½å®Œæˆåæ‰æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ Promise.all å°†å®ƒä»¬ç»„åˆåˆ°åŒä¸€ä¸ª promise ä¸­ï¼ˆ11 è¡Œï¼‰ï¼Œå®ƒä»¬éƒ½ç»“æŸåè¿™ä¸ª promise æ‰ç®—å®Œæˆã€‚è¿™ä¸ªå›è°ƒè¿”å›çš„æ˜¯ promise å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å†åŠ ä¸€ä¸ª then å›è°ƒå‡½æ•°æ¥æ‰“å°ç»“æœï¼ˆ12-16è¡Œï¼‰ã€‚ä¸‹å›¾æè¿°äº†è¿™ä¸€è®¡ç®—æµç¨‹ï¼š Promise ç»„åˆçš„è®¡ç®—è¿‡ç¨‹ã€‚æˆ‘ä»¬ç”¨ Promise.all å°†ä¸¤ä¸ªå¹¶è¡Œçš„ promise ç»„åˆåˆ°ä¸€ä¸ª promise ä¸­ã€‚å¯¹äºè¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬æœ€åç”¨äº†ä¸¤ä¸ª then å›è°ƒæ–¹æ³•ï¼Œå¹¶ä¸”ä¸å¾—ä¸ç”¨ Promise.all æ¥è®©ä¸¤ä¸ªå¹¶è¡Œçš„ promise åŒæ—¶æ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬å¿…é¡»æ‰§è¡Œæ›´å¤šå¼‚æ­¥æ“ä½œï¼Œæˆ–è€…åŠ ä¸Šé”™è¯¯å¤„ç†ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿè¿™ç§æ–¹æ³•æœ€åå¾ˆå®¹æ˜“äº§ç”Ÿä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„ then, Promise.all å’Œå›è°ƒå‡½æ•°ã€‚ Asyncæ–¹æ³•Async æ˜¯å®šä¹‰è¿”å› promise å¯¹è±¡å‡½æ•°çš„å¿«æ·æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸¤ç§å®šä¹‰æ˜¯ç­‰ä»·çš„ï¼š 12345678function f() { return Promise.resolve(&apos;TEST&apos;);}// asyncF å’Œ f æ˜¯ç­‰ä»·çš„async function asyncF() { return &apos;TEST&apos;;} Awaitæˆ‘ä»¬åˆ›å»ºäº† promise ä½†ä¸èƒ½åŒæ­¥ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡ then ä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ä¸å…è®¸ç­‰å¾… promise æ˜¯ä¸ºäº†é¼“åŠ±å¼€å‘éé˜»å¡ä»£ç ã€‚å¦åˆ™ï¼Œå¼€å‘è€…ä»¬æ€»ä¼šå¿ä¸ä½æ‰§è¡Œé˜»å¡æ“ä½œï¼Œå› ä¸ºé‚£æ¯”ä½¿ç”¨ promise å’Œå›è°ƒæ›´ç®€å•ã€‚ç„¶è€Œï¼Œä¸ºäº†è®© promise èƒ½åŒæ­¥æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦è®©ä»–ä»¬ç­‰å¾…å½¼æ­¤å®Œæˆã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä¸€ä¸ªæ“ä½œæ˜¯å¼‚æ­¥çš„ï¼ˆå³å°è£…åœ¨ promise ä¸­ï¼‰ï¼Œå®ƒåº”è¯¥èƒ½å¤Ÿç­‰å¾…å¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œã€‚ä½†æ˜¯ JavaScript è§£é‡Šå™¨æ€ä¹ˆèƒ½çŸ¥é“ä¸€ä¸ªæ“ä½œæ˜¯å¦åœ¨ promise ä¸­è¿è¡Œå‘¢ï¼Ÿç­”æ¡ˆå°±åœ¨ async è¿™ä¸ªå…³é”®è¯ä¸­ã€‚æ¯ä¸ª async æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ª promise å¯¹è±¡ã€‚å› æ­¤ï¼ŒJavaScript è§£é‡Šå™¨å°±æ˜ç™½æ‰€æœ‰ async æ–¹æ³•ä¸­çš„æ“ä½œéƒ½è¢«å°è£…åœ¨ promise é‡Œå¼‚æ­¥æ‰§è¡Œã€‚æ‰€ä»¥è§£é‡Šå™¨èƒ½å¤Ÿå…è®¸å®ƒä»¬ç­‰å¾…å…¶ä»– promise æ‰§è¡Œå®Œã€‚ä¸‹é¢å¼•å…¥ await å…³é”®è¯ã€‚å®ƒåªèƒ½è¢«ç”¨åœ¨ async æ–¹æ³•ä¸­ï¼Œè®©æˆ‘ä»¬èƒ½åŒæ­¥ç­‰å¾… promise æ‰§è¡Œå®Œã€‚å¦‚æœåœ¨ async å‡½æ•°å¤–ä½¿ç”¨ promise, æˆ‘ä»¬ä»ç„¶éœ€è¦ç”¨ then å›è°ƒå‡½æ•°ï¼š 123456789async function f(){ // response å°±æ˜¯ promise æ‰§è¡ŒæˆåŠŸçš„å€¼ const response = await rp(&apos;http://example.com/&apos;); console.log(response);} // ä¸èƒ½åœ¨ async æ–¹æ³•å¤–é¢ç”¨ await// éœ€è¦ä½¿ç”¨ then å›è°ƒå‡½æ•°â€¦â€¦f().then(() =&gt; console.log(&apos;Finished&apos;)); ç°åœ¨æˆ‘ä»¬æ¥çœ‹å¦‚ä½•è§£å†³ä¸Šä¸€èŠ‚çš„é—®é¢˜ï¼š 1234567891011121314151617181920212223// å°†è§£å†³æ–¹æ³•å°è£…åˆ° async å‡½æ•°ä¸­async function solution() { // ç­‰å¾…ç¬¬ä¸€ä¸ª HTTP è¯·æ±‚å¹¶æ‰“å°å‡ºç»“æœ console.log(await rp(&apos;http://example.com/&apos;)); // åˆ›å»ºä¸¤ä¸ª HTTP è¯·æ±‚ï¼Œä¸ç­‰å®ƒä»¬æ‰§è¡Œå®Œ â€”â€” è®©ä»–ä»¬åŒæ—¶æ‰§è¡Œ const call2Promise = rp(&apos;http://example.com/&apos;); // Does not wait! const call3Promise = rp(&apos;http://example.com/&apos;); // Does not wait! // åˆ›å»ºå®Œä»¥å â€”â€” ç­‰å¾…å®ƒä»¬éƒ½æ‰§è¡Œå®Œ const response2 = await call2Promise; const response3 = await call3Promise; console.log(response2); console.log(response3);} // è°ƒç”¨è¿™ä¸€ async å‡½æ•°solution().then(() =&gt; console.log(&apos;Finished&apos;)); ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠè§£å†³æ–¹æ³•å°è£…åˆ° async å‡½æ•°ä¸­ã€‚è¿™è®©æˆ‘ä»¬èƒ½ç›´æ¥å¯¹é‡Œé¢çš„ promise ä½¿ç”¨ await å…³é”®å­—ï¼Œæ‰€ä»¥ä¸å†éœ€è¦ä½¿ç”¨ then å›è°ƒå‡½æ•°ã€‚æœ€åï¼Œè°ƒç”¨è¿™ä¸ª async å‡½æ•°ï¼Œå®ƒç®€å•åœ°åˆ›å»ºäº†ä¸€ä¸ª promise å¯¹è±¡, è¿™ä¸ª promise å°è£…äº†è°ƒç”¨å…¶ä»– promise çš„é€»è¾‘ã€‚å½“ç„¶ï¼Œåœ¨ç¬¬ä¸€ä¸ªä¾‹å­ï¼ˆæ²¡æœ‰ç”¨ async / awaitï¼‰ä¸­ï¼Œä¸¤ä¸ª promiseä¼šè¢«åŒæ—¶è§¦å‘ã€‚è¿™æ®µä»£ç ä¹Ÿä¸€æ ·ï¼ˆ7-8 è¡Œï¼‰ã€‚æ³¨æ„ï¼Œç›´åˆ°ç¬¬ 11-12 è¡Œæˆ‘ä»¬æ‰ä½¿ç”¨ await, å°†ç¨‹åºä¸€ç›´é˜»å¡åˆ°ä¸¤ä¸ª promise æ‰§è¡Œå®Œæˆã€‚ç„¶åæˆ‘ä»¬å°±èƒ½æ–­å®šä¸Šä¾‹ä¸­ä¸¤ä¸ª promise éƒ½æˆåŠŸæ‰§è¡Œäº†ï¼ˆå’Œä½¿ç”¨ Promise.all(â€¦).then(â€¦) ç±»ä¼¼ï¼‰ã€‚è¿™èƒŒåçš„è®¡ç®—è¿‡ç¨‹è·Ÿä¸Šä¸€èŠ‚ç»™å‡ºçš„åŸºæœ¬ç›¸å½“ã€‚ä½†æ˜¯ä»£ç å¯è¯»æ€§æ›´å¼ºã€æ›´æ˜“äºç†è§£ã€‚å®é™…ä¸Šï¼Œasync / await åœ¨åº•å±‚è½¬æ¢æˆäº† promise å’Œ then å›è°ƒå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä½¿ç”¨ promise çš„è¯­æ³•ç³–ã€‚æ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨ await, è§£é‡Šå™¨éƒ½åˆ›å»ºä¸€ä¸ª promise å¯¹è±¡ï¼Œç„¶åæŠŠå‰©ä¸‹çš„ async å‡½æ•°ä¸­çš„æ“ä½œæ”¾åˆ° then å›è°ƒå‡½æ•°ä¸­ã€‚æˆ‘ä»¬å†çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 12345async function f() { console.log(&apos;Starting F&apos;); const result = await rp(&apos;http://example.com/&apos;); console.log(result);} ä¸‹é¢ç»™å‡ºäº†å‡½æ•° f åº•å±‚è¿ç®—è¿‡ç¨‹ã€‚ç”±äº f æ˜¯ async çš„ï¼Œæ‰€ä»¥å®ƒä¼šè·Ÿå®ƒçš„è°ƒç”¨æ–¹åŒæ—¶æ‰§è¡Œï¼š å‡½æ•° f å¼€å§‹è¿è¡Œå¹¶åˆ›å»ºäº†ä¸€ä¸ª promise å¯¹è±¡ã€‚å°±åœ¨é‚£ä¸€åˆ»ï¼Œå‡½æ•°ä¸­å‰©ä¸‹çš„éƒ¨åˆ†è¢«å°è£…åˆ°ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œå¹¶åœ¨ promise ç»“æŸåæ‰§è¡Œã€‚ é”™è¯¯å¤„ç†å‰é¢å¤§éƒ¨åˆ†ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éƒ½å‡è®¾ promise æ‰§è¡ŒæˆåŠŸã€‚å› æ­¤åœ¨ promise ä¸Šä½¿ç”¨ await ä¼šè¿”å›å€¼ã€‚å¦‚æœæˆ‘ä»¬è¿›è¡Œ await çš„ promise å¤±è´¥äº†ï¼Œasync å‡½æ•°å°±ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ ‡å‡†çš„ try / catch æ¥å¤„ç†è¿™ç§æƒ…å†µï¼š 1234567async function f() { try { const promiseResult = await Promise.reject(&apos;Error&apos;); } catch (e){ console.log(e); }} Async å‡½æ•°ä¸ä¼šå¤„ç†å¼‚å¸¸ï¼Œä¸ç®¡å¼‚å¸¸æ˜¯ç”±æ‹’ç»çš„ promise è¿˜æ˜¯å…¶ä»– bug å¼•èµ·çš„ï¼Œå®ƒéƒ½ä¼šè¿”å›ä¸€ä¸ªæ‹’ç» promise: 123456789101112131415161718async function f() { // Throws an exception const promiseResult = await Promise.reject(&apos;Error&apos;);}// Will print &quot;Error&quot;f(). then(() =&gt; console.log(&apos;Success&apos;)). catch(err =&gt; console.log(err))async function g() { throw &quot;Error&quot;;}// Will print &quot;Error&quot;g(). then(() =&gt; console.log(&apos;Success&apos;)). catch(err =&gt; console.log(err)) è¿™è®©æˆ‘ä»¬èƒ½å¾—å¿ƒåº”æ‰‹åœ°é€šè¿‡ç†Ÿæ‚‰çš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ¥å¤„ç†æ‹’ç»çš„ promise. è®¨è®ºAsync / await æ˜¯è®© promise æ›´å®Œç¾çš„è¯­è¨€ç»“æ„ã€‚å®ƒè®©æˆ‘ä»¬èƒ½ç”¨æ›´å°‘çš„ä»£ç ä½¿ç”¨ promise. ç„¶è€Œï¼Œasync / await å¹¶æ²¡æœ‰å–ä»£æ™®é€š promise. ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ™®é€šå‡½æ•°ä¸­æˆ–è€…å…¨å±€èŒƒå›´å†…è°ƒç”¨ async å‡½æ•°ï¼Œæˆ‘ä»¬å°±æ²¡åŠæ³•ä½¿ç”¨ await è€Œè¦ä¾èµ–äºæ™®é€š promise: 1234567async function fAsync() { // actual return value is Promise.resolve(5) return 5;}// can&apos;t call &quot;await fAsync()&quot;. Need to use then/catchfAsync().then(r =&gt; console.log(`result is ${r}`)); æˆ‘é€šå¸¸ä¼šå°†å¤§éƒ¨åˆ†å¼‚æ­¥é€»è¾‘å°è£…åˆ°ä¸€ä¸ªæˆ–è€…å‡ ä¸ª async å‡½æ•°ä¸­ï¼Œç„¶ååœ¨éå¼‚æ­¥ä»£ç ä¸­è°ƒç”¨ã€‚è¿™è®©æˆ‘å°½å¯èƒ½å°‘åœ°å†™ try / catch å›è°ƒã€‚Async / await ç»“æ„æ˜¯è®©ä½¿ç”¨ promise æ›´ç®€ç»ƒçš„è¯­æ³•ç³–ã€‚æ¯ä¸€ä¸ª async / await ç»“æ„éƒ½å¯ä»¥å†™æˆæ™®é€š promise. å½’æ ¹ç»“åº•ï¼Œè¿™æ˜¯ä¸€ä¸ªç¼–ç é£æ ¼å’Œç®€æ´çš„é—®é¢˜ã€‚å…³äºè¯´æ˜å¹¶å‘å’Œå¹¶è¡Œæœ‰åŒºåˆ«çš„èµ„æ–™ï¼Œå¯ä»¥æŸ¥çœ‹ Rob Pike å…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®ºï¼Œæˆ–è€…æˆ‘è¿™ç¯‡æ–‡ç« ã€‚å¹¶å‘æ˜¯æŒ‡å°†ç‹¬ç«‹è¿›ç¨‹ï¼ˆé€šå¸¸æ„ä¹‰ä¸Šçš„è¿›ç¨‹ï¼‰ç»„åˆåœ¨ä¸€èµ·å·¥ä½œï¼Œè€Œå¹¶è¡Œæ˜¯æŒ‡çœŸæ­£åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚å¹¶å‘å…³ä¹åº”ç”¨è®¾è®¡å’Œæ¶æ„ï¼Œè€Œå¹¶è¡Œå…³ä¹å®å®åœ¨åœ¨çš„æ‰§è¡Œã€‚æˆ‘ä»¬æ‹¿ä¸€ä¸ªå¤šçº¿ç¨‹åº”ç”¨æ¥ä¸¾ä¾‹ã€‚åº”ç”¨ç¨‹åºåˆ†ç¦»æˆçº¿ç¨‹æ˜ç¡®äº†å®ƒçš„å¹¶å‘æ¨¡å‹ã€‚è¿™äº›çº¿ç¨‹åœ¨å¯ç”¨å†…æ ¸ä¸Šçš„æ˜ å°„å®šä¹‰äº†å…¶çº§åˆ«æˆ–å¹¶è¡Œæ€§ã€‚å¹¶å‘ç³»ç»Ÿå¯ä»¥åœ¨å•ä¸ªå¤„ç†å™¨ä¸Šé«˜æ•ˆè¿è¡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå¹¶ä¸æ˜¯å¹¶è¡Œçš„ã€‚ å¹¶å‘VSå¹¶è¡Œï¼š ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œpromise è®©æˆ‘ä»¬èƒ½å¤Ÿå°†ç¨‹åºåˆ†è§£æˆå¹¶å‘æ¨¡å—ï¼Œè¿™äº›æ¨¡å—å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šå¹¶è¡Œæ‰§è¡Œã€‚Javascript å®é™…å¦å¹¶è¡Œæ‰§è¡Œå–å†³äºå…·ä½“å®ç°æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒNode JS æ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœ promise æ˜¯è®¡ç®—å¯†é›†å‹ï¼ˆCPU boundï¼‰é‚£å°±ä¸ä¼šæœ‰å¹¶è¡Œå¤„ç†ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ç”¨ Nashorn ä¹‹ç±»çš„ä¸œè¥¿æŠŠä»£ç ç¼–è¯‘æˆ java å­—èŠ‚ç ï¼Œç†è®ºä¸Šå¯èƒ½èƒ½å¤Ÿå°†è®¡ç®—å¯†é›†å‹çš„ promise æ˜ å°„åˆ°ä¸åŒ CPU æ ¸ä¸Šï¼Œä»è€Œè¾¾åˆ°å¹¶è¡Œæ•ˆæœã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œpromiseï¼ˆä¸ç®¡æ˜¯æ™®é€šçš„è¿˜æ˜¯ç”¨äº† async / await çš„ï¼‰ç»„æˆäº† JavaScript åº”ç”¨çš„å¹¶å‘æ¨¡å—ã€‚","link":"/2019/07/08/ç”¨å›¾è¡¨å’Œå®ä¾‹è§£é‡ŠAsyncå’ŒAwait/"},{"title":"æ•°æ®ç»“æ„ï¼šå…«å¤§æ’åº","text":"å‚è€ƒåœ°å€ï¼šHandsome-Lee æ’åºåˆ†ç±»ä¸€è§ˆ ç±»å‹ä¸€ï¼šäº¤æ¢æ’åºå†’æ³¡æ’åº ç‰¹ç‚¹ï¼šç¨³å®šï¼Œæ¯ä¸€æ¬¡éƒ½ä¼šæœ‰ä¸€ä¸ªæ•°å­—åˆ°æœ€ç»ˆçš„ä½ç½® 123456789101112void swap(int &amp;a,int &amp;b){ int c = a; a = b; b = c;}void bubbleSort(int a[],int num){ for(int i=0;i&lt;num-1;i++) for(int j=0;j&lt;num-i-1;j++) if(a[j]&gt;a[j+1])swap(a[j],a[j+1]);} å¿«é€Ÿæ’åº ç‰¹ç‚¹ï¼šä¸ç¨³å®šï¼Œæ¯æ¬¡ä¸­é—´çš„æ•°å­—ä¼šæœ‰åºï¼Œå¦‚æœæ•°æ®é‡å¤ªå¤§çš„è¯ï¼Œå¯èƒ½ä¼šçˆ†æ ˆã€‚ 1234567891011121314151617181920212223int qivotPosition(int a[],int low,int high){ int temp = a[low]; while(low&lt;high) { while(low&lt;high&amp;&amp;a[high]&gt;=temp)high--; a[low] = a[high]; while(low&lt;high&amp;&amp;a[low]&lt;=temp)low++; a[high] = a[low]; } a[low] = temp; return low;}void quickSort(int a[],int low,int high){ if(low&lt;high) { int qivot = qivotPosition(a,low,high); quickSort(a,low,qivot-1); quickSort(a,qivot+1,high); }} æ¯”è¾ƒ æ’åºæ–¹æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ å†’æ³¡æ’åº O(n2) O(1) æ˜¯ å¿«é€Ÿæ’åº O(nlogn) O(logn) å¦ ç±»å‹äºŒï¼šæ’å…¥æ’åºç›´æ¥æ’å…¥æ’åº ç‰¹ç‚¹ï¼šç¨³å®šï¼Œå‰é¢çš„ä¸€éƒ¨åˆ†æ€»æ˜¯æœ‰åºçš„ï¼Œæ•°æ®é‡æ¯”è¾ƒå°çš„æ—¶å€™é€‚ç”¨ã€‚ 123456789101112131415void directInsert(int a[],int num){ int temp; for(int i=0; i&lt;num-1; i++) { if(a[i]&gt;a[i+1]) { int j; temp = a[i+1]; for(j=i; temp&lt;a[j]&amp;&amp;j&gt;=0; j-- ) a[j+1] = a[j]; a[j+1] = temp; } }} å¸Œå°”æ’åº ç‰¹ç‚¹ï¼šä¸ç¨³å®šï¼Œè·¨æ­¥é•¿æœ‰åº 12345678910111213141516void shellSort(int a[],int num){ int temp; for(int dk=num/2; dk&gt;=1; dk/=2) for(int i=dk; i&lt;=num; i++) { if(a[i]&lt;a[i-dk]) { temp = a[i]; int j; for(j=i-dk;temp&lt;a[j]&amp;&amp;j&gt;=0;j-=dk) a[j+dk] = a[j]; a[j+dk] = temp; } }} æ¯”è¾ƒ æ’åºæ–¹æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ ç›´æ¥æ’å…¥æ’åº O(n2) O(1) æ˜¯ å¸Œå°”æ’åº O(n1.3) O(1) å¦ ç±»å‹ä¸‰ï¼šé€‰æ‹©æ’åºç®€å•é€‰æ‹©æ’åº ç‰¹ç‚¹ï¼šä¸ç¨³å®šï¼Œæ¯æ¬¡éƒ½èƒ½æœ‰ä¸€ä¸ªæœ‰åº 1234567891011void selectSort(int a[],int num){ for(int i=0;i&lt;num-1;i++) { int min = i; for(int j=i+1;j&lt;num;j++) if(a[j]&lt;a[min])min = j; //è®°å½•æœ€å°å€¼ if(min!=i) swap(a[i],a[min]); }} å †æ’ ç‰¹ç‚¹ï¼šå †æ’åˆ†ä¸ºå¤§é¡¶å †å’Œå°é¡¶å †ï¼Œæœ¬ä¾‹æ˜¯ä»¥å¤§é¡¶å †ä¸ºä¾‹ï¼Œæ¯æ¬¡è°ƒæ•´ä»¥åéƒ½å¯ä»¥æ‰¾åˆ°æœ€å¤§å€¼ã€‚æœ€ä¸ºé‡è¦çš„æ˜¯å †æ’åœ¨æœ€åçš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä¿è¯O(nlogn)çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚æ•°æ®é‡è¾ƒå¤§çš„æ—¶å€™æ¯”è¾ƒé€‚åˆé€‰æ‹©ã€‚ æ³¨æ„ï¼šæœ¬ä¾‹ä¸­çš„æ•°æ®æœ‰ç‰¹æ®Šæ€§ a[1]-a[num] å…¶ä¸­a[0]ä¸ºä¸´æ—¶å­˜å‚¨å®¹å™¨ æ­¥éª¤å¦‚ä¸‹ï¼š é¦–å…ˆå°†åºåˆ—æ„é€ æˆå¤§æ ¹å †ï¼ˆä½äºæ ¹èŠ‚ç‚¹çš„ä¸€å®šæ˜¯å½“å‰åºåˆ—çš„æœ€å¤§å€¼ï¼‰ å–å‡ºå½“å‰å¤§é¡¶å †çš„æ ¹èŠ‚ç‚¹ï¼Œå°†å…¶ä¸åºåˆ—æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ å¯¹äº¤æ¢åçš„n-1ä¸ªåºåˆ—å…ƒç´ è¿›è¡Œè°ƒæ•´ï¼Œä½¿å…¶æ»¡è¶³å¤§é¡¶å †çš„æ€§è´¨ é‡å¤2.3æ­¥éª¤ï¼Œç›´è‡³å †ä¸­åªæœ‰1ä¸ªå…ƒç´ ä¸ºæ­¢ 12345678910111213141516171819202122232425262728293031void adjustDown(int a[],int k,int num);void buildMaxHeap(int a[],int num){ for(int i=num/2;i&gt;0;i--) adjustDown(a,i,num);}void adjustDown(int a[],int k,int num){ a[0] = a[k]; for(int i=2*k;i&lt;=num;i*=2) { if(i&lt;num&amp;&amp;a[i]&lt;a[i+1]) i++; if(a[0]&gt;=a[i])break; else { a[k] = a[i]; k = i; } } a[k] = a[0];}void heapSort(int a[],int num){ buildMaxHeap(a,num); for(int i=num;i&gt;1;i--) { swap(a[i],a[1]); adjustDown(a,1,i-1); }} æ¯”è¾ƒ æ’åºæ–¹æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ ç®€ç­”é€‰æ‹©æ’åº O(n2) O(1) å¦ å †æ’åº O(nlogn) O(1) å¦ ç±»å‹å››ï¼šå½’å¹¶æ’åºå½’å¹¶æ’åº ç‰¹ç‚¹ï¼šç¨³å®šï¼Œå”¯ä¸€é€Ÿåº¦å¿«çš„æ’åºä¸­ç¨³å®šçš„æ’åºç®—æ³•ï¼Œä½†ä»˜å‡ºäº†ç©ºé—´çš„ä»£ä»·ã€‚å±€éƒ¨æœ‰åºï¼Œè¿›è€Œå…¨å±€æœ‰åºã€‚ 12345678910111213141516171819202122232425262728int b[100];void merge(int a[],int low,int mid,int high){ int i,j,k; for(k=low;k&lt;=high;k++) { b[k] = a[k]; } for(i=low,j=mid+1,k=i;i&lt;=mid&amp;&amp;j&lt;=high;k++) { if(b[i]&lt;=b[j]) a[k] = b[i++]; else a[k] = b[j++]; } while(i&lt;=mid) a[k++] = b[i++]; //è‹¥ç¬¬ä¸€ä¸ªè¡¨æœªæ£€æµ‹å®Œï¼Œå¤åˆ¶ while(j&lt;=high) a[k++] = b[j++]; //è‹¥ç¬¬äºŒä¸ªè¡¨æœªæ£€æµ‹å®Œï¼Œå¤åˆ¶}void mergeSort(int a[],int low,int high){ if(low&lt;high) { int mid = (low+high)/2; mergeSort(a,low,mid); mergeSort(a,mid+1,high); merge(a,low,mid,high); }} æ¯”è¾ƒ æ’åºæ–¹æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ å½’å¹¶æ’åº O(nlogn) O(n) æ˜¯ ç±»å‹äº”ï¼šåŸºæ•°æ’åºåŸºæ•°æ’åºæ­¥éª¤å¦‚ä¸‹ï¼š åˆ†é…ï¼šå°†L[i]ä¸­çš„å…ƒç´ å–å‡ºï¼Œé¦–å…ˆç¡®å®šä¸ªä½ä¸Šçš„æ•°å­—ï¼Œæ ¹æ®è¯¥æ•°å­—åˆ†é…åˆ°ä¸ä¹‹åºå·ç›¸åŒçš„æ¡¶ä¸­ æ”¶é›†ï¼šå½“åºåˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½åˆ†é…åˆ°å¯¹åº”çš„æ¡¶ä¸­ï¼Œå†æŒ‰ç…§é¡ºåºä¾æ¬¡å°†æ¡¶ä¸­çš„å…ƒç´ æ”¶é›†æˆæ–°çš„ä¸€ä¸ªå¾…æ’åºçš„åºåˆ—L[] å¯¹æ–°å½¢æˆçš„åºåˆ—L[]é‡å¤æ‰§è¡Œåˆ†é…å’Œæ”¶é›†å·¥ä½œï¼Œå¯¹å…ƒç´ ä¸­çš„åä½ã€ç™¾ä½â€¦ç›´åˆ°åˆ†é…å®Œè¯¥åºåˆ—ä¸­çš„æœ€é«˜ä½ï¼Œåˆ™æ’åºç»“æŸã€‚æ€»ä½“åº”ç”¨äº†ä¸€ç§â€œæ¡¶æ’â€çš„æ€æƒ³ æ¯”è¾ƒ æ’åºæ–¹æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ åŸºæ•°æ’åº O(d(n+r)) OÂ® æ˜¯ å…«å¤§æ’åºçš„ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201#include &lt;iostream&gt;using namespace std;//äº¤æ¢æ’åº//å†’æ³¡ ç¨³å®š æ¯ä¸€æ¬¡éƒ½ä¼šæœ‰ä¸€ä¸ªæ•°å­—åˆ°æœ€ç»ˆçš„ä½ç½®void swap(int &amp;a,int &amp;b){ int c = a; a = b; b = c;}void bubbleSort(int a[],int num){ for(int i=0;i&lt;num-1;i++) for(int j=0;j&lt;num-i-1;j++) if(a[j]&gt;a[j+1])swap(a[j],a[j+1]);}//å¿«æ’ ä¸ç¨³å®š æ¯æ¬¡ä¸­é—´çš„æ•°å­—ä¼šæœ‰åº//æ•°æ®é‡ä¸­ç­‰æ—¶é€‰ç”¨ æ•°é‡å¤ªå¤§å¯èƒ½ä¼šçˆ†æ ˆint qivotPosition(int a[],int low,int high){ int temp = a[low]; while(low&lt;high) { while(low&lt;high&amp;&amp;a[high]&gt;=temp)high--; a[low] = a[high]; while(low&lt;high&amp;&amp;a[low]&lt;=temp)low++; a[high] = a[low]; } a[low] = temp; return low;}void quickSort(int a[],int low,int high){ if(low&lt;high) { int qivot = qivotPosition(a,low,high); quickSort(a,low,qivot-1); quickSort(a,qivot+1,high); }}//æ’å…¥æ’åº//ç›´æ¥æ’å…¥ ç¨³å®š å‰é¢çš„ä¸€éƒ¨åˆ†æ€»æ˜¯æœ‰åºçš„//æ•°æ®é‡æ¯”è¾ƒå°çš„æ—¶å€™é€‚ç”¨void directInsert(int a[],int num){ int temp; for(int i=0; i&lt;num-1; i++) { if(a[i]&gt;a[i+1]) { int j; temp = a[i+1]; for(j=i; temp&lt;a[j]&amp;&amp;j&gt;=0; j-- ) a[j+1] = a[j]; a[j+1] = temp; } }}//å¸Œå°”æ’åº ä¸ç¨³å®š è·¨æ­¥é•¿æœ‰åº//æ­¥é•¿çš„èµ·å§‹å€¼ä¸ºnum/2void shellSort(int a[],int num){ int temp; for(int dk=num/2; dk&gt;=1; dk/=2) for(int i=dk; i&lt;=num; i++) { if(a[i]&lt;a[i-dk]) { temp = a[i]; int j; for(j=i-dk;temp&lt;a[j]&amp;&amp;j&gt;=0;j-=dk) a[j+dk] = a[j]; a[j+dk] = temp; } }}//é€‰æ‹©æ’åº ä¸ç¨³å®š//ç®€å•é€‰æ‹©æ’åº æ¯æ¬¡éƒ½èƒ½æœ‰ä¸€ä¸ªæœ‰åºvoid selectSort(int a[],int num){ for(int i=0;i&lt;num-1;i++) { int min = i; for(int j=i+1;j&lt;num;j++) if(a[j]&lt;a[min])min = j; //è®°å½•æœ€å°å€¼ if(min!=i) swap(a[i],a[min]); }}//å †æ’ å› ä¸ºæœ€åçš„äº¤æ¢ æ‰€ä»¥ä¹Ÿæ˜¯ä¸ç¨³å®šæ’åº//åˆ†ä¸ºå¤§é¡¶å †å’Œå°é¡¶å † æœ¬ä¾‹ä»¥å¤§é¡¶å †ä¸ºä¾‹ æ¯æ¬¡è°ƒæ•´ä¹‹åéƒ½å¯ä»¥æ‰¾åˆ°æœ€å¤§å€¼//æœ¬ä¾‹ä¸­çš„æ•°æ®æœ‰ç‰¹æ®Šæ€§ a[1]-a[num] å…¶ä¸­a[0]ä¸ºä¸´æ—¶å­˜å‚¨å®¹å™¨ æ‰€ä»¥æ•°ç»„å£°æ˜éœ€è¦a[num+1]void adjustDown(int a[],int k,int num);void buildMaxHeap(int a[],int num){ for(int i=num/2;i&gt;0;i--) adjustDown(a,i,num);}void adjustDown(int a[],int k,int num){ a[0] = a[k]; for(int i=2*k;i&lt;=num;i*=2) { if(i&lt;num&amp;&amp;a[i]&lt;a[i+1]) i++; if(a[0]&gt;=a[i])break; else { a[k] = a[i]; k = i; } } a[k] = a[0];}void heapSort(int a[],int num){ buildMaxHeap(a,num); for(int i=num;i&gt;1;i--) { swap(a[i],a[1]); adjustDown(a,1,i-1); }}//å½’å¹¶æ’åº ç¨³å®šæ’åº å±€éƒ¨æœ‰åºï¼Œè¿›è€Œå…¨å±€æœ‰åºint b[100];void merge(int a[],int low,int mid,int high){ int i,j,k; for(k=low;k&lt;=high;k++) { b[k] = a[k]; } for(i=low,j=mid+1,k=i;i&lt;=mid&amp;&amp;j&lt;=high;k++) { if(b[i]&lt;=b[j]) a[k] = b[i++]; else a[k] = b[j++]; } while(i&lt;=mid) a[k++] = b[i++]; //è‹¥ç¬¬ä¸€ä¸ªè¡¨æœªæ£€æµ‹å®Œï¼Œå¤åˆ¶ while(j&lt;=high) a[k++] = b[j++]; //è‹¥ç¬¬äºŒä¸ªè¡¨æœªæ£€æµ‹å®Œï¼Œå¤åˆ¶}void mergeSort(int a[],int low,int high){ if(low&lt;high) { int mid = (low+high)/2; mergeSort(a,low,mid); mergeSort(a,mid+1,high); merge(a,low,mid,high); }}int main(){ int num; int a[100]; /* //å †æ’çš„è¾“å…¥è¾“å‡º while(cin&gt;&gt;num) { for(int i=1;i&lt;=num;i++) cin&gt;&gt;a[i]; heapSort(a,num); for(int i=1;i&lt;=num;i++) cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; }*/ while(cin&gt;&gt;num) { //cin&gt;&gt;num; //ä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ for(int i=0;i&lt;num;i++) { cin&gt;&gt;a[i]; } //bubbleSort(a,num); //quickSort(a,0,num-1); //directInsert(a,num); //shellSort(a,num); //selectSort(a,num); mergeSort(a,0,num-1); for(int i=0;i&lt;num;i++) cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;; cout&lt;&lt;endl; } return 0;} æ€§èƒ½æ¯”è¾ƒ æ³¨ï¼š å½’å¹¶æ’åºæ˜¯å”¯ä¸€ä¸€ä¸ªæ•ˆç‡è¾ƒé«˜ï¼Œå´ç¨³å®šçš„ç®—æ³•ï¼Œå› ä¸ºå®ƒä»˜å‡ºäº†ç©ºé—´çš„ä»£ä»·ã€‚ å †æ’åºä¸å½’å¹¶çš„æœ€å¥½ã€æœ€å·®æ—¶é—´å¤æ‚åº¦éƒ½å¯ä»¥æ˜¯O(nlogn)ï¼Œä¸”å †æ’çš„ç©ºé—´å¤æ‚åº¦ä»…ä¸ºO(1)ã€‚ å½’å¹¶æ’åºæ¯æ¬¡é€’å½’éƒ½è¦ç”¨åˆ°ä¸€ä¸ªè¾…åŠ©è¡¨ï¼Œé•¿åº¦ä¸å¾…æ’åºçš„è¡¨é•¿åº¦ç›¸åŒï¼Œè™½ç„¶é€’å½’æ¬¡æ•°æ˜¯O(log2n)ï¼Œä½†æ¯æ¬¡é€’å½’éƒ½ä¼šé‡Šæ”¾æ‰æ‰€å çš„è¾…åŠ©ç©ºé—´ã€‚ å¿«é€Ÿæ’åºç©ºé—´å¤æ‚åº¦åªæ˜¯åœ¨é€šå¸¸æƒ…å†µä¸‹æ‰ä¸ºO(log2n)ï¼Œå¦‚æœæ˜¯æœ€åæƒ…å†µçš„è¯ï¼Œå¾ˆæ˜¾ç„¶å°±è¦O(n)çš„ç©ºé—´äº†ã€‚å½“ç„¶ï¼Œå¯ä»¥é€šè¿‡éšæœºåŒ–é€‰æ‹©pivotæ¥å°†ç©ºé—´å¤æ‚åº¦é™ä½åˆ°O(log2n)ã€‚ ç›¸å…³æ¦‚å¿µï¼š æ—¶é—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦å¯ä»¥è®¤ä¸ºæ˜¯å¯¹æ’åºæ•°æ®çš„æ€»çš„æ“ä½œæ¬¡æ•°ã€‚åæ˜ å½“nå˜åŒ–æ—¶ï¼Œæ“ä½œæ¬¡æ•°å‘ˆç°ä»€ä¹ˆè§„å¾‹ã€‚ å¸¸è§çš„æ—¶é—´å¤æ‚åº¦æœ‰ï¼š å¸¸æ•°é˜¶O(1)ï¼Œå¯¹æ•°é˜¶O(log2n)ï¼Œçº¿æ€§é˜¶O(n)ï¼Œçº¿æ€§å¯¹æ•°é˜¶O(nlog2n)ï¼Œå¹³æ–¹é˜¶O(n2)ã€‚ æ—¶é—´å¤æ‚åº¦O(1)ï¼šç®—æ³•ä¸­è¯­å¥æ‰§è¡Œæ¬¡æ•°ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ ç©ºé—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦æ˜¯æŒ‡ç®—æ³•åœ¨è®¡ç®—æœºå†…æ‰§è¡Œæ—¶æ‰€éœ€å­˜å‚¨ç©ºé—´çš„åº¦é‡ï¼Œå®ƒä¹Ÿæ˜¯é—®é¢˜è§„æ¨¡nçš„å‡½æ•°ã€‚ ç©ºé—´å¤æ‚åº¦O(1)ï¼šå½“ä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œå³ä¸éšè¢«å¤„ç†æ•°æ®é‡nçš„å¤§å°è€Œæ”¹å˜æ—¶ï¼Œå¯è¡¨ç¤ºä¸ºO(1)ã€‚ ç©ºé—´å¤æ‚åº¦O(log2N)ï¼šå½“ä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸ä»¥2ä¸ºåº•çš„nçš„å¯¹æ•°æˆæ­£æ¯”æ—¶ï¼Œå¯è¡¨ç¤ºä¸ºO(log2n)ã€‚ ax=Nï¼Œåˆ™x=logaNã€‚ ç©ºé—´å¤æ‚åº¦O(n)ï¼šå½“ä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸næˆçº¿æ€§æ¯”ä¾‹å…³ç³»æ—¶ï¼Œå¯è¡¨ç¤ºä¸º0(n)ã€‚","link":"/2019/07/10/æ•°æ®ç»“æ„ï¼šå…«å¤§æ’åº/"},{"title":"Gitå¸¸ç”¨å‘½ä»¤æ€»ç»“","text":"å¸¸ç”¨å‘½ä»¤ æœ¬åœ°åˆ›å»ºå…¬é’¥ï¼šssh-keygen -t rsa -C &quot;é‚®ç®±&quot; å…‹éš†æœ€æ–°ä¸»åˆ†æ”¯ä»£ç åˆ°æœ¬åœ°ï¼šgit clone åœ°å€ ä¸‹è½½æŒ‡å®šåˆ†æ”¯ï¼šgit clone -b åˆ†æ”¯åä»“åº“åœ°å€ åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼šgit branch åˆ†æ”¯å æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼šgit branch æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼šgit branch -a åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout åˆ†æ”¯å å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ï¼šgit push &lt;è¿œç¨‹ä»“åº“&gt; &lt;æœ¬åœ°åˆ†æ”¯&gt;:&lt;è¿œç¨‹åˆ†æ”¯&gt; gitåŸç†å›¾ Remoteï¼šè¿œç¨‹ä¸»ä»“åº“ï¼› Repositoryï¼šæœ¬åœ°ä»“åº“ï¼› Indexï¼šgitè¿½è¸ªæ ‘ï¼Œæš‚å­˜åŒºï¼› workspaceï¼šæœ¬åœ°å·¥ä½œåŒºï¼ˆå³ä½ ç¼–è¾‘å™¨çš„ä»£ç ï¼‰ ä¸€èˆ¬å·¥ä½œæ—¶çš„æäº¤ä»£ç æµç¨‹ï¼šã€Šå·¥ä½œåŒºã€‹-&gt; git statusæŸ¥çœ‹çŠ¶æ€ -&gt; git add .å°†æ‰€æœ‰ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº-&gt; git commit -m &quot;æäº¤æè¿°&quot;å°†ä»£ç æäº¤åˆ°æœ¬åœ°ä»“åº“-&gt;git pushå°†æœ¬åœ°ä»“åº“ä»£ç æ›´æ–°åˆ°è¿œç¨‹ä»“åº“ gitå‘½ä»¤git remote ä¸ºè¿œç¨‹ä»“åº“æŒ‡å®šåˆ«åï¼Œä»¥ä¾¿äºç®¡ç†è¿œç¨‹ä¸»æœºï¼Œé»˜è®¤åªæœ‰ä¸€ä¸ªæ—¶ä¸ºorigin æŸ¥çœ‹ä¸»æœºåï¼šgit remote æŸ¥çœ‹ä¸»æœºåå³ç½‘å€ï¼šgit remote -v é»˜è®¤å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°æ—¶ï¼Œè¿œç¨‹ä¸»æœºä¸ºoriginï¼Œå¦‚éœ€æŒ‡å®šåˆ«åå¯ä½¿ç”¨git clone -o &lt;åˆ«å&gt; &lt;è¿œç¨‹gitåœ°å€&gt; æŸ¥çœ‹ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯git remote show &lt;ä¸»æœºå&gt; æ·»åŠ è¿œç¨‹ä¸»æœºgit remote add &lt;ä¸»æœºå&gt; &lt;ç½‘å€&gt; åˆ é™¤è¿œç¨‹ä¸»æœºgit remote rm &lt;ä¸»æœºå&gt; ä¿®æ”¹è¿œç¨‹ä¸»æœºçš„åˆ«åï¼šgit remote rename &lt;åŸä¸»æœºå&gt; &lt;æ–°ä¸»æœºå&gt; git fetch å°†è¿œç¨‹Remoteçš„æ›´æ–°ï¼Œå…¨éƒ¨/ç‰¹å®šåˆ†æ”¯å–å›æœ¬åœ°Repositoryï¼Œå®ƒå–å›çš„ä»£ç å¯¹ä½ æœ¬åœ°çš„å¼€å‘ä»£ç æ²¡æœ‰å½±å“ å¦‚éœ€å½»åº•æ›´æ–°å¹¶åˆå¹¶ï¼Œä½¿ç”¨git pull è¿œç¨‹ä¸»æœºçš„æ›´æ–°ï¼Œå…¨éƒ¨å–å›æœ¬åœ°git fetch &lt;è¿œç¨‹ä¸»æœºå&gt;ï¼› å°†è¿œç¨‹ä»“åº“ç‰¹å®šåˆ†æ”¯æ›´æ–°åˆ°æœ¬åœ°git fetch &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;åˆ†æ”¯å&gt; å¦‚æœéœ€è¦å°†æ‹‰å–çš„æ›´æ–°åˆå¹¶åˆ°æœ¬åœ°æŸä¸€åˆ†æ”¯ï¼šgit merge &lt;è¢«åˆå¹¶çš„åˆ†æ”¯&gt; å¦‚æœéœ€è¦åœ¨æ­¤åŸºç¡€ä¸Šåˆ›å»ºå‡ºæ–°åˆ†æ”¯å¹¶åˆ‡æ¢ï¼šgit checkout -b &lt;åˆ†æ”¯å&gt; &lt;åœ¨æ­¤åˆ†æ”¯ä¸Šåˆ›å»º&gt; git pull æ‹‰å–è¿œç¨‹RemoteæŸåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ ç›¸å½“äºgit fetchåŠ ä¸Šäº†git mergeçš„æ“ä½œ æ‹‰å–è¿œç¨‹æŸåˆ†æ”¯å¹¶ä¸æœ¬åœ°æŸä¸€åˆ†æ”¯åˆå¹¶ï¼ˆæ²¡æœ‰åˆ™é»˜è®¤ä¼šåˆ›å»ºï¼‰ï¼šgit pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰æ‰€åœ¨åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ï¼šgit pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt; å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å­˜åœ¨è¿½è¸ªå…³ç³»,åˆ™å¯ä»¥çœç•¥è¿œç¨‹åˆ†æ”¯åï¼šgit pull &lt;è¿œç¨‹ä¸»æœºå&gt; å¦‚æœå½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯ï¼Œåˆ™è¿œç¨‹ä¸»æœºåéƒ½å¯ä»¥çœç•¥ï¼šgit pull git push å°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸git pullç›¸ä¼¼ å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼šgit push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt; å¦‚æœçœç•¥è¿œç¨‹åˆ†æ”¯åï¼Œåˆ™é»˜è®¤ä¸ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å…³è”çš„è¿œç¨‹åˆ†æ”¯ï¼š(ä¸€èˆ¬è®¾ç½®æœ¬åœ°åˆ†æ”¯å’Œä¸ä¹‹å…³è”çš„è¿œç¨‹åˆ†æ”¯åŒåï¼Œé˜²æ­¢æ··æ·†)git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt; å¦‚æœå¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«åˆ›å»ºï¼ˆmé»˜è®¤ä¸æœ¬åœ°åˆ†æ”¯åŒåï¼‰ å¦‚æœçœç•¥æœ¬åœ°åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºåˆ é™¤æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ï¼Œè¿™ç­‰åŒäºæ¨é€ä¸€ä¸ªç©ºçš„æœ¬åœ°åˆ†æ”¯åˆ°å¯¹åº”è¿œç¨‹åˆ†æ”¯ï¼šgit push origin :&lt;è¿œç¨‹åˆ†æ”¯&gt; ç­‰åŒäº git push origin --delete &lt;è¿œç¨‹åˆ†æ”¯&gt; å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¹‹é—´å­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œåˆ™æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯éƒ½å¯ä»¥çœç•¥git push origin å¦‚æœå½“å‰åˆ†æ”¯åªæœ‰ä¸€ä¸ªè¿½è¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆä¸»æœºåä¹Ÿå¯ä»¥çœç•¥ï¼šgit push å¦‚æœå½“å‰åˆ†æ”¯ä¸å¤šä¸ªä¸»æœºå­˜åœ¨è¿½è¸ªå…³ç³»(ä½¿ç”¨åœºæ™¯ç›¸å¯¹æ¥è¯´è¾ƒå°‘)ï¼Œå¯ä»¥ä½¿ç”¨-uæŒ‡å®šé»˜è®¤æ¨é€ä¸»æœºgit push -u origin &lt;ä¸»æœºå&gt;è®¾ç½®æ—¶å€™éœ€æ¨é€ä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨git push å°†æœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯éƒ½æ¨é€åˆ°è¿œç¨‹ä¸»æœº:git push --all origin å¦‚æœè¿œç¨‹ä¸»æœºçš„ç‰ˆæœ¬æ¯”æœ¬åœ°ç‰ˆæœ¬æ›´æ–°ï¼Œæ¨é€æ—¶Gitä¼šæŠ¥é”™ï¼Œè¦æ±‚å…ˆåœ¨æœ¬åœ°åšgit pullåˆå¹¶å·®å¼‚ï¼Œç„¶åå†æ¨é€åˆ°è¿œç¨‹ä¸»æœºã€‚å¦‚æœä¸€å®šè¦æ¨é€ï¼Œå¯ä»¥ä½¿ç”¨--forceé€‰é¡¹(è°¨æ…ä½¿ç”¨ï¼Œé™¤éä½ éå¸¸ç¡®è®¤):git push --force origin æ³¨æ„:åˆ†æ”¯æ¨é€é¡ºåºçš„æ ¼å¼ä¸º&lt;æ¥æºåœ°&gt;:&lt;ç›®çš„åœ°&gt;ï¼Œæ‰€ä»¥git pullæ ¼å¼ï¼š&lt;è¿œç¨‹åˆ†æ”¯&gt;:&lt;æœ¬åœ°åˆ†æ”¯&gt;ï¼Œgit pushæ ¼å¼ä¸ºï¼š&lt;æœ¬åœ°åˆ†æ”¯&gt;:&lt;è¿œç¨‹åˆ†æ”¯&gt;ã€‚ åˆ†æ”¯æ“ä½œå¸¸ç”¨åˆ†æ”¯å‘½ä»¤ åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼šgit branch testï¼ˆåˆ›å»ºåä¸ºtestçš„æœ¬åœ°åˆ†æ”¯ï¼‰ åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout testï¼ˆåˆ‡æ¢åˆ°teståˆ†æ”¯ï¼‰ ä¸€èˆ¬ä¿®æ”¹æœªæäº¤åˆ™æ— æ³•åˆ‡æ¢ï¼Œå¤§å°å†™é—®é¢˜ç»å¸¸ä¼šæœ‰ï¼Œå¯ä½¿ç”¨å‘½ä»¤git checkout åˆ†æ”¯å -få¼ºåˆ¶åˆ‡æ¢ï¼ˆæ…ç”¨ï¼‰ åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯git checkout -b testï¼ˆç›¸å½“äºæ‰§è¡Œäº†ä¸Šé¢ä¸¤æ¡å‘½ä»¤ï¼‰ æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼šgit branch æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯ï¼šgit branch -a åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼šgit branch -d testï¼ˆåˆ é™¤æœ¬åœ°teståˆ†æ”¯ï¼‰ åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯ï¼šgit push -d origin testï¼ˆåˆ é™¤è¿œç¨‹ä»“åº“teståˆ†æ”¯ï¼‰ åˆ†æ”¯åˆå¹¶ï¼šgit merge masterï¼ˆå°†masteråˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼‰ æ‹‰å–è¿œç¨‹åˆ†æ”¯ä»£ç  git checkout -b æœ¬åœ°åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯åï¼šåœ¨æœ¬åœ°æ–°å»ºåˆ†æ”¯ï¼Œå¹¶è‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥æœ¬åœ°åˆ†æ”¯ï¼› git fetch origin è¿œç¨‹åˆ†æ”¯å:æœ¬åœ°åˆ†æ”¯åï¼šåœ¨æœ¬åœ°æ–°å»ºåˆ†æ”¯ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥æœ¬åœ°åˆ†æ”¯ï¼Œéœ€è¦æ‰‹åŠ¨checkoutã€‚ é‡å‘½åè¿œç¨‹åˆ†æ”¯ é‡å‘½åæœ¬åœ°åˆ†æ”¯ï¼šgit branch -m &lt;oldName&gt; &lt;newName&gt;; åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼šgit push -d origin &lt;oldName&gt;; ä¸Šä¼ æ–°å‘½åçš„æœ¬åœ°åˆ†æ”¯ï¼šgit push origin &lt;newName&gt;; æŠŠæœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”ï¼šgit branch --set-upstream-to=origin/&lt;newName&gt; ä¸¾ä¸ªæ —å­ï¼š æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„å…³è”å…³ç³»ï¼š git branch -vv æŠŠæœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹originçš„æŸåˆ†æ”¯è¿›è¡Œå…³è”å¤„ç† é€šè¿‡ â€“set-upstream-to å‘½ä»¤ï¼š git branch --set-upstream-to=origin/feature/clear-server-eslint-error_180713 æŸ¥çœ‹åˆ†æ”¯å·®å¼‚ æŸ¥çœ‹æœ¬åœ°å½“å‰åˆ†æ”¯ä¸è¿œç¨‹æŸä¸€åˆ†æ”¯çš„å·®å¼‚ï¼š git diff origin/feature/reserve-3.4 æŸ¥çœ‹æœ¬åœ°ç‰¹å®šåˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„å·®å¼‚ï¼š git diff master origin/feature/reserve-3.4 æŸ¥çœ‹æœ¬åœ°masteråˆ†æ”¯ä¸è¿œç¨‹feature/reserve-3.4åˆ†æ”¯çš„å·®å¼‚ï¼Œå¦‚å›¾ï¼š æš‚å­˜ä¿®æ”¹å½“ä½ å‡†å¤‡æš‚å­˜å½“å‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚æƒ³è¦pullæœ€æ–°ä»£ç åˆä¸æƒ³commitï¼Œæˆ–è€…å¦ä¸ºäº†ä¿®æ”¹ä¸€ä¸ªç´§æ€¥çš„bugï¼Œå¯ä»¥ä½¿ç”¨git stash ã€‚ æ·»åŠ ç¼“å­˜æ ˆï¼šgit stash git stash listï¼š ç”±äºå¯èƒ½ä¼šstashå¤šæ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨git stash listæŸ¥çœ‹æ‰€æœ‰çš„stashæŸ¥çœ‹ç¼“å­˜æ ˆ git stash popï¼š ä»gitæ ˆä¸­è·å–åˆ°æœ€è¿‘ä¸€æ¬¡stashè¿›å»çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºçš„å†…å®¹ã€‚ è·å–ä¹‹åï¼Œä¼šåˆ é™¤æ ˆä¸­å¯¹åº”çš„stashã€‚ å–å‡ºç‰¹å®šç¼“å­˜å†…å®¹ï¼šgit stash apply stash@{1} æ’¤é”€ä¿®æ”¹ git checkout -- &lt;æ–‡ä»¶å&gt;ï¼šä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€ã€‚ git reset HEAD &lt;æ–‡ä»¶å&gt;ï¼šæŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒºã€‚ git reset --hard commit_idï¼šgitç‰ˆæœ¬å›é€€ï¼Œå›é€€åˆ°ç‰¹å®šçš„commit_idç‰ˆæœ¬ ç‰ˆæœ¬å›é€€ git logæŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬(commitä¹‹åçš„ä¸€é•¿ä¸²å­—ç¬¦å°±æ˜¯commit_idï¼Œè®°å½•ä¸‹æ¥); git reset --hard commit_idï¼šå›é€€åˆ°commit_idç‰ˆæœ¬ï¼› gité…ç½® git config -lï¼šåˆ—å‡ºæ‰€æœ‰çš„gité…ç½®é¡¹ git config core.ignorecase falseï¼šé…ç½®gitä¸å¿½ç•¥å¤§å°å†™ï¼ˆé»˜è®¤å¿½ç•¥ï¼‰","link":"/2019/07/17/Gitå¸¸ç”¨å‘½ä»¤æ€»ç»“/"},{"title":"å¦‚ä½•åˆ©ç”¨CORSè§£å†³è·¨åŸŸé—®é¢˜","text":"ä»åˆšæ¥è§¦å‰ç«¯èµ·ï¼Œè·¨åŸŸè¿™ä¸ªè¯å°±ä¸€ç›´é«˜é¢‘å‡ºç°ï¼Œæœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åˆ†æè·¨åŸŸé—®é¢˜å¹¶åˆ©ç”¨CORSæ¥è§£å†³é—®é¢˜ è·¨åŸŸCORSåŸç†å‡ºç°è·¨åŸŸä¸»è¦æ˜¯å› ä¸ºæµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œå¯ä»¥åˆ©ç”¨CORSæ¥è§£å†³é—®é¢˜ã€‚ CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†Ajaxåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚ CORSåŸç†å›¾ï¼š ä»€ä¹ˆæ˜¯ç®€å•è¯·æ±‚æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰ã€‚åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š HEAD GET POST HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š Accept Accept-Language Content-Language Last-Event-ID Content-Type(åªé™äºä¸‰ä¸ªå€¼application/x-www-form-urlencodedã€ multipart/form-dataã€text/plain) å‡¡æ˜¯ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚ å‡ ç§è·¨åŸŸè¡¨ç°ä¸€No 'Access-Control-Allow-Origin' header is present on the requested resourceï¼Œå¹¶ä¸”The response had HTTP status code 404 å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› å¦‚ä¸‹ï¼š æœ¬æ¬¡è¯·æ±‚æ˜¯â€œéç®€å•è¯·æ±‚â€ï¼Œæ‰€ä»¥è¯·æ±‚å‰ä¼šå‘é€ä¸€æ¬¡é¢„æ£€è¯·æ±‚(OPTIONS) æœåŠ¡å™¨ç«¯åå°æ¥å£æ²¡æœ‰å…è®¸OPTIONSè¯·æ±‚ï¼Œå¯¼è‡´æ— æ³•æ‰¾åˆ°å¯¹åº”æ¥å£åœ°å€ è§£å†³æ–¹æ¡ˆ: åç«¯å…è®¸optionsè¯·æ±‚ äºŒNo 'Access-Control-Allow-Origin' header is present on the requested resourceï¼Œå¹¶ä¸”The response had HTTP status code 405 è¿™ç§æƒ…å†µä¸‹åå°æ–¹æ³•å…è®¸OPTIONSè¯·æ±‚ï¼Œä½†æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ä¸­(å¦‚å®‰å…¨é…ç½®)é˜»æ­¢äº†OPTIONSè¯·æ±‚ï¼Œæ‰ä¼šå¯¼è‡´è¿™ä¸ªç°è±¡ã€‚ è§£å†³æ–¹æ¡ˆï¼šåç«¯å…³é—­å¯¹åº”çš„å®‰å…¨é…ç½® ä¸‰No 'Access-Control-Allow-Origin' header is present on the requested resourceï¼Œå¹¶ä¸”status 200 è¿™ç§æƒ…å†µä¸‹æœåŠ¡å™¨ç«¯åå°å…è®¸OPTIONSè¯·æ±‚ï¼Œå¹¶ä¸”æ¥å£ä¹Ÿå…è®¸OPTIONSè¯·æ±‚ï¼Œä½†æ˜¯å¤´éƒ¨åŒ¹é…æ—¶å‡ºç°ä¸åŒ¹é…ç°è±¡ã€‚ æ¯”å¦‚originå¤´éƒ¨æ£€æŸ¥ä¸åŒ¹é…ï¼Œæ¯”å¦‚å°‘äº†ä¸€äº›å¤´éƒ¨çš„æ”¯æŒ(å¦‚å¸¸è§çš„X-Requested-Withå¤´éƒ¨)ï¼Œç„¶åæœåŠ¡ç«¯å°±ä¼šå°†responseè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯æ£€æµ‹åˆ°è¿™ä¸ªåå°±è§¦å‘XHR.onerrorå¯¼è‡´å‰ç«¯æ§åˆ¶å°æŠ¥é”™ã€‚ è§£å†³æ–¹æ¡ˆ: åç«¯å¢åŠ å¯¹åº”çš„å¤´éƒ¨æ”¯æŒ å››heade contains multiple values '*,*' è¡¨ç°å½¢å¼æ˜¯åå°å“åº”çš„httpå¤´éƒ¨ä¿¡æ¯æœ‰ä¸¤ä¸ªAccess-Control-Allow-Origin:* è¿™ç§é—®é¢˜å‡ºç°çš„ä¸»è¦åŸå› å°±æ˜¯è¿›è¡Œè·¨åŸŸé…ç½®çš„äººä¸äº†è§£åŸç†ï¼Œå¯¼è‡´äº†é‡å¤é…ç½®ï¼Œå¦‚: å¸¸è§äº.netåå°ï¼Œä¸€èˆ¬åœ¨web.configä¸­é…ç½®äº†ä¸€æ¬¡originï¼Œç„¶åä»£ç ä¸­åˆæ‰‹åŠ¨æ·»åŠ äº†ä¸€æ¬¡origin(æ¯”å¦‚ä»£ç æ‰‹åŠ¨è®¾ç½®äº†è¿”å›*) å¸¸è§äº.netåå°ï¼Œåœ¨IISå’Œé¡¹ç›®çš„webconfigä¸­åŒæ—¶è®¾ç½®Origin:* è§£å†³æ–¹æ¡ˆ(ä¸€ä¸€å¯¹åº”): å»ºè®®åˆ é™¤ä»£ç ä¸­æ‰‹åŠ¨æ·»åŠ çš„*ï¼Œåªç”¨é¡¹ç›®é…ç½®ä¸­çš„å³å¯ å»ºè®®åˆ é™¤IISä¸‹çš„é…ç½®*ï¼Œåªç”¨é¡¹ç›®é…ç½®ä¸­çš„å³å¯ å¦‚ä½•è§£å†³è·¨åŸŸä¸€èˆ¬è§£å†³è·¨åŸŸå°±æ˜¯é€šè¿‡JSONPè§£å†³æˆ–è€…CORSè§£å†³ï¼Œç°åœ¨å·²ç»å‡ ä¹ä¸ä¼šå†ä½¿ç”¨JSONPäº†ï¼Œæ‰€ä»¥JSONPäº†è§£ä¸‹å³å¯ã€‚ JSONPJSONPè§£å†³è·¨åŸŸé—®é¢˜æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤è€çš„æ–¹æ¡ˆï¼ˆå®é™…ä¸­ä¸æ¨èä½¿ç”¨ï¼‰ï¼Œè¿™é‡Œåšç®€å•ä»‹ç»ï¼Œä¹Ÿå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€‚ å®ç°åŸç†ä¸»è¦åˆ©ç”¨äº†&lt;script&gt;æ ‡ç­¾æ‹¥æœ‰çš„è·¨åŸŸèƒ½åŠ›ï¼ŒJSONPåŸç†å›¾ï¼š å®ç°æµç¨‹JSONPçš„å®ç°æ­¥éª¤å¤§è‡´å¦‚ä¸‹ï¼š å®¢æˆ·ç«¯ç½‘é¡µç½‘é¡µé€šè¿‡æ·»åŠ ä¸€ä¸ª&lt;script&gt;å…ƒç´ ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚JSONæ•°æ®ï¼Œè¿™ç§åšæ³•ä¸å—åŒæºæ”¿ç­–é™åˆ¶ 1234567891011121314function addScriptTag(src) { var script = document.createElement(&apos;script&apos;); script.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;); script.src = src; document.body.appendChild(script);} window.onload = function () { addScriptTag(&apos;http://example.com/ip?callback=foo&apos;);} function foo(data) { console.log(&apos;response data: &apos; + JSON.stringify(data));}; è¯·æ±‚æ—¶ï¼Œæ¥å£åœ°å€ä½œä¸ºæ„å»ºå‡ºçš„è„šæœ¬æ ‡ç­¾çš„srcï¼Œè¿™æ ·å½“è„šæœ¬æ ‡ç­¾æ„å»ºå‡ºæ¥æ—¶ï¼Œæœ€ç»ˆçš„srcæ˜¯æ¥å£è¿”å›çš„å†…å®¹ã€‚ æœåŠ¡ç«¯å¯¹åº”çš„æ¥å£åœ¨è¿”å›å‚æ•°å¤–é¢æ·»åŠ å‡½æ•°åŒ…è£¹å±‚ 123foo({ &quot;test&quot;: &quot;testData&quot;}); ç”±äº&lt;script&gt;å…ƒç´ è¯·æ±‚çš„è„šæœ¬ï¼Œç›´æ¥ä½œä¸ºä»£ç è¿è¡Œã€‚è¿™æ—¶ï¼Œåªè¦æµè§ˆå™¨å®šä¹‰äº†fooå‡½æ•°ï¼Œè¯¥å‡½æ•°å°±ä¼šç«‹å³è°ƒç”¨ã€‚ä½œä¸ºå‚æ•°çš„JSONæ•°æ®è¢«è§†ä¸ºJavaScriptå¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤é¿å…äº†ä½¿ç”¨JSON.parseçš„æ­¥éª¤ã€‚ æ³¨æ„ï¼šä¸€èˆ¬çš„JSONPæ¥å£å’Œæ™®é€šæ¥å£è¿”å›æ•°æ®æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ‰€ä»¥æ¥å£å¦‚æœè¦åšJSONPå…¼å®¹ï¼Œéœ€è¦è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰å¯¹åº”callbackå…³é”®å­—å‚æ•°ï¼Œå¦‚æœæœ‰åˆ™æ˜¯JSONPè¯·æ±‚ï¼Œè¿”å›JSONPæ•°æ®ï¼Œå¦åˆ™è¿”å›æ™®é€šæ•°æ®ã€‚ åŸºäºJSONPçš„å®ç°åŸç†,æ‰€ä»¥JSONPåªèƒ½æ˜¯â€œGETâ€è¯·æ±‚,ä¸èƒ½è¿›è¡ŒPOSTå’Œå…¶å®ƒè¯·æ±‚,æ‰€ä»¥é‡åˆ°é‚£ç§æƒ…å†µ,å°±å¾—å‚è€ƒä¸‹é¢çš„CORSè§£å†³è·¨åŸŸäº†(æ‰€ä»¥å¦‚ä»Šå®ƒä¹ŸåŸºæœ¬è¢«æ·˜æ±°äº†) CORSå®é™…é¡¹ç›®ä¸­åç«¯åº”è¯¥å¦‚ä½•é…ç½®ä»¥è§£å†³è·¨åŸŸï¼Œè¿™é‡Œæ•´ç†äº†ä¸€äº›å¸¸è§çš„åç«¯è§£å†³æ–¹æ¡ˆï¼š PHPåå°PHPåå°å¾—é…ç½®å‡ ä¹æ˜¯æ‰€æœ‰åå°ä¸­æœ€ä¸ºç®€å•çš„,éµå¾ªå¦‚ä¸‹æ­¥éª¤å³å¯: ç¬¬ä¸€æ­¥:é…ç½®Phpåå°å…è®¸è·¨åŸŸ 1234&lt;?phpheader(&apos;Access-Control-Allow-Origin: *&apos;);header(&apos;Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept&apos;);//ä¸»è¦ä¸ºè·¨åŸŸCORSé…ç½®çš„ä¸¤å¤§åŸºæœ¬ä¿¡æ¯,Originå’Œheaders ç¬¬äºŒæ­¥:é…ç½®Apache webæœåŠ¡å™¨è·¨åŸŸ(httpd.confä¸­) åŸå§‹ä»£ç  1234&lt;Directory /&gt; AllowOverride none Require all denied&lt;/Directory&gt; æ”¹ä¸ºä»¥ä¸‹ä»£ç  123456&lt;Directory /&gt; Options FollowSymLinks AllowOverride none Order deny,allow Allow from all&lt;/Directory&gt; Node.jsåå°ï¼ˆexpressæ¡†æ¶ï¼‰Node.jsçš„åå°ä¹Ÿç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•å°±å¯ä»¥è¿›è¡Œé…ç½®ã€‚åªéœ€ç”¨expresså¦‚ä¸‹é…ç½®: 1234567891011121314app.all(&apos;*&apos;, function(req, res, next) { res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;X-Requested-With&quot;); res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;); res.header(&quot;X-Powered-By&quot;, &apos; 3.2.1&apos;) //è¿™æ®µä»…ä»…ä¸ºäº†æ–¹ä¾¿è¿”å›jsonè€Œå·² res.header(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;); if(req.method == &apos;OPTIONS&apos;) { //è®©optionsè¯·æ±‚å¿«é€Ÿè¿”å› res.sendStatus(200); } else { next(); }}); JAVAåå°JAVAåå°é…ç½®åªéœ€è¦éµå¾ªå¦‚ä¸‹æ­¥éª¤å³å¯: ç¬¬ä¸€æ­¥:è·å–ä¾èµ–jaråŒ… ä¸‹è½½ cors-filter-1.7.jar, java-property-utils-1.9.jar è¿™ä¸¤ä¸ªåº“æ–‡ä»¶æ”¾åˆ°libç›®å½•ä¸‹ã€‚(æ”¾åˆ°å¯¹åº”é¡¹ç›®çš„webcontent/WEB-INF/lib/ä¸‹) ç¬¬äºŒæ­¥:å¦‚æœé¡¹ç›®ç”¨äº†Mavenæ„å»ºçš„,è¯·æ·»åŠ å¦‚ä¸‹ä¾èµ–åˆ°pom.xmlä¸­:(émavenè¯·å¿½è§†) 12345&lt;dependency&gt; &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt; &lt;artifactId&gt;cors-filter&lt;/artifactId&gt; &lt;version&gt;[ version ]&lt;/version&gt;&lt;/dependency&gt; å…¶ä¸­ç‰ˆæœ¬åº”è¯¥æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬,CORSè¿‡æ»¤å™¨ ç¬¬ä¸‰æ­¥:æ·»åŠ CORSé…ç½®åˆ°é¡¹ç›®çš„Web.xmlä¸­( App/WEB-INF/web.xml) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;!-- è·¨åŸŸé…ç½®--&gt; &lt;filter&gt; &lt;!-- The CORS filter with parameters --&gt; &lt;filter-name&gt;CORS&lt;/filter-name&gt; &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt; &lt;!-- Note: All parameters are options, if omitted the CORS Filter will fall back to the respective default values. --&gt; &lt;init-param&gt; &lt;param-name&gt;cors.allowGenericHttpRequests&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.allowOrigin&lt;/param-name&gt; &lt;param-value&gt;*&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.allowSubdomains&lt;/param-name&gt; &lt;param-value&gt;false&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.supportedMethods&lt;/param-name&gt; &lt;param-value&gt;GET, HEAD, POST, OPTIONS&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.supportedHeaders&lt;/param-name&gt; &lt;param-value&gt;Accept, Origin, X-Requested-With, Content-Type, Last-Modified&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.exposedHeaders&lt;/param-name&gt; &lt;!--è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›è‡ªå·±çš„æš´éœ²Headers --&gt; &lt;param-value&gt;X-Test-1, X-Test-2&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.supportsCredentials&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;cors.maxAge&lt;/param-name&gt; &lt;param-value&gt;3600&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;!-- CORS Filter mapping --&gt; &lt;filter-name&gt;CORS&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; è¯·æ³¨æ„,ä»¥ä¸Šé…ç½®æ–‡ä»¶è¯·æ”¾åˆ°web.xmlçš„å‰é¢,ä½œä¸ºç¬¬ä¸€ä¸ªfilterå­˜åœ¨(å¯ä»¥æœ‰å¤šä¸ªfilterçš„) ç¬¬å››æ­¥:å¯èƒ½çš„å®‰å…¨æ¨¡å—é…ç½®é”™è¯¯(æ³¨æ„ï¼ŒæŸäº›æ¡†æ¶ä¸­-è­¬å¦‚å…¬å¸ç§äººæ¡†æ¶ï¼Œæœ‰å®‰å…¨æ¨¡å—çš„ï¼Œæœ‰æ—¶å€™è¿™äº›å®‰å…¨æ¨¡å—é…ç½®ä¼šå½±å“è·¨åŸŸé…ç½®ï¼Œè¿™æ—¶å€™å¯ä»¥å…ˆå°è¯•å…³é—­å®ƒä»¬) JAVA Spring Bootç®€å•çš„å…¨å±€é…ç½®ï¼š 1234567891011121314151617181920212223@Configurationpublic class CorsConfig { private CorsConfiguration buildConfig() { CorsConfiguration corsConfiguration = new CorsConfiguration(); // å¯ä»¥è‡ªè¡Œç­›é€‰ corsConfiguration.addAllowedOrigin(&quot;*&quot;); corsConfiguration.addAllowedHeader(&quot;*&quot;); corsConfiguration.addAllowedMethod(&quot;*&quot;); return corsConfiguration; } @Bean public CorsFilter corsFilter() { UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); source.registerCorsConfiguration(&quot;/**&quot;, buildConfig()); return new CorsFilter(source); }} æ–°å»ºé…ç½®ï¼Œç„¶åæ·»åŠ Configurationæ³¨è§£å³å¯é…ç½®æˆåŠŸ NETåå°.NETåå°é…ç½®å¯ä»¥å‚è€ƒå¦‚ä¸‹æ­¥éª¤: ç¬¬ä¸€æ­¥:ç½‘ç«™é…ç½® æ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œé€‰æ‹©ç®¡ç†å·¥å…·,é€‰æ‹©iis;å³é”®å•å‡»è‡ªå·±çš„ç½‘ç«™ï¼Œé€‰æ‹©æµè§ˆ;æ‰“å¼€ç½‘ç«™æ‰€åœ¨ç›®å½•,ç”¨è®°äº‹æœ¬æ‰“å¼€web.configæ–‡ä»¶æ·»åŠ ä¸‹è¿°é…ç½®ä¿¡æ¯,é‡å¯ç½‘ç«™ è¯·æ³¨æ„,ä»¥ä¸Šæˆªå›¾è¾ƒè€,å¦‚æœé…ç½®ä»ç„¶å‡ºé—®é¢˜,å¯ä»¥è€ƒè™‘å¢åŠ æ›´å¤šçš„headerså…è®¸,æ¯”å¦‚: 1&quot;Access-Control-Allow-Headers&quot;:&quot;X-Requested-With,Content-Type,Accept,Origin&quot; ç¬¬äºŒæ­¥:å…¶å®ƒæ›´å¤šé…ç½®,å¦‚æœç¬¬ä¸€æ­¥è¿›è¡Œäº†å,ä»ç„¶æœ‰è·¨åŸŸé—®é¢˜ï¼Œå¯èƒ½æ˜¯: æ¥å£ä¸­æœ‰é™åˆ¶æ­»ä¸€äº›è¯·æ±‚ç±»å‹(æ¯”å¦‚å†™æ­»äº†POSTç­‰)ï¼Œè¿™æ—¶å€™è¯·å»é™¤é™ åˆ¶ æ¥å£ä¸­ï¼Œé‡å¤é…ç½®äº†Origin:*ï¼Œè¯·å»é™¤å³å¯ IISæœåŠ¡å™¨ä¸­ï¼Œé‡å¤é…ç½®äº†Origin:*ï¼Œè¯·å»é™¤å³å¯ ä»£ç†è¯·æ±‚æ–¹å¼è§£å†³æ¥å£è·¨åŸŸé—®é¢˜æ³¨æ„ï¼Œç”±äºæ¥å£ä»£ç†æ˜¯æœ‰ä»£ä»·çš„ï¼Œæ‰€ä»¥è¿™ä¸ªä»…æ˜¯å¼€å‘è¿‡ç¨‹ä¸­è¿›è¡Œçš„ã€‚ ä¸å‰é¢çš„æ–¹æ³•ä¸åŒï¼Œå‰é¢CORSæ˜¯åç«¯è§£å†³ï¼Œè€Œè¿™ä¸ªä¸»è¦æ˜¯å‰ç«¯å¯¹æ¥å£è¿›è¡Œä»£ç†ï¼Œä¹Ÿå°±æ˜¯: å‰ç«¯è¯·æ±‚çš„æ˜¯æœ¬åœ°æ¥å£ æœ¬åœ°æ¥å£æ¥æ”¶åˆ°è¯·æ±‚åå‘å®é™…çš„æ¥å£è¯·æ±‚æ•°æ®ï¼Œç„¶åå†å°†ä¿¡æ¯è¿”å›ç»™å‰ç«¯ ä¸€èˆ¬ç”¨node.jså³å¯ä»£ç† å…³äºå¦‚ä½•å®ç°ä»£ç†ï¼Œè¿™é‡Œå°±ä¸é‡ç‚¹æè¿°äº†ï¼Œæ–¹æ³•å’Œå¤šï¼Œä¹Ÿä¸éš¾ï¼ŒåŸºæœ¬éƒ½æ˜¯åŸºäºnode.jsçš„ã€‚ æœç´¢å…³é”®å­—node.js,ä»£ç†è¯·æ±‚å³å¯æ‰¾åˆ°ä¸€å¤§ç¥¨çš„æ–¹æ¡ˆã€‚ OPTIONSé¢„æ£€çš„ä¼˜åŒ–1Access-Control-Max-Age: è¿™ä¸ªå¤´éƒ¨åŠ ä¸Šåï¼Œå¯ä»¥ç¼“å­˜æ­¤æ¬¡è¯·æ±‚çš„ç§’æ•°ã€‚ åœ¨è¿™ä¸ªæ—¶é—´èŒƒå›´å†…ï¼Œæ‰€æœ‰åŒç±»å‹çš„è¯·æ±‚éƒ½å°†ä¸å†å‘é€é¢„æ£€è¯·æ±‚è€Œæ˜¯ç›´æ¥ä½¿ç”¨æ­¤æ¬¡è¿”å›çš„å¤´ä½œä¸ºåˆ¤æ–­ä¾æ®ã€‚ éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å¤§å¹…ä¼˜åŒ–è¯·æ±‚æ¬¡æ•°ã€‚ å¦‚ä½•åˆ†æè·¨åŸŸä¸Šè¿°å·²ç»ä»‹ç»äº†è·¨åŸŸçš„åŸç†ä»¥åŠå¦‚ä½•è§£å†³ï¼Œä½†å®é™…è¿‡ç¨‹ä¸­ï¼Œå‘ç°ä»ç„¶æœ‰å¾ˆå¤šäººå¯¹ç…§ç€ç±»ä¼¼çš„æ–‡æ¡£æ— æ³•è§£å†³è·¨åŸŸé—®é¢˜ï¼Œä¸»è¦ä½“ç°åœ¨å‰ç«¯äººå‘˜ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ˜¯è·¨åŸŸé—®é¢˜é€ æˆçš„ï¼Œä»€ä¹ˆæ—¶å€™ä¸æ˜¯ï¼Œå› æ­¤è¿™é‡Œç¨å¾®ä»‹ç»ä¸‹å¦‚ä½•åˆ†æä¸€ä¸ªè¯·æ±‚æ˜¯å¦è·¨åŸŸï¼š æŠ“åŒ…è¯·æ±‚æ•°æ®ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯å¾—çŸ¥é“æˆ‘ä»¬çš„Ajaxè¯·æ±‚å‘é€äº†ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶äº†ä»€ä¹ˆï¼Œåšåˆ°è¿™ä¸€æ­¥å¹¶ä¸éš¾ï¼Œä¹Ÿä¸éœ€è¦fiddlerç­‰å·¥å…·ï¼Œä»…åŸºäºChromeå³å¯ Chromeæµè§ˆå™¨æ‰“å¼€å¯¹åº”å‘ç”ŸAjaxçš„é¡µé¢ï¼ŒF12æ‰“å¼€Dev Tools å‘é€Ajaxè¯·æ±‚ å³ä¾§é¢æ¿-&gt;NetWork-&gt;XHRï¼Œç„¶åæ‰¾åˆ°åˆšæ‰çš„Ajaxè¯·æ±‚ï¼Œç‚¹è¿›å» ç¤ºä¾‹ä¸€(æ­£å¸¸çš„Ajaxè¯·æ±‚) ä¸Šè¿°è¯·æ±‚æ˜¯ä¸€ä¸ªæ­£ç¡®çš„è¯·æ±‚ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘æŠŠæ¯ä¸€ä¸ªå¤´åŸŸçš„æ„æ€éƒ½è¡¨æ˜äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œæ¥å£è¿”å›çš„å“åº”å¤´åŸŸä¸­ï¼ŒåŒ…æ‹¬äº† 123Access-Control-Allow-Headers: X-Requested-With,Content-Type,AcceptAccess-Control-Allow-Methods: Get,Post,Put,OPTIONSAccess-Control-Allow-Origin: * æ‰€ä»¥æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”æ—¶ï¼Œåˆ¤æ–­çš„æ˜¯æ­£ç¡®çš„è¯·æ±‚ï¼Œè‡ªç„¶ä¸ä¼šæŠ¥é”™ï¼ŒæˆåŠŸçš„æ‹¿åˆ°äº†å“åº”æ•°æ®ã€‚ ç¤ºä¾‹äºŒ(è·¨åŸŸé”™è¯¯çš„Ajaxè¯·æ±‚)ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä»ç„¶æ‹¿ä¸Šé¢çš„é”™è¯¯è¡¨ç°ç¤ºä¾‹ä¸¾ä¾‹ã€‚ è¿™ä¸ªè¯·æ±‚ä¸­ï¼Œæ¥å£Allowé‡Œé¢æ²¡æœ‰åŒ…æ‹¬OPTIONSï¼Œæ‰€ä»¥è¯·æ±‚å‡ºç°äº†è·¨åŸŸã€‚ è¿™ä¸ªè¯·æ±‚ä¸­ï¼ŒAccess-Control-Allow-Origin: *å‡ºç°äº†ä¸¤æ¬¡ï¼Œå¯¼è‡´äº†è·¨åŸŸé…ç½®æ²¡æœ‰æ­£ç¡®é…ç½®ï¼Œå‡ºç°äº†é”™è¯¯ã€‚ æ›´å¤šè·¨åŸŸé”™è¯¯åŸºæœ¬éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œå°±æ˜¯ä»¥ä¸Šä¸‰æ ·æ²¡æœ‰æ»¡è¶³(Headers,Allow,Origin)ï¼Œè¿™é‡Œä¸å†ä¸€ä¸€èµ˜è¿°ã€‚ ç¤ºä¾‹ä¸‰(ä¸è·¨åŸŸæ— å…³çš„Ajaxè¯·æ±‚)å½“ç„¶ï¼Œä¹Ÿå¹¶ä¸æ˜¯æ‰€æœ‰çš„Ajaxè¯·æ±‚é”™è¯¯éƒ½ä¸è·¨åŸŸæœ‰å…³ï¼Œæ‰€ä»¥è¯·ä¸è¦æ··æ·†ï¼Œæ¯”å¦‚ä»¥ä¸‹: æ¯”å¦‚è¿™ä¸ªè¯·æ±‚ï¼Œå®ƒçš„è·¨åŸŸé…ç½®æ²¡æœ‰ä¸€ç‚¹é—®é¢˜ï¼Œå®ƒå‡ºé”™ä»…ä»…æ˜¯å› ä¸ºrequestçš„Acceptå’Œresponseçš„Content-Typeä¸åŒ¹é…è€Œå·²ã€‚","link":"/2019/08/06/å¦‚ä½•åˆ©ç”¨CORSè§£å†³è·¨åŸŸé—®é¢˜/"},{"title":"Debugging JavaScript in Chrome DevTools","text":"å¦‚ä½•ä½¿ç”¨ Chrome DevTools Sources æ¥è¿›è¡Œæ–­ç‚¹è°ƒè¯• ä»€ä¹ˆæ˜¯æ–­ç‚¹é€šå¸¸ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœæ­¢æ‰§è¡Œä»£ç ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥é€è¡Œåœ°æŸ¥çœ‹ç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚ ä¸€æ—¦ä»£ç åœ¨æ–­ç‚¹å¤„åœæ­¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è®¿é—®ä½œç”¨åŸŸï¼ŒæŸ¥çœ‹è°ƒç”¨å †æ ˆï¼Œç”šè‡³åœ¨è¿è¡Œæ—¶æ›´æ”¹ä»£ç æ¥è¿›è¡Œè°ƒè¯•ã€‚ å¦‚ä½•è®¾ç½®æ–­ç‚¹ æ‰“å¼€Sourcesé€‰é¡¹å¡ Ctrl + Pæ‰“å¼€æˆ‘ä»¬è¦è°ƒè¯•çš„æ–‡ä»¶ ç‚¹å‡»å·¦ä¾§çš„ä»£ç è¡Œæ•°ï¼Œæ¥è®¾ç½®æ–­ç‚¹ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€è¡Œä»£ç ä¸Šæ›´æ·±å…¥åœ°è®¾ç½®æ–­ç‚¹ï¼Œä¾‹å¦‚åœ¨ä¸€è¡Œä»£ç é‡Œçš„ä¸åŒè¯­å¥ã€‚ æˆ‘ä»¬è®¾ç½®äº†3ä¸ªæ–­ç‚¹ï¼š ç¬¬ä¸€ä¸ªæ–­ç‚¹åœ¨ä»£ç å®šä¹‰æ—¶åœæ­¢æ‰§è¡Œ ç¬¬äºŒä¸ªæ–­ç‚¹å°†åœ¨ priceReceived å‡½æ•°æ‰§è¡Œä¹‹å‰åœæ­¢ ç¬¬ä¸‰ä¸ªæ–­ç‚¹å°†åœ¨ priceReceived è¢«è°ƒç”¨åç«‹å³åœæ­¢ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥æ£€æŸ¥ç®­å¤´å‡½æ•°çš„è¿”å›å€¼ å½“è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ‰§è¡Œåœæ­¢ï¼Œå³ä¾§é¢æ¿ Scope å°†æ˜¾ç¤ºå½“å‰çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶å…è®¸æˆ‘ä»¬è®¿é—®æ‰€æœ‰æˆ‘ä»¬æƒ³æŸ¥çœ‹çš„å€¼ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å˜é‡ price çš„å€¼ï¼š åœ¨ä¸‹å›¾ä¸­ï¼Œä¸€æ—¦ priceReceived æ‰§è¡Œï¼Œç¬¬ä¸‰ä¸ªæ–­ç‚¹å°±ä¼šè¢«ä½¿ç”¨ã€‚ åœ¨å³ä¾§é¢æ¿ä¸­æ‚¨å¯ä»¥ä½¿ç”¨ Return value æŸ¥çœ‹åŒ¿åå‡½æ•°çš„è¿”å›å€¼ï¼š ä¸´æ—¶å–æ¶ˆæ–­ç‚¹åœºæ™¯ï¼šæœ‰æ—¶å€™ä½ åœ¨ä»£ç ä¸­è®¾ç½®äº†å¤šä¸ªæ–­ç‚¹ï¼Œå½“åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œå°±ä¼šé€ä¸ªæ‰§è¡Œæ¯ä¸ªæ–­ç‚¹ï¼Œæµªè´¹å¾ˆå¤šæ—¶é—´ã€‚ è¿™æ—¶ï¼Œä½ å¯ä»¥æš‚åœæ‰€æœ‰æ–­ç‚¹çš„æ‰§è¡Œï¼Œé€šè¿‡åˆ‡æ¢ä¸‹å›¾ä¸­çš„å›¾æ ‡æ¥æ“ä½œï¼š é”™è¯¯æ•æ‰åœºæ™¯ï¼šä½ çš„ä»£ç æ‰§è¡Œäº§ç”Ÿäº†é”™è¯¯ï¼Œä½†ä½ ä¸çŸ¥é“ä½•æ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚ è¿™æ—¶ï¼Œä½ å¯ä»¥è®¾ç½®æ‰§è¡Œé”™è¯¯æ—¶åœæ­¢ï¼Œé€šè¿‡åˆ‡æ¢ä¸‹å›¾ä¸­çš„å›¾æ ‡æ¥æ“ä½œï¼š æ¡ä»¶æ–­ç‚¹å°±æ˜¯ä»…åœ¨æ¡ä»¶ä¸ºçœŸæ—¶è§¦å‘çš„æ–­ç‚¹ã€‚ ä¾‹å¦‚ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ–‡æœ¬åŒºåŸŸä¸­è¾“å…¥éæ•°å­—ã€‚ç”±äº JS çš„å…¼å®¹æ€§åªä¼šæ˜¾ç¤º NaN è€Œä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚ åœºæ™¯ï¼šæ‚¨çš„ä»£ç æ¯”ä¸Šé¢çš„ä»£ç æ›´å¤æ‚ï¼Œå¹¶ä¸”æ— æ³•ç¡®å®šä½•æ—¶å‡ºç° NaN ï¼Œä¸èƒ½åŠæ—¶å¤ç°é”™è¯¯ã€‚ æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š å³é”®å•å‡»è¦æ·»åŠ æ–­ç‚¹çš„ä»£ç è¡Œ å•å‡»Add conditional breakpointâ€¦ æ·»åŠ æœ‰æ•ˆçš„JSè¡¨è¾¾å¼ã€‚å½“ç„¶ï¼Œåœ¨è°ƒç”¨è¡¨è¾¾å¼æ—¶ï¼Œæ‚¨å¯ä»¥å¼•ç”¨å‚æ•° x å’Œ y å½“è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œæ–­ç‚¹å°†è¢«è§¦å‘ é€æ­¥æ‰§è¡Œä»£ç ä½¿ç”¨ Dev Tools ä¸­çš„ navigator å¯ä»¥æŒ‰é¡ºåºé€è¡Œæ‰§è¡Œä»£ç ï¼ŒåŒ…å«4ç§æ–¹å¼ï¼š StepæŒ‰é’® Step over next function callæŒ‰é’® Step Into Next function callæŒ‰é’® Step Out of function callæŒ‰é’® å•æ­¥æ‰§è¡Œä»£ç è‹¥ç‚¹å‡» Step æŒ‰é’®å°†æŒ‰æ—¶é—´é¡ºåºç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼š è·³è¿‡ä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‹¥ç‚¹å‡» Step over next function call æŒ‰é’®ï¼Œä¹Ÿä¼šé¡ºåºæ‰§è¡Œä»£ç ï¼Œä½†ä¸ä¼šè¿›å…¥å‡½æ•°è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°è°ƒç”¨å°†è¢«è·³è¿‡ï¼Œé™¤éæ‚¨åœ¨å‡½æ•°ä¸­è®¾ç½®äº†æ–­ç‚¹ï¼Œå¦åˆ™è°ƒè¯•å™¨å°†ä¸ä¼šåœ¨è¯¥å‡½æ•°ä¸­åœæ­¢ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šmultiplyBy å’Œ renderToDOM è¿™ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶æ²¡æœ‰åƒ Step é‚£æ ·è¿›å…¥å‡½æ•°å†…éƒ¨ã€‚ è¿›å…¥ä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‹¥ç‚¹å‡» Step Into Next function call æŒ‰é’®ï¼Œå®ƒç±»ä¼¼äºStepï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œå½“è¿›å…¥å¼‚æ­¥ä»£ç æ—¶ï¼Œå®ƒå°†åœæ­¢åœ¨å¼‚æ­¥ä»£ç ä¸­ï¼Œè€Œä¸æ˜¯æŒ‰æ—¶é—´é¡ºåºè¿è¡Œçš„ä»£ç ï¼š å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šå¦‚æœæŒ‰æ—¶é—´é¡ºåºï¼Œç¬¬32è¡Œåº”è¯¥å·²ç»è¿è¡Œï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚è°ƒè¯•å™¨åœ¨ç­‰å¾…2ç§’åæ‰ç§»åŠ¨åˆ°ç¬¬29è¡Œã€‚ é€€å‡ºå‡½æ•°è°ƒç”¨å‡è®¾è°ƒè¯•ä»£ç æ—¶ï¼Œæ‚¨ä¸æƒ³è¿›å…¥æŸä¸ªå‡½æ•°çš„å†…éƒ¨ï¼ŒStep Out of function call å…è®¸æ‚¨é€€å‡ºå‡½æ•°å¹¶åœ¨å‡½æ•°è°ƒç”¨åçš„ä¸‹ä¸€è¡Œåœæ­¢ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š ä»£ç åœ¨ç¬¬36è¡Œçš„æ–­ç‚¹åœäº†ä¸‹æ¥ ç„¶åé€€å‡ºäº†å‡½æ•° renderToDOM è°ƒè¯•å™¨ç›´æ¥ç§»åˆ°ç¬¬29è¡Œå¹¶è·³è¿‡ renderToDOM å‡½æ•°çš„å‰©ä½™éƒ¨åˆ† å…¨å±€å­˜å‚¨å˜é‡æœ‰æ—¶ï¼Œå°†æŸäº›å€¼ï¼ˆä¾‹å¦‚ç»„ä»¶ç±»ï¼Œå¤§å‹æ•°ç»„æˆ–å¤æ‚å¯¹è±¡ï¼‰åœ¨å…¨å±€èŒƒå›´å†…å­˜å‚¨ï¼Œä¼šéå¸¸æœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œå½“æ‚¨æƒ³è¦ä¼ å…¥ä¸åŒçš„å‚æ•°è°ƒåˆ°æŸä¸ªç»„ä»¶çš„æ–¹æ³•æ—¶ï¼Œåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å°†è¿™äº›å‚æ•°æ·»åŠ åˆ°å…¨å±€èŒƒå›´å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šæˆ‘å°†æ•°ç»„ [previous, current] å­˜ä¸ºå…¨å±€å˜é‡ã€‚å¼€å‘è€…å·¥å…·ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåä¸º temp{n} çš„å˜é‡ï¼Œn åŸºäºå…ˆå‰ä¿å­˜çš„å˜é‡çš„æ•°ç›®ã€‚ äº‹ä¾‹ä¸­å˜é‡è¢«å‘½åtemp2ï¼Œæ‚¨å¯ä»¥åœ¨æ§åˆ¶å°ä¸­ä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒç°åœ¨å·²æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡äº†ï¼ å¦‚æœæ‚¨ä»”ç»†è§‚å¯Ÿä¼šå‘ç°ï¼Œå½“æˆ‘å°†ä¿å­˜çš„å˜é‡æ˜ å°„åˆ°å­—ç¬¦ä¸²æ•°ç»„æ—¶ï¼Œæˆ‘æ²¡æœ‰æŒ‰ä¸‹ Enter é”®ï¼Œä½†ç»“æœç«‹å³æ˜¾ç¤ºåœ¨ä¸‹ä¸€è¡Œã€‚ æŸ¥çœ‹è°ƒç”¨å †æ ˆ åœ¨è°ƒç”¨å®ƒä»¬çš„å‡½æ•°ä¸­æ¥å›è·³è½¬ åœ¨æ¯ä¸ªæ­¥éª¤æ£€æŸ¥å®ƒä»¬çš„ä½œç”¨åŸŸ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•é¡µé¢å’Œä¸€ä¸ªè¾“å…¥æ•°å­—çš„è„šæœ¬ï¼Œå¹¶åœ¨é¡µé¢ä¸Šå‘ˆç°æ•°å­—ä¹˜ä»¥10ã€‚ æˆ‘ä»¬å°†è°ƒç”¨ä¸¤ä¸ªå‡½æ•°ï¼šä¸€ä¸ªç”¨æ¥åšä¹˜æ³•ï¼Œä¸€ä¸ªç”¨æ¥å°†ç»“æœæ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šåªéœ€å•å‡» Call Stack çª—æ ¼ä¸­çš„å‡½æ•°åç§°ï¼Œæˆ‘ä»¬å°±å¯ä»¥æµè§ˆå®ƒä»¬çš„ä½œç”¨åŸŸã€‚ å¦‚æœæ‚¨ä»”ç»†è§‚å¯Ÿä¼šå‘ç°ï¼Œæ¯æ¬¡æˆ‘ä»¬ä»ä¸€ä¸ªå‡½æ•°è°ƒç”¨è·³åˆ°å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶ï¼Œä½œç”¨åŸŸéƒ½ä¼šä¿ç•™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå¯¹æ¯ä¸€æ­¥è¿›è¡Œåˆ†æï¼ Blackboxè„šæœ¬ç”¨äºå±•å¹³å †æ ˆBlackboxingè„šæœ¬å°†é€šè¿‡ä»å †æ ˆä¸­æ’é™¤ç‰¹å®šçš„è„šæœ¬æˆ–æŸäº›åŒ¹é…æ¨¡å¼çš„è„šæœ¬æ¥è¿‡æ»¤è°ƒç”¨å †æ ˆã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘æœ‰99%çš„æ—¶é—´åªè°ƒè¯• userland ä¸­çš„ä»£ç æ„Ÿå…´è¶£ï¼Œæˆ‘å¯ä»¥åœ¨ Blackbox ä¸­æ·»åŠ ä¸€ä¸ªæ¨¡å¼ï¼Œå°† node_modules æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰è„šæœ¬è¿‡æ»¤æ‰ã€‚ è¦é€šè¿‡ Blackbox è¿‡æ»¤ä¸€ä¸ªè„šæœ¬ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š å³é”®å•å‡» Sources é€‰é¡¹å¡ä¸­çš„ JS è„šæœ¬ï¼Œç„¶åå•å‡»Blackbox Script è½¬åˆ°Chromeè®¾ç½®é¡µé¢ï¼Œç„¶åè½¬åˆ° Blackboxing å¹¶å•å‡» Add Patternâ€¦ å¹¶è¾“å…¥æ‚¨æƒ³è¦åŠ å…¥ Blackbox çš„æ­£åˆ™ï¼Œåœ¨æ‚¨æƒ³è¦è¿‡æ»¤å¤§é‡è„šæœ¬æ—¶å¾ˆæœ‰ç”¨ã€‚ ç›‘è§†è¡¨è¾¾å¼é€šè¿‡ç›‘è§†è¡¨è¾¾å¼ï¼Œæ‚¨å¯ä»¥å®šä¹‰ä¸€äº› JS è¯­å¥ï¼Œåœ¨å¼€å‘è€…å·¥å…·è¿è¡Œæ˜¾ç¤ºè¿™äº›è¯­å¥çš„ç»“æœã€‚è¿™æ˜¯ä¸€ä¸ªç‰¹åˆ«æœ‰è¶£çš„å·¥å…·ï¼Œå› ä¸ºæ‚¨å¯ä»¥å†™ä»»ä½•æ‚¨æƒ³è¦çš„è™šæ‹Ÿæƒ…å†µï¼Œåªè¦å®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JS è¡¨è¾¾å¼ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªç»“æœå§‹ç»ˆä¸º true çš„è¡¨è¾¾å¼ï¼Œå½“è¡¨è¾¾å¼ç»“æœä¸º false æ—¶ ï¼Œæ‚¨å°±å¯ä»¥å‘ç°å½“å‰çš„è¿è¡ŒçŠ¶æ€å­˜åœ¨é—®é¢˜ã€‚ éœ€è¦æ³¨æ„åœ°æ–¹ï¼š å½“æˆ‘ä»¬ä½¿ç”¨æ–­ç‚¹è¿›è¡Œè°ƒè¯•æ—¶ï¼Œç›‘è§†è¡¨è¾¾å¼å°†è¢«ç«‹åˆ»æ‰§è¡Œï¼Œä¸éœ€è¦åˆ·æ–°é¡µé¢ å¦‚æœä»£ç åœ¨æ­£å¸¸è¿è¡Œæ—¶ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨å•å‡»åˆ·æ–°æŒ‰é’® å‚è€ƒåœ°å€ Get Started with Debugging JavaScript in Chrome DevTools Console Overview Debugging Javascript Like a Pro æ˜é‡‘","link":"/2019/08/29/Debugging-JavaScript-in-Chrome-DevTools/"},{"title":"ReactNativeå¯ç”¨CSSæ ·å¼æ€»ç»“","text":"ReactNativeçš„æ ·å¼è·ŸåŸç”ŸCSSæ ·å¼æœ‰ä¸€å®šåŒºåˆ«ï¼Œä¸”ä¸æ”¯æŒéƒ¨åˆ†åŸç”ŸCSSæ ·å¼ï¼Œä¸‹é¢æ˜¯å¯¹RNå¸¸ç”¨æ ·å¼çš„æ€»ç»“ï¼š ReactNativeä¸­æ ·å¼é‡‡ç”¨é©¼å³°å†™æ³• Viewç»„ä»¶ç±»ä¼¼Divæ ‡ç­¾ï¼ŒåŒ…è£…å®¹å™¨ï¼Œé»˜è®¤å ç”¨100%å®½åº¦ï¼Œæ˜¯æœ€å¸¸ç”¨çš„å—çŠ¶å…ƒç´  Textç»„ä»¶ç±»ä¼¼Spanæ ‡ç­¾ï¼Œåœ¨è¢«ViewåŒ…è£¹æ—¶å€™å¯è®¾ç½®paddingã€marginåƒå—çŠ¶ ç»å¯¹å®šä½å’Œç›¸å¯¹å®šä½çˆ¶å…ƒç´ ä¸éœ€è¦è®¾ç½®positionå’Œzindex é»˜è®¤æ˜¯Flexå¸ƒå±€ï¼Œæ–¹å‘æ˜¯è‡ªä¸Šè€Œä¸‹ å¸¸ç”¨å±æ€§Text æ–‡æœ¬ å±æ€§å å–å€¼ æè¿° color é¢œè‰² å¯¹åº” CSS ä¸­çš„ color å±æ€§ fontFamily string å¯¹åº” CSS ä¸­çš„ font-family å±æ€§ fontSize number å¯¹åº” CSS ä¸­çš„ font-size å±æ€§ fontStyle normal, italic å¯¹åº” CSS ä¸­çš„ font-style å±æ€§ï¼Œä½†é˜‰å‰²äº† oblique å–å€¼ fontWeight normal, bold 100~900 å¯¹åº” CSS ä¸­çš„ font-weight å±æ€§ï¼Œä½†é˜‰å‰²äº† bolder, lighter å–å€¼ lineHeight number å¯¹åº” CSS ä¸­çš„ line-height å±æ€§ textAlign auto, left, right, center, justify å¯¹åº” CSS ä¸­çš„ text-align å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ï¼Œå½“å–å€¼ä¸º justify æ—¶ï¼Œåœ¨ Android ä¸Šä¼šå˜ä¸º left textAlignVerticalAndroid auto, top, bottom, center å¯¹åº” CSS ä¸­çš„ vertical-align å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ï¼Œcenter å–ä»£äº† middleï¼Œå¹¶é˜‰å‰²äº† baseline, subç­‰å€¼ includeFontPaddingAndroid boolean Androidåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šä¸ºæ–‡å­—é¢å¤–ä¿ç•™ä¸€äº›paddingï¼Œä»¥ä¾¿ç•™å‡ºç©ºé—´æ‘†æ”¾ä¸Šæ ‡æˆ–æ˜¯ä¸‹æ ‡çš„æ–‡å­—ã€‚å¯¹äºæŸäº›å­—ä½“æ¥è¯´ï¼Œè¿™äº›é¢å¤–çš„paddingå¯èƒ½ä¼šå¯¼è‡´æ–‡å­—éš¾ä»¥å‚ç›´å±…ä¸­ã€‚å¦‚æœä½ æŠŠtextAlignVerticalè®¾ç½®ä¸ºcenterä¹‹åï¼Œæ–‡å­—çœ‹èµ·æ¥ä¾ç„¶ä¸åœ¨æ­£ä¸­é—´ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•å°†æœ¬å±æ€§è®¾ç½®ä¸ºfalse textShadowColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ text-shadow å±æ€§ä¸­çš„é¢œè‰²å®šä¹‰ textShadowOffset { width: number, height: number } å¯¹åº” CSS ä¸­çš„ text-shadow å±æ€§ä¸­çš„é˜´å½±åç§»å®šä¹‰ textShadowRadius number åœ¨ CSS ä¸­ï¼Œé˜´å½±çš„åœ†è§’å¤§å°å–å†³äºå…ƒç´ çš„åœ†è§’å®šä¹‰ï¼Œä¸éœ€è¦é¢å¤–å®šä¹‰ letterSpacingiOS number å¯¹åº” CSS ä¸­çš„ letter-spacing å±æ€§ï¼Œä½†å–å€¼ä¸åŒ textDecorationColoriOS é¢œè‰² å¯¹åº” CSS ä¸­çš„ text-decoration-color å±æ€§ textDecorationLineiOS none, underline, line-through, underline line-through å¯¹åº” CSS ä¸­çš„ text-decoration-line å±æ€§ï¼Œä½†é˜‰å‰²äº† overline, blink å–å€¼ textDecorationStyleiOS solid, double, dotted, dashed å¯¹åº” CSS ä¸­çš„ text-decoration-style å±æ€§ï¼Œä½†é˜‰å‰²äº† wavy å–å€¼ writingDirectioniOS auto, ltr, rtl å¯¹åº” CSS ä¸­çš„ direction å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ Dimension å®½é«˜ å±æ€§å å–å€¼ æè¿° width number å¯¹åº” CSS ä¸­çš„ width å±æ€§ height number å¯¹åº” CSS ä¸­çš„ height å±æ€§ Positioning å®šä½ å±æ€§å å–å€¼ æè¿° position absolute, relative å¯¹åº” CSS ä¸­çš„ position å±æ€§ï¼Œä½†é˜‰å‰²äº† static, fixed å–å€¼ top number å¯¹åº” CSS ä¸­çš„ top å±æ€§ right number å¯¹åº” CSS ä¸­çš„ right å±æ€§ bottom number å¯¹åº” CSS ä¸­çš„ bottom å±æ€§ left number å¯¹åº” CSS ä¸­çš„ left å±æ€§ Margin å±æ€§å å–å€¼ æè¿° margin number å¯¹åº” CSS ä¸­çš„ margin å±æ€§ï¼Œä¸åŒçš„æ˜¯ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨ä»¥è¡¨ç¤ºä¸Šã€å³ã€ä¸‹ã€å·¦4ä¸ªæ–¹ä½çš„å¤–è¡¥ç™½ marginHorizontal number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®marginRightå’ŒmarginLeft marginVertical number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®marginTopå’ŒmarginBottom marginTop number å¯¹åº” CSS ä¸­çš„ margin-top å±æ€§ marginRight number å¯¹åº” CSS ä¸­çš„ margin-right å±æ€§ marginBottom number å¯¹åº” CSS ä¸­çš„ margin-bottom å±æ€§ marginLeft number å¯¹åº” CSS ä¸­çš„ margin-left å±æ€§ Padding å±æ€§å å–å€¼ æè¿° padding number å¯¹åº” CSS ä¸­çš„ padding å±æ€§ï¼Œä¸åŒçš„æ˜¯ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨ä»¥è¡¨ç¤ºä¸Šã€å³ã€ä¸‹ã€å·¦4ä¸ªæ–¹ä½çš„å†…è¡¥ç™½ paddingHorizontal number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®paddingRightå’ŒpaddingLeft paddingVertical number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®paddingTopå’ŒpaddingBottom paddingTop number å¯¹åº” CSS ä¸­çš„ padding-top å±æ€§ paddingRight number å¯¹åº” CSS ä¸­çš„ padding-right å±æ€§ paddingBottom number å¯¹åº” CSS ä¸­çš„ padding-bottom å±æ€§ paddingLeft number å¯¹åº” CSS ä¸­çš„ padding-left å±æ€§ Border å±æ€§å å–å€¼ æè¿° borderStyle solid, dotted, dashed å¯¹åº” CSS ä¸­çš„ border-style å±æ€§ï¼Œä½†é˜‰å‰²äº† none, hidden, double, groove, ridge, inset, outset å–å€¼ï¼Œä¸”æ— æ–¹å‘åˆ†æ‹†å±æ€§ borderWidth number å¯¹åº” CSS ä¸­çš„ border-width å±æ€§ borderTopWidth number å¯¹åº” CSS ä¸­çš„ border-top-width å±æ€§ borderRightWidth number å¯¹åº” CSS ä¸­çš„ border-right-width å±æ€§ borderBottomWidth number å¯¹åº” CSS ä¸­çš„ border-bottom-width å±æ€§ borderLeftWidth number å¯¹åº” CSS ä¸­çš„ border-left-width å±æ€§ borderColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-color å±æ€§ borderTopColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-top-color å±æ€§ borderRightColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-right-color å±æ€§ borderBottomColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-bottom-color å±æ€§ borderLeftColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-left-color å±æ€§ borderRadius number å¯¹åº” CSS ä¸­çš„ border-radius å±æ€§ borderTopLeftRadius number å¯¹åº” CSS ä¸­çš„ border-top-left-radius å±æ€§ borderTopRightRadius number å¯¹åº” CSS ä¸­çš„ border-top-right-radius å±æ€§ borderBottomLeftRadius number å¯¹åº” CSS ä¸­çš„ border-bottom-left-radius å±æ€§ borderBottomRightRadius number å¯¹åº” CSS ä¸­çš„ border-bottom-right-radius å±æ€§ Shadow å±æ€§å å–å€¼ æè¿° shadowColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é¢œè‰²å®šä¹‰ shadowOffset { width: number, height: number } å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é˜´å½±åç§»å®šä¹‰ shadowRadius number åœ¨ CSS ä¸­ï¼Œé˜´å½±çš„åœ†è§’å¤§å°å–å†³äºå…ƒç´ çš„åœ†è§’å®šä¹‰ï¼Œä¸éœ€è¦é¢å¤–å®šä¹‰ shadowOpacity number å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é˜´å½±é€æ˜åº¦å®šä¹‰ Background èƒŒæ™¯ å±æ€§å å–å€¼ æè¿° backgroundColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ background-color å±æ€§ Transform å±æ€§å å–å€¼ æè¿° transform [{perspective: number}, {rotate: string}, {rotateX: string}, {rotateY: string}, {rotateZ: string}, {scale: number}, {scaleX: number}, {scaleY: number}, {translateX: number}, {translateY: number}, {skewX: string}, {skewY: string}] å¯¹åº” CSS ä¸­çš„ transform å±æ€§ transformMatrix TransformMatrixPropType ç±»ä¼¼äº CSS ä¸­ transform å±æ€§çš„ matrix() å’Œ matrix3d() å‡½æ•° backfaceVisibility visible, hidden å¯¹åº” CSS ä¸­çš„ backface-visibility å±æ€§ Flex å±æ€§å å–å€¼ æè¿° flex number å¯¹åº” CSS ä¸­çš„ flex å±æ€§ flexGrow number è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’çš„æ‰©å±•æ¯”ç‡ flexShrink number å°†å­å…ƒç´ å®½åº¦ä¹‹å’Œä¸çˆ¶å…ƒç´ å®½åº¦çš„å·®å€¼æŒ‰ç…§å­å…ƒç´  flex-shrink çš„å€¼åˆ†é…ç»™å„ä¸ªå­å…ƒç´ ï¼Œæ¯ä¸ªå­å…ƒç´ åŸæœ¬å®½åº¦å‡å»æŒ‰æ¯”ä¾‹åˆ†é…çš„å€¼ï¼Œå…¶å‰©ä½™å€¼ä¸ºå®é™…å®½åº¦ã€‚ flexBasis number è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’ä¼¸ç¼©åŸºå‡†å€¼ flexDirection row, column å¯¹åº” CSS ä¸­çš„ flex-direction å±æ€§ï¼Œä½†é˜‰å‰²äº† row-reverse, column-reverse å–å€¼ flexWrap wrap, nowrap å¯¹åº” CSS ä¸­çš„ flex-wrap å±æ€§ï¼Œä½†é˜‰å‰²äº† wrap-reverse å–å€¼ justifyContent flex-start, flex-end, center, space-between, space-around å¯¹åº” CSS ä¸­çš„ justify-content å±æ€§ï¼Œä½†é˜‰å‰²äº† stretch å–å€¼ã€‚ alignItems flex-start, flex-end, center, stretch å¯¹åº” CSS ä¸­çš„ align-items å±æ€§ï¼Œä½†é˜‰å‰²äº† baseline å–å€¼ã€‚ alignSelf auto, flex-start, flex-end, center, stretch å¯¹åº” CSS ä¸­çš„ align-self å±æ€§ï¼Œä½†é˜‰å‰²äº† baseline å–å€¼ å…¶ä»– å±æ€§å å–å€¼ æè¿° opacity number å¯¹åº” CSS ä¸­çš„ opacity å±æ€§ overflow visible, hidden å¯¹åº” CSS ä¸­çš„ overflow å±æ€§ï¼Œä½†é˜‰å‰²äº† scroll, auto å–å€¼ number å¯¹åº” CSS ä¸­çš„ z-index å±æ€§ elevationAndroid number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œåªåœ¨ Android5.0+ ä¸Šæœ‰æ•ˆ resizeMode cover, contain, stretch CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œå¯ä»¥å‚è€ƒ background-size å±æ€§ overlayColorAndroid string CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œå½“å›¾åƒæœ‰åœ†è§’æ—¶ï¼Œå°†è§’è½éƒ½å……æ»¡ä¸€ç§é¢œè‰² tintColoriOS é¢œè‰² CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼ŒiOS å›¾åƒä¸Šç‰¹æ®Šçš„è‰²å½©ï¼Œæ”¹å˜ä¸é€æ˜åƒç´ çš„é¢œè‰² é¢œè‰²å–å€¼React-Native æ”¯æŒäº† CSS ä¸­å¤§éƒ¨åˆ†çš„é¢œè‰²ç±»å‹ï¼š #f00 (#rgb) #f00c (#rgba)ï¼šCSS ä¸­æ— å¯¹åº”çš„å€¼ #ff0000 (#rrggbb) #ff0000cc (#rrggbbaa)ï¼šCSS ä¸­æ— å¯¹åº”çš„å€¼ rgb(255, 0, 0) rgba(255, 0, 0, 0.9) hsl(360, 100%, 100%) hsla(360, 100%, 100%, 0.9) transparent Color Nameï¼šæ”¯æŒäº† åŸºæœ¬é¢œè‰²å…³é”®å­— å’Œ æ‹“å±•é¢œè‰²å…³é”®å­—ï¼Œä½†ä¸æ”¯æŒ 28ä¸ªç³»ç»Ÿé¢œè‰²ï¼› Units å•ä½åœ¨ React-Native ä¸­ï¼Œå¹¶ä¸æ”¯æŒç™¾åˆ†æ¯”å•ä½ï¼Œç›®å‰åªæ”¯æŒä¸€ç§å•ä½ï¼Œå³ pt ç»å¯¹é•¿åº¦å•ä½ï¼ŒåŒæ—¶ï¼Œä½ åœ¨å®šä¹‰æ—¶ä¸éœ€è¦åŠ å•ä½ï¼Œä¾‹å¦‚ï¼š 1234567&lt;View style={{width: 100, height: 50}}&gt;&lt;/View&gt;var styles = StyleSheet.create({ box: { width: 100, height: 50 }});","link":"/2019/07/02/ReactNativeå¯ç”¨CSSæ ·å¼æ€»ç»“/"},{"title":"CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹","text":"CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹çš„ç¬”è®°æ•´ç† å‚è€ƒåœ°å€ï¼šé˜®ä¸€å³° åŸºæœ¬æ¦‚å¿µå®¹å™¨å’Œé¡¹ç›®1234567891011&lt;div id=\"container\"&gt; &lt;div class=\"item\"&gt; &lt;p&gt;1&lt;/p&gt; &lt;/div&gt; &lt;div class=\"item\"&gt; &lt;p&gt;1&lt;/p&gt; &lt;/div&gt; &lt;div class=\"item\"&gt; &lt;p&gt;1&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; ä¸Šè¿°ä»£ç ä¸­ï¼Œæœ‰3ä¸ªçŸ¥è¯†ç‚¹ï¼š æœ€å¤–å±‚idä¸ºcontainerçš„&lt;div&gt;æ ‡ç­¾ç§°ä¹‹ä¸ºå®¹å™¨ å­å…ƒç´ classä¸ºitemçš„&lt;div&gt;æ ‡ç­¾ç§°ä¹‹ä¸ºé¡¹ç›® å­å­™å…ƒç´ &lt;p&gt;æ ‡ç­¾æ‰€åœ¨çš„å…ƒç´ ä¸æ˜¯é¡¹ç›® å®¹å™¨å±æ€§display: gridå’Œdisplay: flexç›¸ä¼¼ï¼Œè®©ä¸€ä¸ªå®¹å™¨ä½¿ç”¨ç½‘æ ¼å¸ƒå±€ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨å…ƒç´ éƒ½æ˜¯å—çº§å…ƒç´ ï¼Œæ‰€ä»¥æ˜¯verticalæ’åˆ—ï¼ˆFlexå¸ƒå±€é»˜è®¤æ˜¯horizontalæ’åˆ—ï¼‰ã€‚ display: inline-gridè®©ä¸€ä¸ªå®¹å™¨ä½¿ç”¨ç½‘æ ¼å¸ƒå±€ï¼Œå¹¶ä¸”å®¹å™¨å…ƒç´ æˆä¸ºè¡Œå†…å…ƒç´ ã€‚ æ³¨æ„ï¼šè®¾ä¸ºç½‘æ ¼å¸ƒå±€ä»¥åï¼Œå®¹å™¨å­å…ƒç´ ï¼ˆé¡¹ç›®ï¼‰çš„floatã€display: inline-blockã€display: table-cellã€vertical-alignå’Œcolumn-*ç­‰è®¾ç½®éƒ½å°†å¤±æ•ˆã€‚ grid-template-columnså’Œgrid-template-rowsgrid-template-columnså±æ€§å®šä¹‰æ¯ä¸€åˆ—çš„åˆ—å®½ï¼ˆæ°´å¹³æ–¹å‘ï¼‰ï¼Œgrid-template-rowså±æ€§å®šä¹‰æ¯ä¸€è¡Œçš„è¡Œé«˜ï¼ˆç«–ç›´æ–¹å‘ï¼‰ã€‚ å¯ä»¥ä½¿ç”¨ç»å¯¹å•ä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚ 12345.container { display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 33.33% 33.33% 33.33%;} repeat()repeat()ç”¨æ¥ç®€å†™é‡å¤çš„å€¼ã€‚å®ƒæ¥å—2ä¸ªå‚æ•°ï¼š é‡å¤çš„æ¬¡æ•° æ‰€è¦é‡å¤çš„å€¼ 12345.container { display: grid; grid-template-columns: repeat(3, 100px); grid-template-rows: repeat(3, 33.33%);} ä¹Ÿå¯ä»¥ä½¿ç”¨repeat()æ¥é‡å¤æŸç§æ¨¡å¼ï¼š grid-template-columns: repeat(2, 100px 20px 80px); ä¸Šè¿°ä»£ç å®šä¹‰äº†6åˆ—ï¼Œç¬¬ä¸€åˆ—å’Œç¬¬å››åˆ—çš„å®½åº¦ä¸º100pxï¼Œç¬¬äºŒåˆ—å’Œç¬¬äº”åˆ—ä¸º20pxï¼Œç¬¬ä¸‰åˆ—å’Œç¬¬å…­åˆ—ä¸º80pxã€‚ auto-fillauto-fillè¡¨ç¤ºå•å…ƒæ ¼å°½å¯èƒ½å¤šçš„è‡ªåŠ¨å¡«å……å®¹å™¨ã€‚ 1234.container { display: grid; grid-template-columns: repeat(auto-fill, 100px);} ä¸Šè¿°ä»£ç è¡¨ç¤ºæ¯åˆ—å®½100pxï¼Œç„¶åè‡ªåŠ¨å¡«å……ï¼Œç›´åˆ°å®¹å™¨æ°´å¹³æ–¹å‘ä¸èƒ½æ”¾ä¸‹æ›´å¤šä¸ºæ­¢ã€‚ frå…³é”®å­—frå…³é”®å­—ï¼ˆfraction çš„ç¼©å†™ï¼Œæ„ä¸ºâ€ç‰‡æ®µâ€ï¼‰ã€‚ å¦‚æœæœ‰ä¸¤åˆ—çš„å®½åº¦åˆ†åˆ«ä¸º1frå’Œ2frï¼Œå°±è¡¨ç¤ºåè€…æ˜¯å‰è€…çš„ä¸¤å€ï¼š 1234.container { display: grid; grid-template-columns: 1fr 2fr;} æ•ˆæœå›¾å¦‚ä¸‹ï¼š frå…³é”®å­—å¾ˆçµæ´»ï¼Œè¿˜å¯ä»¥ä¸ç»å¯¹é•¿åº¦çš„å•ä½ç»“åˆä½¿ç”¨ï¼Œè¿™æ—¶ä¼šéå¸¸æ–¹ä¾¿ã€‚ 1234.container { display: grid; grid-template-columns: 150px 1fr 2fr;} ä¸Šè¿°ä»£ç è¡¨ç¤ºç¬¬ä¸€åˆ—çš„å®½åº¦å›ºå®šä¸º150pxï¼Œç¬¬ä¸‰åˆ—çš„å®½åº¦æ˜¯ç¬¬äºŒåˆ—çš„ä¸¤å€ã€‚ æ•ˆæœå›¾å¦‚ä¸‹ï¼š minmax()minmax()å¯ä»¥è®¾å®šä¸€ä¸ªé•¿åº¦èŒƒå›´ï¼Œæ ¼å¼ä¸ºï¼šminmax(æœ€å°å€¼, æœ€å¤§å€¼)ã€‚ grid-template-columns: 1fr 1fr minmax(100px, 1fr); ä¸Šè¿°ä»£ç è¡¨ç¤ºæœ‰3åˆ—ï¼Œç¬¬ä¸€åˆ—å’Œç¬¬äºŒåˆ—éƒ½æ˜¯1frï¼Œç¬¬ä¸‰åˆ—æœ€å°‘100pxï¼Œæœ€å¤§1frã€‚å¯ä»¥ç”¨åˆ°ä¸€äº›éœ€è¦å“åº”å¼çš„åœ°æ–¹ã€‚ autoå…³é”®å­—autoå…³é”®å­—å¯ä»¥è®©æµè§ˆå™¨è‡ªå·±å†³å®šé•¿åº¦ã€‚ grid-template-columns: 100px auto 100px; ä¸Šè¿°ä»£ç ä¸­ï¼Œç¬¬äºŒåˆ—çš„å®½åº¦ï¼ŒåŸºæœ¬ä¸Šç­‰äºè¯¥åˆ—å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦ï¼Œé™¤éå•å…ƒæ ¼å†…å®¹è®¾ç½®äº†min-widthï¼Œä¸”è¿™ä¸ªå€¼å¤§äºæœ€å¤§å®½åº¦ã€‚ ç½‘æ ¼çº¿çš„åç§°æˆ‘ä»¬å¯ä»¥ä¸ºç½‘æ ¼çº¿å®šä¹‰åç§°ï¼Œæ–¹ä¾¿ä»¥åå¼•ç”¨ã€‚ 12345.container { display: grid; grid-template-columns: [c1] 100px [c2] 100px [c3] auto [c4]; grid-template-rows: [r1] 100px [r2] 100px [r3] auto [r4];} ä¸Šè¿°ä»£ç æŒ‡å®šç½‘æ ¼å¸ƒå±€ä¸º3è¡Œ x 3åˆ—ï¼Œå› æ­¤æœ‰4æ ¹å‚ç›´ç½‘æ ¼çº¿å’Œ4æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚[]æ–¹æ‹¬å·é‡Œé¢ä¾æ¬¡æ˜¯è¿™8æ ¹çº¿çš„åå­—ã€‚ ç½‘æ ¼å¸ƒå±€å…è®¸åŒä¸€æ ¹çº¿æœ‰å¤šä¸ªåå­—ï¼Œæ¯”å¦‚[fifth-line row-5]ã€‚ ç®€å•åº”ç”¨å¯ä»¥åˆ©ç”¨grid-template-columnså±æ€§å¯¹ç½‘é¡µè¿›è¡Œå¿«é€Ÿçš„ä¸¤æ å¼å¸ƒå±€ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç ï¼š 1234.wrapper { display: grid; grid-template-columns: 70% 30%;} grid-template-areasåŒºåŸŸ12345678.container { display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-template-areas: 'a b c' 'd e f' 'g h i';} ä¸Šè¿°ä»£ç æŠŠåŒºåŸŸåˆ’åˆ†æˆ9ä¸ªå•å…ƒæ ¼ï¼Œç„¶åå°†å…¶å®šåä¸ºaåˆ°içš„9ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«å¯¹åº”è¿™9ä¸ªå•å…ƒæ ¼ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¸ƒå±€å®ä¾‹ï¼š 12345678.container { display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-template-areas: \"header header header\" \"main main sidebar\" \"footer . .\";} å¦‚æœæŸäº›åŒºåŸŸä¸éœ€è¦åˆ©ç”¨ï¼Œåˆ™ä½¿ç”¨â€ç‚¹â€ï¼ˆ.ï¼‰è¡¨ç¤ºã€‚ æ³¨æ„ï¼šåŒºåŸŸçš„å‘½åä¼šå½±å“åˆ°ç½‘æ ¼çº¿ã€‚æ¯ä¸ªåŒºåŸŸçš„èµ·å§‹ç½‘æ ¼çº¿ï¼Œä¼šè‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-startï¼Œç»ˆæ­¢ç½‘æ ¼çº¿è‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-endã€‚æ¯”å¦‚åŒºåŸŸåä¸ºheaderï¼Œåˆ™èµ·å§‹ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œå‚ç›´ç½‘æ ¼çº¿å«åšheader-startï¼Œç»ˆæ­¢ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œå‚ç›´ç½‘æ ¼çº¿å«åšheader-endã€‚ grid-templategrid-templateå±æ€§æ˜¯grid-template-columnsã€grid-template-rowså’Œgrid-template-areasè¿™ä¸‰ä¸ªå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ gapé—´è·é—´è·åŒ…å«3ä¸ªå¯ç”¨å±æ€§ï¼š row-gapè¡Œä¸è¡Œä¹‹é—´çš„è·ç¦» column-gapåˆ—ä¸åˆ—ä¹‹é—´çš„è·ç¦» gapæ˜¯column-gapå’Œrow-gapçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•æ˜¯ï¼š gap: &lt;row-gap&gt; &lt;column-gap&gt;; 1234.container { row-gap: 20px; column-gap: 20px;} æ•ˆæœå›¾å¦‚ä¸‹ï¼š å¯ä»¥ä½¿ç”¨gapæ¥ç®€å†™ä¸Šè¿°ä»£ç ï¼š 123.container { gap: 20px 20px;} æ³¨æ„ï¼šå¦‚æœgapçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæµè§ˆå™¨è®¤ä¸ºç¬¬äºŒä¸ªå€¼ç­‰äºç¬¬ä¸€ä¸ªã€‚ grid-auto-flowæ–¹å‘å’Œflex-directionç›¸ä¼¼ï¼Œæ§åˆ¶å®¹å™¨å†…éƒ¨çš„æ”¾ç½®é¡ºåºã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå’Œflexä¸€æ ·æ˜¯æ°´å¹³å¸ƒå±€ï¼Œå¦‚å›¾ï¼š å¦‚æœè¦å…ˆåˆ—åè¡Œçš„ç«–ç›´å¸ƒå±€ï¼Œé‚£ä¹ˆgrid-auto-flow: column;ï¼Œå¦‚å›¾ï¼š denseå‚æ•°åœ¨grid-auto-flowé‡Œé¢è¿˜å¯ä»¥æ¥å—denseå‚æ•°ï¼Œè¡¨ç¤ºç´§å¯†å¡«æ»¡ç©ºä½™çš„ä½ç½®ã€‚ ä¸¾ä¸ªæ —å­ï¼š é»˜è®¤grid-auto-flow: rowçš„æƒ…å†µä¸‹ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š ä¸Šå›¾ä¸­1å·é¡¹ç›®åé¢çš„ä½ç½®æ˜¯ç©ºçš„ã€‚ ç°åœ¨è®¾ä¸ºgrid-auto-flow: row denseï¼Œæ·»åŠ äº†denseå‚æ•°ï¼Œå°½å¯èƒ½ç´§å¯†å¡«æ»¡ï¼Œå°½é‡ä¸å‡ºç°ç©ºæ ¼ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€è¡Œï¼Œå†å¡«æ»¡ç¬¬äºŒè¡Œï¼Œæ‰€ä»¥3å·é¡¹ç›®å°±ä¼šç´§è·Ÿåœ¨1å·é¡¹ç›®çš„åé¢ã€‚8å·é¡¹ç›®å’Œ9å·é¡¹ç›®å°±ä¼šæ’åˆ°ç¬¬å››è¡Œã€‚ å¦‚æœè®¾ä¸ºgrid-auto-flow: column denseï¼Œè¡¨ç¤ºâ€å…ˆåˆ—åè¡Œâ€ï¼Œå¹¶ä¸”å°½é‡å¡«æ»¡ç©ºæ ¼ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€åˆ—ï¼Œå†å¡«æ»¡ç¬¬2åˆ—ï¼Œæ‰€ä»¥3å·é¡¹ç›®åœ¨ç¬¬ä¸€åˆ—ï¼Œ4å·é¡¹ç›®åœ¨ç¬¬äºŒåˆ—ã€‚8å·é¡¹ç›®å’Œ9å·é¡¹ç›®è¢«æŒ¤åˆ°äº†ç¬¬å››åˆ—ã€‚ justify-contentå’Œalign-contentè¿™ä¸¤ä¸ªå±æ€§è·Ÿflexä¸­çš„justify-contentã€align-contentç›¸ä¼¼ï¼š justify-contentå±æ€§æ˜¯æ•´ä¸ªåŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ align-contentå±æ€§æ˜¯æ•´ä¸ªåŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ ä¸¤ä¸ªå±æ€§çš„å–å€¼ä¸€æ ·ï¼ŒåŒ…å«ï¼š startâ€”â€”å¯¹é½å®¹å™¨çš„èµ·å§‹è¾¹æ¡† endâ€”â€”å¯¹é½å®¹å™¨çš„ç»“æŸè¾¹æ¡† centerâ€”â€”å®¹å™¨å†…éƒ¨å±…ä¸­ stretchâ€”â€”é¡¹ç›®å¤§å°æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œæ‹‰ä¼¸å æ®æ•´ä¸ªç½‘æ ¼å®¹å™¨ space-aroundâ€”â€”æ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”ä¸º1Xï¼Œé¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†çš„é—´éš”ä¸º2X space-betweenâ€”â€”é¡¹ç›®ä¸é¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†ä¹‹é—´æ²¡æœ‰é—´éš” space-evenlyâ€”â€”é¡¹ç›®ä¸é¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†ä¹‹é—´ä¹Ÿæ˜¯åŒæ ·é•¿åº¦çš„é—´éš” åˆå¹¶ç®€å†™place-contentplace-contentå±æ€§æ˜¯align-contentå±æ€§å’Œjustify-contentå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•æ˜¯ï¼š place-content: &lt;align-content&gt; &lt;justify-content&gt;; æ³¨æ„ï¼šå¦‚æœplace-contentçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæµè§ˆå™¨è®¤ä¸ºç¬¬äºŒä¸ªå€¼ç­‰äºç¬¬ä¸€ä¸ªã€‚ justify-itemså’Œalign-itemsè¿™ä¸¤ä¸ªå±æ€§è·Ÿflexä¸­çš„align-itemsç›¸ä¼¼ï¼š justify-itemså±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ align-itemså±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ ä¸¤ä¸ªå±æ€§çš„å–å€¼ä¸€æ ·ï¼ŒåŒ…å«ï¼š startâ€”â€”å¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ endâ€”â€”å¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ centerâ€”â€”å•å…ƒæ ¼å†…éƒ¨å±…ä¸­ stretchâ€”â€”æ‹‰ä¼¸ï¼Œæ‹‰ä¼¸å æ®å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ place-itemsplace-itemså±æ€§æ˜¯align-itemså±æ€§å’Œjustify-itemså±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•æ˜¯ï¼š place-items: &lt;align-items&gt; &lt;justify-items&gt;; æ³¨æ„ï¼šå¦‚æœplace-imtesçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæµè§ˆå™¨è®¤ä¸ºç¬¬äºŒä¸ªå€¼ç­‰äºç¬¬ä¸€ä¸ªã€‚ grid-auto-columnså’Œgrid-auto-rowsgrid-auto-columnså±æ€§å’Œgrid-auto-rowså±æ€§ç”¨æ¥è®¾ç½®æµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚ å®ƒä»¬çš„å†™æ³•ä¸grid-template-columnså’Œgrid-template-rowså®Œå…¨ç›¸åŒã€‚ å¦‚æœä¸æŒ‡å®šè¿™ä¸¤ä¸ªå±æ€§ï¼Œæµè§ˆå™¨æ ¹æ®å•å…ƒæ ¼å†…å®¹çš„å¤§å°ï¼Œè‡ªåŠ¨å†³å®šæ–°å¢ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚ 12345678910111213141516.container { display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-auto-rows: 50px;}.item-8 { grid-row-start: 4; grid-column-start: 2;}.item-9 { grid-row-start: 6; grid-column-start: 3;} ä¸Šè¿°ä»£ç åˆ’åˆ†äº†ä¸€ä¸ª3è¡Œ x 3åˆ—çš„ä¹å®«æ ¼ï¼Œä½†æ˜¯8å·é¡¹ç›®ç”¨grid-row-start: 4;æŒ‡å®šåœ¨ç¬¬4è¡Œã€ç¬¬2åˆ—ï¼Œ9å·é¡¹ç›®ç”¨grid-row-start: 6;æŒ‡å®šåœ¨ç¬¬5è¡Œã€ç¬¬3åˆ—ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š é¡¹ç›®å±æ€§grid-column-startã€grid-column-endå’Œgrid-row-startã€grid-row-endé¡¹ç›®itemçš„ä½ç½®æ˜¯å¯ä»¥æŒ‡å®šçš„ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯æŒ‡å®šé¡¹ç›®itemçš„å››ä¸ªè¾¹æ¡†ï¼ˆç½‘æ ¼çº¿ï¼‰ï¼Œåˆ†åˆ«å®šä½åœ¨å“ªæ ¹ç½‘æ ¼çº¿ï¼š grid-column-startå±æ€§ï¼šå·¦è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿ grid-column-endå±æ€§ï¼šå³è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿ grid-row-startå±æ€§ï¼šä¸Šè¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿ grid-row-endå±æ€§ï¼šä¸‹è¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿ 1234.item-1 { grid-column-start: 2; grid-column-end: 4;} ä¸Šè¿°ä»£ç ä¸­ï¼ŒæŒ‡å®šäº†1å·é¡¹ç›®çš„å·¦å³è¾¹æ¡†grid-column-startå’Œgrid-column-endï¼Œæ‰€ä»¥å·¦è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹å‚ç›´ç½‘æ ¼çº¿ï¼Œå³è¾¹æ¡†æ˜¯ç¬¬å››æ ¹å‚ç›´ç½‘æ ¼çº¿ã€‚æ²¡æœ‰æŒ‡å®šä¸Šä¸‹è¾¹æ¡†ï¼Œæ‰€ä»¥ä¼šé‡‡ç”¨é»˜è®¤ä½ç½®ï¼ˆä¸Šè¾¹æ¡†æ˜¯ç¬¬ä¸€æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œä¸‹è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼‰ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š ä¸‹é¢çš„ä¾‹å­æŒ‡å®šäº†å››ä¸ªè¾¹æ¡†ä½ç½®ï¼š 123456.item-1 { grid-column-start: 1; grid-column-end: 3; grid-row-start: 2; grid-row-end: 4;} æ•ˆæœå›¾å¦‚ä¸‹ï¼š æŒ‡å®šè¾¹æ¡†ågrid-column-startã€grid-column-endå’Œgrid-row-startã€grid-row-endå››ä¸ªå±æ€§é™¤äº†æŒ‡å®šé¡¹ç›®itemåœ¨ç¬¬å‡ ä¸ªç½‘æ ¼çº¿ï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸ºç½‘æ ¼çº¿çš„åå­—ï¼š 1234.item-1 { grid-column-start: header-start; grid-column-end: header-end;} æŒ‡å®šé¡¹ç›®è·¨åº¦spanå¯ä»¥ä½¿ç”¨spanå…³é”®å­—ï¼Œè¡¨ç¤ºâ€è·¨è¶Šâ€ï¼Œå³å·¦å³è¾¹æ¡†ï¼ˆä¸Šä¸‹è¾¹æ¡†ï¼‰ä¹‹é—´è·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ã€‚ 123.item-1 { grid-column-start: span 2;} æˆ–è€… 123.item-1 { grid-column-end: span 2;} ä¸¤æ®µä»£ç æ•ˆæœä¸€æ ·ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š æ³¨æ„ï¼šå¦‚æœäº§ç”Ÿäº†é¡¹ç›®itemçš„é‡å ï¼Œåˆ™ä½¿ç”¨z-indexå±æ€§æŒ‡å®šé¡¹ç›®itemçš„é‡å é¡ºåºã€‚ grid-columnå’Œgrid-rowgrid-columnå±æ€§æ˜¯grid-column-startå’Œgrid-column-endçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œgrid-rowå±æ€§æ˜¯grid-row-startå±æ€§å’Œgrid-row-endçš„åˆå¹¶ç®€å†™å½¢å¼ã€‚ç”¨/æ–œæ åˆ†éš”ã€‚ 1234567891011.item-1 { grid-column: 1 / 3; /** å æ®ç¬¬ä¸€è¡Œï¼Œä»ç¬¬ä¸€æ ¹åˆ—çº¿åˆ°ç¬¬ä¸‰æ ¹åˆ—çº¿ã€‚ */ grid-row: 1 / 2;}/* ç­‰åŒäº */.item-1 { grid-column-start: 1; grid-column-end: 3; grid-row-start: 1; grid-row-end: 2;} è¿™ä¸¤ä¸ªå±æ€§ä¹‹ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨spanå…³é”®å­—ï¼Œè¡¨ç¤ºè·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ï¼š 12345678.item-1 { grid-column: 1 / 3; grid-row: 1 / 3;}/* ç­‰åŒäº */.item-1 { grid-column: 1 / span 2; grid-row: 1 / span 2; æ•ˆæœå›¾å¦‚ä¸‹ï¼š æ³¨æ„ï¼šå¦‚æœçœç•¥/æ–œæ ä»¥åŠåé¢çš„éƒ¨åˆ†ï¼Œåˆ™é»˜è®¤è·¨è¶Šä¸€ä¸ªå•å…ƒæ ¼ã€‚ grid-areagrid-areaå±æ€§æŒ‡å®šé¡¹ç›®itemæ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸã€‚ 12345678#container { grid-template-areas: 'a b c' 'd e f' 'g h i';}.item-1 { grid-area: e; /** æ³¨æ„eä¸Šé¢æ²¡æœ‰å¼•å· */} æ•ˆæœå›¾å¦‚ä¸‹ï¼š grid-areaå±æ€§è¿˜å¯ç”¨ä½œgrid-row-startã€grid-column-startã€grid-row-endã€grid-column-endçš„åˆå¹¶ç®€å†™å½¢å¼ï¼ˆä¸ªäººä¸æ¨èè¿™æ ·å†™ï¼‰ï¼Œç›´æ¥æŒ‡å®šé¡¹ç›®çš„ä½ç½®ï¼š 123.item { grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;;} ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ 123.item-1 { grid-area: 1 / 1 / 3 / 3;} justify-selfå’Œalign-selfå’Œplace-selfjustify-selfå±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œè·Ÿjustify-itemså±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä½†åªä½œç”¨äºå•ä¸ªé¡¹ç›®itemã€‚ align-selfå±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ï¼Œè·Ÿalign-itemså±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä¹Ÿæ˜¯åªä½œç”¨äºå•ä¸ªé¡¹ç›®itemã€‚ è¿™ä¸¤ä¸ªå±æ€§éƒ½å¯ä»¥å–ä¸‹é¢å››ä¸ªå€¼ï¼š startï¼šå¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ endï¼šå¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ centerï¼šå•å…ƒæ ¼å†…éƒ¨å±…ä¸­ stretchï¼šæ‹‰ä¼¸ï¼Œå æ»¡å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ 123.item-1 { justify-self: start;} æ•ˆæœå›¾å¦‚ä¸‹ï¼š åˆå¹¶ç®€å†™place-selfplace-selfå±æ€§æ˜¯align-selfå±æ€§å’Œjustify-selfå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•æ˜¯ï¼š place-self: &lt;align-self&gt; &lt;justify-self&gt;; æ³¨æ„ï¼šå¦‚æœplace-selfçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæµè§ˆå™¨è®¤ä¸ºç¬¬äºŒä¸ªå€¼ç­‰äºç¬¬ä¸€ä¸ªã€‚","link":"/2019/08/23/CSS-Grid-ç½‘æ ¼å¸ƒå±€æ•™ç¨‹/"},{"title":"AJaxå’ŒXMLHttpRequest","text":"æˆ‘ä»¬é€šå¸¸å°†AJaxç­‰åŒäºXMLHttpRequestï¼Œä½†ç»†ç©¶èµ·æ¥å®ƒä»¬ä¸¤ä¸ªæ˜¯å±äºä¸åŒç»´åº¦çš„2ä¸ªæ¦‚å¿µ AJaxå’ŒXMLHttpRequestä»¥ä¸‹æ˜¯æˆ‘è®¤ä¸ºå¯¹AJaxè¾ƒä¸ºå‡†ç¡®çš„è§£é‡Šï¼š AJAX stands for Asynchronous JavaScript and XML. AJAX is a new technique for creating better, faster, and more interactive web applications with the help of XML, HTML, CSS, and Java Script. AJAX is based on the following open standards: Browser-based presentation using HTML and Cascading Style Sheets (CSS). Data is stored in XML format and fetched from the server. Behind-the-scenes data fetches using XMLHttpRequest objects in the browser. JavaScript to make everything happen. ä»ä¸Šé¢çš„è§£é‡Šä¸­å¯ä»¥çŸ¥é“ï¼šAJaxæ˜¯ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆï¼Œä½†å¹¶ä¸æ˜¯ä¸€ç§æ–°æŠ€æœ¯ã€‚å®ƒä¾èµ–çš„æ˜¯ç°æœ‰çš„CSS/HTML/Javascriptï¼Œè€Œå…¶ä¸­æœ€æ ¸å¿ƒçš„ä¾èµ–æ˜¯æµè§ˆå™¨æä¾›çš„XMLHttpRequestå¯¹è±¡ï¼Œæ˜¯è¿™ä¸ªå¯¹è±¡ä½¿å¾—æµè§ˆå™¨å¯ä»¥å‘å‡ºHTTPè¯·æ±‚ä¸æ¥æ”¶HTTPå“åº”ã€‚ æ‰€ä»¥æˆ‘ç”¨ä¸€å¥è¯æ¥æ€»ç»“ä¸¤è€…çš„å…³ç³»ï¼šæˆ‘ä»¬ä½¿ç”¨XMLHttpRequestå¯¹è±¡æ¥å‘é€ä¸€ä¸ªAJaxè¯·æ±‚ã€‚ XMLHttpRequestçš„å‘å±•å†ç¨‹XMLHttpRequestä¸€å¼€å§‹åªæ˜¯å¾®è½¯æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œåæ¥å„å¤§æµè§ˆå™¨çº·çº·æ•ˆä»¿ä¹Ÿæä¾›äº†è¿™ä¸ªæ¥å£ï¼Œå†åæ¥W3Cå¯¹å®ƒè¿›è¡Œäº†æ ‡å‡†åŒ–ï¼Œæå‡ºäº†XMLHttpRequestæ ‡å‡†ã€‚XMLHttpRequestæ ‡å‡†åˆåˆ†ä¸ºLevel 1å’ŒLevel 2ã€‚XMLHttpRequest Level 1ä¸»è¦å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä¸èƒ½å‘é€è·¨åŸŸè¯·æ±‚ï¼› ä¸èƒ½å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰ï¼‰ï¼Œåªèƒ½å‘é€çº¯æ–‡æœ¬æ•°æ®ï¼› åœ¨å‘é€å’Œè·å–æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œæ— æ³•å®æ—¶è·å–è¿›åº¦ä¿¡æ¯ï¼Œåªèƒ½åˆ¤æ–­æ˜¯å¦å®Œæˆï¼› é‚£ä¹ˆLevel 2å¯¹Level 1 è¿›è¡Œäº†æ”¹è¿›ï¼ŒXMLHttpRequest Level 2ä¸­æ–°å¢äº†ä»¥ä¸‹åŠŸèƒ½ï¼š å¯ä»¥å‘é€è·¨åŸŸè¯·æ±‚ï¼Œåœ¨æœåŠ¡ç«¯å…è®¸çš„æƒ…å†µä¸‹ï¼› æ”¯æŒå‘é€å’Œæ¥æ”¶äºŒè¿›åˆ¶æ•°æ®ï¼› æ–°å¢formDataå¯¹è±¡ï¼Œæ”¯æŒå‘é€è¡¨å•æ•°æ®ï¼› å‘é€å’Œè·å–æ•°æ®æ—¶ï¼Œå¯ä»¥è·å–è¿›åº¦ä¿¡æ¯ï¼› å¯ä»¥è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼› å½“ç„¶æ›´è¯¦ç»†çš„å¯¹æ¯”ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„è¿™ç¯‡æ–‡ç« ï¼Œæ–‡ç« ä¸­å¯¹æ–°å¢çš„åŠŸèƒ½éƒ½æœ‰å…·ä½“ä»£ç ç¤ºä¾‹ã€‚ XMLHttpRequestå…¼å®¹æ€§å…³äºXMLHttpRequestçš„æµè§ˆå™¨å…¼å®¹æ€§ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥æŸ¥çœ‹â€œCan I useâ€è¿™ä¸ªç½‘ç«™æä¾›çš„ç»“æœï¼š IE8/IE9ã€Opera Mini å®Œå…¨ä¸æ”¯æŒxhrå¯¹è±¡ IE10/IE11éƒ¨åˆ†æ”¯æŒï¼Œä¸æ”¯æŒ xhr.responseTypeä¸ºjson éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒè®¾ç½®è¯·æ±‚è¶…æ—¶ï¼Œå³æ— æ³•ä½¿ç”¨xhr.timeout éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒxhr.responseTypeä¸ºblob ç»†è¯´XMLHttpRequestå¦‚ä½•ä½¿ç”¨å…ˆæ¥çœ‹ä¸€æ®µä½¿ç”¨XMLHttpRequestå‘é€AJaxè¯·æ±‚çš„ç®€å•ç¤ºä¾‹ä»£ç ã€‚ 1234567891011121314151617181920212223242526function sendAJax() { //æ„é€ è¡¨å•æ•°æ® var formData = new FormData(); formData.append(&apos;username&apos;, &apos;johndoe&apos;); formData.append(&apos;id&apos;, 123456); //åˆ›å»ºxhrå¯¹è±¡ var xhr = new XMLHttpRequest(); //è®¾ç½®xhrè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ xhr.timeout = 3000; //è®¾ç½®å“åº”è¿”å›çš„æ•°æ®æ ¼å¼ xhr.responseType = &quot;text&quot;; //åˆ›å»ºä¸€ä¸ª post è¯·æ±‚ï¼Œé‡‡ç”¨å¼‚æ­¥ xhr.open(&apos;POST&apos;, &apos;/server&apos;, true); //æ³¨å†Œç›¸å…³äº‹ä»¶å›è°ƒå¤„ç†å‡½æ•° xhr.onload = function(e) { if(this.status == 200||this.status == 304){ alert(this.responseText); } }; xhr.ontimeout = function(e) { ... }; xhr.onerror = function(e) { ... }; xhr.upload.onprogress = function(e) { ... }; //å‘é€æ•°æ® xhr.send(formData);} ä¸Šé¢æ˜¯ä¸€ä¸ªä½¿ç”¨xhrå‘é€è¡¨å•æ•°æ®çš„ç¤ºä¾‹ï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥å‚è€ƒæ³¨é‡Šã€‚ æ¥ä¸‹æ¥æˆ‘å°†ç«™åœ¨ä½¿ç”¨è€…çš„è§’åº¦ï¼Œä»¥é—®é¢˜çš„å½¢å¼ä»‹ç»xhrçš„åŸºæœ¬ä½¿ç”¨ã€‚æˆ‘å¯¹æ¯ä¸€ä¸ªé—®é¢˜æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹éƒ½ä¼šè¿›è¡Œæ¯”è¾ƒç»†è‡´åœ°ä»‹ç»ï¼Œæœ‰äº›çŸ¥è¯†ç‚¹å¯èƒ½æ˜¯ä½ å¹³æ—¶å¿½ç•¥å…³æ³¨çš„ã€‚ å¦‚ä½•è®¾ç½®request headeråœ¨å‘é€AJaxè¯·æ±‚ï¼ˆå®è´¨æ˜¯ä¸€ä¸ªHTTPè¯·æ±‚ï¼‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è®¾ç½®ä¸€äº›è¯·æ±‚å¤´éƒ¨ä¿¡æ¯ï¼Œæ¯”å¦‚content-typeã€connectionã€cookieã€accept-xxxç­‰ã€‚xhræä¾›äº†setRequestHeaderæ¥å…è®¸æˆ‘ä»¬ä¿®æ”¹è¯·æ±‚ headerã€‚ 12&gt; void setRequestHeader(DOMString header, DOMString value);&gt; æ³¨æ„ç‚¹ï¼š æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•° header å¤§å°å†™ä¸æ•æ„Ÿï¼Œå³å¯ä»¥å†™æˆcontent-typeï¼Œä¹Ÿå¯ä»¥å†™æˆContent-Typeï¼Œç”šè‡³å†™æˆcontent-Type; Content-Typeçš„é»˜è®¤å€¼ä¸å…·ä½“å‘é€çš„æ•°æ®ç±»å‹æœ‰å…³ï¼Œè¯·å‚è€ƒæœ¬æ–‡ã€å¯ä»¥å‘é€ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‘ä¸€èŠ‚ï¼› setRequestHeaderå¿…é¡»åœ¨open()æ–¹æ³•ä¹‹åï¼Œsend()æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ›é”™ï¼› setRequestHeaderå¯ä»¥è°ƒç”¨å¤šæ¬¡ï¼Œæœ€ç»ˆçš„å€¼ä¸ä¼šé‡‡ç”¨è¦†ç›–overrideçš„æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨è¿½åŠ appendçš„æ–¹å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š 123456var client = new XMLHttpRequest();client.open(&apos;GET&apos;, &apos;demo.cgi&apos;);client.setRequestHeader(&apos;X-Test&apos;, &apos;one&apos;);client.setRequestHeader(&apos;X-Test&apos;, &apos;two&apos;);// æœ€ç»ˆrequest headerä¸­&quot;X-Test&quot;ä¸º: one, twoclient.send(); å¦‚ä½•è·å–response headerxhræä¾›äº†2ä¸ªç”¨æ¥è·å–å“åº”å¤´éƒ¨çš„æ–¹æ³•ï¼šgetAllResponseHeaderså’ŒgetResponseHeaderã€‚å‰è€…æ˜¯è·å– response ä¸­çš„æ‰€æœ‰header å­—æ®µï¼Œåè€…åªæ˜¯è·å–æŸä¸ªæŒ‡å®š header å­—æ®µçš„å€¼ã€‚å¦å¤–ï¼ŒgetResponseHeader(header)çš„headerå‚æ•°ä¸åŒºåˆ†å¤§å°å†™ã€‚ 123&gt; DOMString getAllResponseHeaders();`&gt; `DOMString getResponseHeader(DOMString header);&gt; è¿™2ä¸ªæ–¹æ³•çœ‹èµ·æ¥ç®€å•ï¼Œä½†å´å¤„å¤„æ˜¯å‘å„¿ã€‚ ä½ æ˜¯å¦é‡åˆ°è¿‡ä¸‹é¢çš„å‘å„¿?â€”â€”åæ­£æˆ‘æ˜¯é‡åˆ°äº†ã€‚ã€‚ã€‚ ä½¿ç”¨getAllResponseHeaders()çœ‹åˆ°çš„æ‰€æœ‰response headerä¸å®é™…åœ¨æ§åˆ¶å° Network ä¸­çœ‹åˆ°çš„ response headerä¸ä¸€æ · ä½¿ç”¨getResponseHeader()è·å–æŸä¸ª header çš„å€¼æ—¶ï¼Œæµè§ˆå™¨æŠ›é”™Refused to get unsafe header &quot;XXX&quot; ç»è¿‡ä¸€ç•ªå¯»æ‰¾æœ€ç»ˆåœ¨ Stack Overflowæ‰¾åˆ°äº†ç­”æ¡ˆã€‚ åŸå› 1ï¼šW3Cçš„ xhr æ ‡å‡†ä¸­åšäº†é™åˆ¶ï¼Œè§„å®šå®¢æˆ·ç«¯æ— æ³•è·å– response ä¸­çš„ Set-Cookieã€Set-Cookie2è¿™2ä¸ªå­—æ®µï¼Œæ— è®ºæ˜¯åŒåŸŸè¿˜æ˜¯è·¨åŸŸè¯·æ±‚ï¼› åŸå› 2ï¼šW3C çš„ cors æ ‡å‡†å¯¹äºè·¨åŸŸè¯·æ±‚ä¹Ÿåšäº†é™åˆ¶ï¼Œè§„å®šå¯¹äºè·¨åŸŸè¯·æ±‚ï¼Œå®¢æˆ·ç«¯å…è®¸è·å–çš„response headerå­—æ®µåªé™äºâ€œsimple response headerâ€å’Œâ€œAccess-Control-Expose-Headersâ€ ï¼ˆä¸¤ä¸ªåè¯çš„è§£é‡Šè§ä¸‹æ–¹ï¼‰ã€‚ â€œsimple response headerâ€œåŒ…æ‹¬çš„ header å­—æ®µæœ‰ï¼šCache-Control,Content-Language,Content-Type,Expires,Last-Modified,Pragma;â€œAccess-Control-Expose-Headersâ€œï¼šé¦–å…ˆå¾—æ³¨æ„æ˜¯â€Access-Control-Expose-Headersâ€œè¿›è¡Œè·¨åŸŸè¯·æ±‚æ—¶å“åº”å¤´éƒ¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œå¯¹äºåŒåŸŸè¯·æ±‚ï¼Œå“åº”å¤´éƒ¨æ˜¯æ²¡æœ‰è¿™ä¸ªå­—æ®µçš„ã€‚è¿™ä¸ªå­—æ®µä¸­åˆ—ä¸¾çš„ header å­—æ®µå°±æ˜¯æœåŠ¡å™¨å…è®¸æš´éœ²ç»™å®¢æˆ·ç«¯è®¿é—®çš„å­—æ®µã€‚ æ‰€ä»¥getAllResponseHeaders()åªèƒ½æ‹¿åˆ°é™åˆ¶ä»¥å¤–ï¼ˆå³è¢«è§†ä¸ºsafeï¼‰çš„headerå­—æ®µï¼Œè€Œä¸æ˜¯å…¨éƒ¨å­—æ®µï¼›è€Œè°ƒç”¨getResponseHeader(header)æ–¹æ³•æ—¶ï¼Œheaderå‚æ•°å¿…é¡»æ˜¯é™åˆ¶ä»¥å¤–çš„headerå­—æ®µï¼Œå¦åˆ™è°ƒç”¨å°±ä¼šæŠ¥Refused to get unsafe headerçš„é”™è¯¯ã€‚ å¦‚ä½•æŒ‡å®šxhr.responseçš„æ•°æ®ç±»å‹æœ‰äº›æ—¶å€™æˆ‘ä»¬å¸Œæœ›xhr.responseè¿”å›çš„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ç±»å‹ã€‚æ¯”å¦‚ï¼šå“åº”è¿”å›çš„æ•°æ®æ˜¯çº¯JSONå­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬æœŸæœ›æœ€ç»ˆé€šè¿‡xhr.responseæ‹¿åˆ°çš„ç›´æ¥å°±æ˜¯ä¸€ä¸ª js å¯¹è±¡ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿæœ‰2ç§æ–¹æ³•å¯ä»¥å®ç°ï¼Œä¸€ä¸ªæ˜¯level 1å°±æä¾›çš„overrideMimeType()æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯level 2æ‰æä¾›çš„xhr.responseTypeå±æ€§ã€‚ xhr.overrideMimeType()overrideMimeTypeæ˜¯xhr level 1å°±æœ‰çš„æ–¹æ³•ï¼Œæ‰€ä»¥æµè§ˆå™¨å…¼å®¹æ€§è‰¯å¥½ã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯ç”¨æ¥é‡å†™responseçš„content-typeï¼Œè¿™æ ·åšæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿæ¯”å¦‚ï¼šserver ç«¯ç»™å®¢æˆ·ç«¯è¿”å›äº†ä¸€ä»½documentæˆ–è€…æ˜¯ xmlæ–‡æ¡£ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€ç»ˆé€šè¿‡xhr.responseæ‹¿åˆ°çš„å°±æ˜¯ä¸€ä¸ªDOMå¯¹è±¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨xhr.overrideMimeType('text/xml; charset = utf-8')æ¥å®ç°ã€‚ å†ä¸¾ä¸€ä¸ªä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“xhr level 1ä¸æ”¯æŒç›´æ¥ä¼ è¾“blobäºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£å¦‚æœçœŸè¦ä¼ è¾“ blob è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå½“æ—¶å°±æ˜¯åˆ©ç”¨overrideMimeTypeæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªè·å–å›¾ç‰‡æ–‡ä»¶çš„ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516171819202122var xhr = new XMLHttpRequest();//å‘ server ç«¯è·å–ä¸€å¼ å›¾ç‰‡xhr.open(&apos;GET&apos;, &apos;/path/to/image.png&apos;, true);// è¿™è¡Œæ˜¯å…³é”®ï¼//å°†å“åº”æ•°æ®æŒ‰ç…§çº¯æ–‡æœ¬æ ¼å¼æ¥è§£æï¼Œå­—ç¬¦é›†æ›¿æ¢ä¸ºç”¨æˆ·è‡ªå·±å®šä¹‰çš„å­—ç¬¦é›†xhr.overrideMimeType(&apos;text/plain; charset=x-user-defined&apos;);xhr.onreadystatechange = function(e) { if (this.readyState == 4 &amp;&amp; this.status == 200) { //é€šè¿‡ responseText æ¥è·å–å›¾ç‰‡æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² var binStr = this.responseText; //ç„¶åè‡ªå·±å†æƒ³æ–¹æ³•å°†é€ä¸ªå­—èŠ‚è¿˜åŸä¸ºäºŒè¿›åˆ¶æ•°æ® for (var i = 0, len = binStr.length; i &lt; len; ++i) { var c = binStr.charCodeAt(i); //String.fromCharCode(c &amp; 0xff); var byte = c &amp; 0xff; } }};xhr.send(); ä»£ç ç¤ºä¾‹ä¸­xhrè¯·æ±‚çš„æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œé€šè¿‡å°† response çš„ content-type æ”¹ä¸ºâ€™text/plain; charset=x-user-definedâ€™ï¼Œä½¿å¾— xhr ä»¥çº¯æ–‡æœ¬æ ¼å¼æ¥è§£ææ¥æ”¶åˆ°çš„blob æ•°æ®ï¼Œæœ€ç»ˆç”¨æˆ·é€šè¿‡this.responseTextæ‹¿åˆ°çš„å°±æ˜¯å›¾ç‰‡æ–‡ä»¶å¯¹åº”çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæœ€åå†å°†å…¶è½¬æ¢ä¸º blob æ•°æ®ã€‚ xhr.responseTyperesponseTypeæ˜¯xhr level 2æ–°å¢çš„å±æ€§ï¼Œç”¨æ¥æŒ‡å®šxhr.responseçš„æ•°æ®ç±»å‹ï¼Œç›®å‰è¿˜å­˜åœ¨äº›å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒæœ¬æ–‡çš„ã€XMLHttpRequestçš„å…¼å®¹æ€§ã€‘è¿™ä¸€å°èŠ‚ã€‚é‚£ä¹ˆresponseTypeå¯ä»¥è®¾ç½®ä¸ºå“ªäº›æ ¼å¼å‘¢ï¼Œæˆ‘ç®€å•åšäº†ä¸€ä¸ªè¡¨ï¼Œå¦‚ä¸‹ï¼š å€¼ xhr.response æ•°æ®ç±»å‹ è¯´æ˜ &quot;&quot; Stringå­—ç¬¦ä¸² é»˜è®¤å€¼(åœ¨ä¸è®¾ç½®responseTypeæ—¶) &quot;text&quot; Stringå­—ç¬¦ä¸² &quot;document&quot; Documentå¯¹è±¡ å¸Œæœ›è¿”å› XML æ ¼å¼æ•°æ®æ—¶ä½¿ç”¨ &quot;json&quot; javascript å¯¹è±¡ å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ŒIE10/IE11ä¸æ”¯æŒ &quot;blob&quot; Blobå¯¹è±¡ &quot;arrayBuffer&quot; ArrayBufferå¯¹è±¡ ä¸‹é¢æ˜¯åŒæ ·æ˜¯è·å–ä¸€å¼ å›¾ç‰‡çš„ä»£ç ç¤ºä¾‹ï¼Œç›¸æ¯”xhr.overrideMimeType,ç”¨xhr.responseæ¥å®ç°ç®€å•å¾—å¤šã€‚ 1234567891011121314var xhr = new XMLHttpRequest();xhr.open(&apos;GET&apos;, &apos;/path/to/image.png&apos;, true);//å¯ä»¥å°†`xhr.responseType`è®¾ç½®ä¸º`&quot;blob&quot;`ä¹Ÿå¯ä»¥è®¾ç½®ä¸º`&quot; arrayBuffer&quot;`//xhr.responseType = &apos;arrayBuffer&apos;;xhr.responseType = &apos;blob&apos;;xhr.onload = function(e) { if (this.status == 200) { var blob = this.response; ... }};xhr.send(); å°ç»“è™½ç„¶åœ¨xhr level 2ä¸­ï¼Œ2è€…æ˜¯å…±åŒå­˜åœ¨çš„ã€‚ä½†å…¶å®ä¸éš¾å‘ç°ï¼Œxhr.responseTypeå°±æ˜¯ç”¨æ¥å–ä»£xhr.overrideMimeType()çš„ï¼Œxhr.responseTypeåŠŸèƒ½å¼ºå¤§çš„å¤šï¼Œxhr.overrideMimeType()èƒ½åšåˆ°çš„xhr.responseTypeéƒ½èƒ½åšåˆ°ã€‚æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å®Œå…¨å¯ä»¥æ‘’å¼ƒä½¿ç”¨xhr.overrideMimeType()äº†ã€‚ å¦‚ä½•è·å–responseæ•°æ®1xhr`æä¾›äº†3ä¸ªå±æ€§æ¥è·å–è¯·æ±‚è¿”å›çš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯ï¼š`xhr.response`ã€`xhr.responseText`ã€`xhr.responseXML xhr.response é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²&quot;&quot; å½“è¯·æ±‚å®Œæˆæ—¶ï¼Œæ­¤å±æ€§æ‰æœ‰æ­£ç¡®çš„å€¼ è¯·æ±‚æœªå®Œæˆæ—¶ï¼Œæ­¤å±æ€§çš„å€¼å¯èƒ½æ˜¯&quot;&quot;æˆ–è€… nullï¼Œå…·ä½“ä¸ xhr.responseTypeæœ‰å…³ï¼šå½“responseTypeä¸º&quot;&quot;æˆ–&quot;text&quot;æ—¶ï¼Œå€¼ä¸º&quot;&quot;ï¼›responseTypeä¸ºå…¶ä»–å€¼æ—¶ï¼Œå€¼ä¸º null xhr.responseText é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot; åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€&quot;&quot;æ—¶ï¼Œxhrå¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨xhr.responseTextï¼Œå¦åˆ™æŠ›é”™ åªæœ‰å½“è¯·æ±‚æˆåŠŸæ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹2ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot;ï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ xhr.responseXML é»˜è®¤å€¼ä¸º null åªæœ‰å½“ responseType ä¸º&quot;text&quot;ã€&quot;&quot;ã€&quot;document&quot;æ—¶ï¼Œxhrå¯¹è±¡ä¸Šæ‰æœ‰æ­¤å±æ€§ï¼Œæ­¤æ—¶æ‰èƒ½è°ƒç”¨xhr.responseXMLï¼Œå¦åˆ™æŠ›é”™ åªæœ‰å½“è¯·æ±‚æˆåŠŸä¸”è¿”å›æ•°æ®è¢«æ­£ç¡®è§£ææ—¶ï¼Œæ‰èƒ½æ‹¿åˆ°æ­£ç¡®å€¼ã€‚ä»¥ä¸‹3ç§æƒ…å†µä¸‹å€¼éƒ½ä¸ºnullï¼šè¯·æ±‚æœªå®Œæˆã€è¯·æ±‚å¤±è´¥ã€è¯·æ±‚æˆåŠŸä½†è¿”å›æ•°æ®æ— æ³•è¢«æ­£ç¡®è§£ææ—¶ å¦‚ä½•è¿½è¸ªajaxè¯·æ±‚çš„å½“å‰çŠ¶æ€åœ¨å‘ä¸€ä¸ªajaxè¯·æ±‚åï¼Œå¦‚æœæƒ³è¿½è¸ªè¯·æ±‚å½“å‰å¤„äºå“ªç§çŠ¶æ€ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ ç”¨xhr.readyStateè¿™ä¸ªå±æ€§å³å¯è¿½è¸ªåˆ°ã€‚è¿™ä¸ªå±æ€§æ˜¯åªè¯»å±æ€§ï¼Œæ€»å…±æœ‰5ç§å¯èƒ½å€¼ï¼Œåˆ†åˆ«å¯¹åº”xhrä¸åŒçš„ä¸åŒé˜¶æ®µã€‚æ¯æ¬¡xhr.readyStateçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘xhr.onreadystatechangeäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªäº‹ä»¶ä¸­è¿›è¡Œç›¸å…³çŠ¶æ€åˆ¤æ–­ã€‚ 123456789101112131415xhr.onreadystatechange = function () { switch(xhr.readyState){ case 1://OPENED //do something break; case 2://HEADERS_RECEIVED //do something break; case 3://LOADING //do something break; case 4://DONE //do something break; } å€¼ çŠ¶æ€ æè¿° 0 UNSENT (åˆå§‹çŠ¶æ€ï¼Œæœªæ‰“å¼€) æ­¤æ—¶xhrå¯¹è±¡è¢«æˆåŠŸæ„é€ ï¼Œopen()æ–¹æ³•è¿˜æœªè¢«è°ƒç”¨ 1 OPENED (å·²æ‰“å¼€ï¼Œæœªå‘é€) open()æ–¹æ³•å·²è¢«æˆåŠŸè°ƒç”¨ï¼Œsend()æ–¹æ³•è¿˜æœªè¢«è°ƒç”¨ã€‚æ³¨æ„ï¼šåªæœ‰xhrå¤„äºOPENEDçŠ¶æ€ï¼Œæ‰èƒ½è°ƒç”¨xhr.setRequestHeader()å’Œxhr.send(),å¦åˆ™ä¼šæŠ¥é”™ 2 HEADERS_RECEIVED(å·²è·å–å“åº”å¤´) send()æ–¹æ³•å·²ç»è¢«è°ƒç”¨, å“åº”å¤´å’Œå“åº”çŠ¶æ€å·²ç»è¿”å› 3 LOADING (æ­£åœ¨ä¸‹è½½å“åº”ä½“) å“åº”ä½“(response entity body)æ­£åœ¨ä¸‹è½½ä¸­ï¼Œæ­¤çŠ¶æ€ä¸‹é€šè¿‡xhr.responseå¯èƒ½å·²ç»æœ‰äº†å“åº”æ•°æ® 4 DONE (æ•´ä¸ªæ•°æ®ä¼ è¾“è¿‡ç¨‹ç»“æŸ) æ•´ä¸ªæ•°æ®ä¼ è¾“è¿‡ç¨‹ç»“æŸï¼Œä¸ç®¡æœ¬æ¬¡è¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ å¦‚ä½•è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´å¦‚æœè¯·æ±‚è¿‡äº†å¾ˆä¹…è¿˜æ²¡æœ‰æˆåŠŸï¼Œä¸ºäº†ä¸ä¼šç™½ç™½å ç”¨çš„ç½‘ç»œèµ„æºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä¸»åŠ¨ç»ˆæ­¢è¯·æ±‚ã€‚XMLHttpRequestæä¾›äº†timeoutå±æ€§æ¥å…è®¸è®¾ç½®è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ã€‚ 12&gt; xhr.timeout&gt; å•ä½ï¼šmilliseconds æ¯«ç§’é»˜è®¤å€¼ï¼š0ï¼Œå³ä¸è®¾ç½®è¶…æ—¶ å¾ˆå¤šåŒå­¦éƒ½çŸ¥é“ï¼šä»è¯·æ±‚å¼€å§‹ ç®—èµ·ï¼Œè‹¥è¶…è¿‡ timeout æ—¶é—´è¯·æ±‚è¿˜æ²¡æœ‰ç»“æŸï¼ˆåŒ…æ‹¬æˆåŠŸ/å¤±è´¥ï¼‰ï¼Œåˆ™ä¼šè§¦å‘ontimeoutäº‹ä»¶ï¼Œä¸»åŠ¨ç»“æŸè¯¥è¯·æ±‚ã€‚ ã€é‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ—¶å€™æ‰ç®—æ˜¯è¯·æ±‚å¼€å§‹ ï¼Ÿã€‘â€”â€”xhr.onloadstartäº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ä½ è°ƒç”¨xhr.send()æ–¹æ³•çš„æ—¶å€™ã€‚å› ä¸ºxhr.open()åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªè¿æ¥ï¼Œä½†å¹¶æ²¡æœ‰çœŸæ­£å¼€å§‹æ•°æ®çš„ä¼ è¾“ï¼Œè€Œxhr.send()æ‰æ˜¯çœŸæ­£å¼€å§‹äº†æ•°æ®çš„ä¼ è¾“è¿‡ç¨‹ã€‚åªæœ‰è°ƒç”¨äº†xhr.send()ï¼Œæ‰ä¼šè§¦å‘xhr.onloadstart ã€‚ ã€é‚£ä¹ˆä»€ä¹ˆæ—¶å€™æ‰ç®—æ˜¯è¯·æ±‚ç»“æŸ ï¼Ÿã€‘â€”â€” xhr.loadendäº‹ä»¶è§¦å‘çš„æ—¶å€™ã€‚ å¦å¤–ï¼Œè¿˜æœ‰2ä¸ªéœ€è¦æ³¨æ„çš„å‘å„¿ï¼š å¯ä»¥åœ¨ send()ä¹‹åå†è®¾ç½®æ­¤xhr.timeoutï¼Œä½†è®¡æ—¶èµ·å§‹ç‚¹ä»ä¸ºè°ƒç”¨xhr.send()æ–¹æ³•çš„æ—¶åˆ»ã€‚ å½“xhrä¸ºä¸€ä¸ªsyncåŒæ­¥è¯·æ±‚æ—¶ï¼Œxhr.timeoutå¿…é¡»ç½®ä¸º0ï¼Œå¦åˆ™ä¼šæŠ›é”™ã€‚åŸå› å¯ä»¥å‚è€ƒæœ¬æ–‡çš„ã€å¦‚ä½•å‘ä¸€ä¸ªåŒæ­¥è¯·æ±‚ã€‘ä¸€èŠ‚ã€‚ å¦‚ä½•å‘ä¸€ä¸ªåŒæ­¥è¯·æ±‚xhré»˜è®¤å‘çš„æ˜¯å¼‚æ­¥è¯·æ±‚ï¼Œä½†ä¹Ÿæ”¯æŒå‘åŒæ­¥è¯·æ±‚ï¼ˆå½“ç„¶å®é™…å¼€å‘ä¸­åº”è¯¥å°½é‡é¿å…ä½¿ç”¨ï¼‰ã€‚åˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¯·æ±‚ï¼Œç”±xhr.openï¼ˆï¼‰ä¼ å…¥çš„asyncå‚æ•°å†³å®šã€‚ 12&gt; open(method, url [, async = true [, username = null [, password = null]]])&gt; method: è¯·æ±‚çš„æ–¹å¼ï¼Œå¦‚GET/POST/HEADERç­‰ï¼Œè¿™ä¸ªå‚æ•°ä¸åŒºåˆ†å¤§å°å†™ url: è¯·æ±‚çš„åœ°å€ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹åœ°å€å¦‚example.phpï¼Œè¿™ä¸ªç›¸å¯¹æ˜¯ç›¸å¯¹äºå½“å‰ç½‘é¡µçš„urlè·¯å¾„ï¼›ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹åœ°å€å¦‚http://www.example.com/example.php async: é»˜è®¤å€¼ä¸ºtrueï¼Œå³ä¸ºå¼‚æ­¥è¯·æ±‚ï¼Œè‹¥async=falseï¼Œåˆ™ä¸ºåŒæ­¥è¯·æ±‚ åœ¨æˆ‘è®¤çœŸç ”è¯»W3C çš„ xhr æ ‡å‡†å‰ï¼Œæˆ‘æ€»ä»¥ä¸ºåŒæ­¥è¯·æ±‚å’Œå¼‚æ­¥è¯·æ±‚åªæ˜¯é˜»å¡å’Œéé˜»å¡çš„åŒºåˆ«ï¼Œå…¶ä»–ä»€ä¹ˆäº‹ä»¶è§¦å‘ã€å‚æ•°è®¾ç½®åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œäº‹å®è¯æ˜æˆ‘é”™äº†ã€‚ W3C çš„ xhræ ‡å‡†ä¸­å…³äºopen()æ–¹æ³•æœ‰è¿™æ ·ä¸€æ®µè¯´æ˜ï¼š Throws an â€œInvalidAccessErrorâ€ exception if async is false, the JavaScript global environment is a document environment, and either the timeout attribute is not zero, the withCredentials attribute is true, or the responseType attribute is not the empty string. ä»ä¸Šé¢ä¸€æ®µè¯´æ˜å¯ä»¥çŸ¥é“ï¼Œå½“xhrä¸ºåŒæ­¥è¯·æ±‚æ—¶ï¼Œæœ‰å¦‚ä¸‹é™åˆ¶ï¼š xhr.timeoutå¿…é¡»ä¸º0 xhr.withCredentialså¿…é¡»ä¸º false xhr.responseTypeå¿…é¡»ä¸º&quot;&quot;ï¼ˆæ³¨æ„ç½®ä¸º&quot;text&quot;ä¹Ÿä¸å…è®¸ï¼‰ è‹¥ä¸Šé¢ä»»ä½•ä¸€ä¸ªé™åˆ¶ä¸æ»¡è¶³ï¼Œéƒ½ä¼šæŠ›é”™ï¼Œè€Œå¯¹äºå¼‚æ­¥è¯·æ±‚ï¼Œåˆ™æ²¡æœ‰è¿™äº›å‚æ•°è®¾ç½®ä¸Šçš„é™åˆ¶ã€‚ ä¹‹å‰è¯´è¿‡é¡µé¢ä¸­åº”è¯¥å°½é‡é¿å…ä½¿ç”¨syncåŒæ­¥è¯·æ±‚ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬æ— æ³•è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆxhr.timeoutä¸º0ï¼Œå³ä¸é™æ—¶ï¼‰ã€‚åœ¨ä¸é™åˆ¶è¶…æ—¶çš„æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½åŒæ­¥è¯·æ±‚ä¸€ç›´å¤„äºpendingçŠ¶æ€ï¼ŒæœåŠ¡ç«¯è¿Ÿè¿Ÿä¸è¿”å›å“åº”ï¼Œè¿™æ ·æ•´ä¸ªé¡µé¢å°±ä¼šä¸€ç›´é˜»å¡ï¼Œæ— æ³•å“åº”ç”¨æˆ·çš„å…¶ä»–äº¤äº’ã€‚ å¦å¤–ï¼Œæ ‡å‡†ä¸­å¹¶æ²¡æœ‰æåŠåŒæ­¥è¯·æ±‚æ—¶äº‹ä»¶è§¦å‘çš„é™åˆ¶ï¼Œä½†å®é™…å¼€å‘ä¸­æˆ‘ç¡®å®é‡åˆ°è¿‡éƒ¨åˆ†åº”è¯¥è§¦å‘çš„äº‹ä»¶å¹¶æ²¡æœ‰è§¦å‘çš„ç°è±¡ã€‚å¦‚åœ¨ chromeä¸­ï¼Œå½“xhrä¸ºåŒæ­¥è¯·æ±‚æ—¶ï¼Œåœ¨xhr.readyStateç”±2å˜æˆ3æ—¶ï¼Œå¹¶ä¸ä¼šè§¦å‘ onreadystatechangeäº‹ä»¶ï¼Œxhr.upload.onprogresså’Œ xhr.onprogressäº‹ä»¶ä¹Ÿä¸ä¼šè§¦å‘ã€‚ å¦‚ä½•è·å–ä¸Šä¼ ã€ä¸‹è½½çš„è¿›åº¦åœ¨ä¸Šä¼ æˆ–è€…ä¸‹è½½æ¯”è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰çš„ä¸Šä¼ ã€ä¸‹è½½è¿›åº¦æ˜¯å¾ˆæ™®éçš„äº§å“éœ€æ±‚ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡onprogressäº‹ä»¶æ¥å®æ—¶æ˜¾ç¤ºè¿›åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªäº‹ä»¶æ¯50msè§¦å‘ä¸€æ¬¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šä¼ è¿‡ç¨‹å’Œä¸‹è½½è¿‡ç¨‹è§¦å‘çš„æ˜¯ä¸åŒå¯¹è±¡çš„onprogressäº‹ä»¶ï¼š ä¸Šä¼ è§¦å‘çš„æ˜¯xhr.uploadå¯¹è±¡çš„ onprogressäº‹ä»¶ ä¸‹è½½è§¦å‘çš„æ˜¯xhrå¯¹è±¡çš„onprogressäº‹ä»¶ 1234567xhr.onprogress = updateProgress;xhr.upload.onprogress = updateProgress;function updateProgress(event) { if (event.lengthComputable) { var completedPercent = event.loaded / event.total; } } å¯ä»¥å‘é€ä»€ä¹ˆç±»å‹çš„æ•°æ® void send(data); xhr.send(data)çš„å‚æ•°dataå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š ArrayBuffer Blob Document DOMString FormData null å¦‚æœæ˜¯ GET/HEADè¯·æ±‚ï¼Œsend()æ–¹æ³•ä¸€èˆ¬ä¸ä¼ å‚æˆ–ä¼  nullã€‚ä¸è¿‡å³ä½¿ä½ çœŸä¼ å…¥äº†å‚æ•°ï¼Œå‚æ•°ä¹Ÿæœ€ç»ˆè¢«å¿½ç•¥ï¼Œxhr.send(data)ä¸­çš„dataä¼šè¢«ç½®ä¸º null. xhr.send(data)ä¸­dataå‚æ•°çš„æ•°æ®ç±»å‹ä¼šå½±å“è¯·æ±‚å¤´éƒ¨content-typeçš„é»˜è®¤å€¼ï¼š å¦‚æœdataæ˜¯ Document ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯HTML Documentç±»å‹ï¼Œåˆ™content-typeé»˜è®¤å€¼ä¸ºtext/html;charset=UTF-8;å¦åˆ™ä¸ºapplication/xml;charset=UTF-8ï¼› å¦‚æœdataæ˜¯ DOMString ç±»å‹ï¼Œcontent-typeé»˜è®¤å€¼ä¸ºtext/plain;charset=UTF-8ï¼› å¦‚æœdataæ˜¯ FormData ç±»å‹ï¼Œcontent-typeé»˜è®¤å€¼ä¸ºmultipart/form-data; boundary=[xxx] å¦‚æœdataæ˜¯å…¶ä»–ç±»å‹ï¼Œåˆ™ä¸ä¼šè®¾ç½®content-typeçš„é»˜è®¤å€¼ å½“ç„¶è¿™äº›åªæ˜¯content-typeçš„é»˜è®¤å€¼ï¼Œä½†å¦‚æœç”¨xhr.setRequestHeader()æ‰‹åŠ¨è®¾ç½®äº†ä¸­content-typeçš„å€¼ï¼Œä»¥ä¸Šé»˜è®¤å€¼å°±ä¼šè¢«è¦†ç›–ã€‚ å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥åœ¨æ–­ç½‘çŠ¶æ€ä¸‹è°ƒç”¨xhr.send(data)æ–¹æ³•ï¼Œåˆ™ä¼šæŠ›é”™ï¼šUncaught NetworkError: Failed to execute 'send' on 'XMLHttpRequest'ã€‚ä¸€æ—¦ç¨‹åºæŠ›å‡ºé”™è¯¯ï¼Œå¦‚æœä¸ catch å°±æ— æ³•ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ï¼Œæ‰€ä»¥è°ƒç”¨ xhr.send(data)æ–¹æ³•æ—¶ï¼Œåº”è¯¥ç”¨ try-catchæ•æ‰é”™è¯¯ã€‚ 12345try{ xhr.send(data) }catch(e) { //doSomething... }; xhr.withCredentialsä¸ CORS ä»€ä¹ˆå…³ç³» æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨å‘åŒåŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå°†cookieè‡ªåŠ¨åŠ åœ¨request headerä¸­ã€‚ä½†å¤§å®¶æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåœ¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œcookieå¹¶æ²¡æœ‰è‡ªåŠ¨åŠ åœ¨request headerä¸­ã€‚ é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ï¼šåœ¨CORSæ ‡å‡†ä¸­åšäº†è§„å®šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨åœ¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œä¸èƒ½å‘é€ä»»ä½•è®¤è¯ä¿¡æ¯ï¼ˆcredentialsï¼‰å¦‚â€cookiesâ€œå’Œâ€HTTP authentication schemesâ€œã€‚é™¤éxhr.withCredentialsä¸ºtrueï¼ˆxhrå¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§å«withCredentialsï¼Œé»˜è®¤å€¼ä¸ºfalseï¼‰ã€‚ æ‰€ä»¥æ ¹æœ¬åŸå› æ˜¯cookiesä¹Ÿæ˜¯ä¸€ç§è®¤è¯ä¿¡æ¯ï¼Œåœ¨è·¨åŸŸè¯·æ±‚ä¸­ï¼Œclientç«¯å¿…é¡»æ‰‹åŠ¨è®¾ç½®xhr.withCredentials=trueï¼Œä¸”serverç«¯ä¹Ÿå¿…é¡»å…è®¸requestèƒ½æºå¸¦è®¤è¯ä¿¡æ¯ï¼ˆå³response headerä¸­åŒ…å«Access-Control-Allow-Credentials:trueï¼‰ï¼Œè¿™æ ·æµè§ˆå™¨æ‰ä¼šè‡ªåŠ¨å°†cookieåŠ åœ¨request headerä¸­ã€‚ å¦å¤–ï¼Œè¦ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼Œä¸€æ—¦è·¨åŸŸrequestèƒ½å¤Ÿæºå¸¦è®¤è¯ä¿¡æ¯ï¼Œserverç«¯ä¸€å®šä¸èƒ½å°†Access-Control-Allow-Originè®¾ç½®ä¸º*ï¼Œè€Œå¿…é¡»è®¾ç½®ä¸ºè¯·æ±‚é¡µé¢çš„åŸŸåã€‚ xhrç›¸å…³äº‹ä»¶äº‹ä»¶åˆ†ç±»xhrç›¸å…³äº‹ä»¶æœ‰å¾ˆå¤šï¼Œæœ‰æ—¶è®°èµ·æ¥è¿˜æŒºå®¹æ˜“æ··ä¹±ã€‚ä½†å½“æˆ‘äº†è§£äº†å…·ä½“ä»£ç å®ç°åï¼Œå°±å®¹æ˜“ç†æ¸…æ¥šäº†ã€‚ä¸‹é¢æ˜¯XMLHttpRequestçš„éƒ¨åˆ†å®ç°ä»£ç ï¼š 1234567891011121314151617181920interface XMLHttpRequestEventTarget : EventTarget { // event handlers attribute EventHandler onloadstart; attribute EventHandler onprogress; attribute EventHandler onabort; attribute EventHandler onerror; attribute EventHandler onload; attribute EventHandler ontimeout; attribute EventHandler onloadend;};interface XMLHttpRequestUpload : XMLHttpRequestEventTarget {};interface XMLHttpRequest : XMLHttpRequestEventTarget { // event handler attribute EventHandler onreadystatechange; readonly attribute XMLHttpRequestUpload upload;}; ä»ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š XMLHttpRequestEventTargetæ¥å£å®šä¹‰äº†7ä¸ªäº‹ä»¶ï¼š onloadstart onprogress onabort ontimeout onerror onload onloadend æ¯ä¸€ä¸ªXMLHttpRequesté‡Œé¢éƒ½æœ‰ä¸€ä¸ªuploadå±æ€§ï¼Œè€Œuploadæ˜¯ä¸€ä¸ªXMLHttpRequestUploadå¯¹è±¡ XMLHttpRequestå’ŒXMLHttpRequestUploadéƒ½ç»§æ‰¿äº†åŒä¸€ä¸ªXMLHttpRequestEventTargetæ¥å£ï¼Œæ‰€ä»¥xhrå’Œxhr.uploadéƒ½æœ‰ç¬¬ä¸€æ¡åˆ—ä¸¾çš„7ä¸ªäº‹ä»¶ onreadystatechangeæ˜¯XMLHttpRequestç‹¬æœ‰çš„äº‹ä»¶ æ‰€ä»¥è¿™ä¹ˆä¸€çœ‹å°±å¾ˆæ¸…æ™°äº†ï¼šxhrä¸€å…±æœ‰8ä¸ªç›¸å…³äº‹ä»¶ï¼š7ä¸ªXMLHttpRequestEventTargetäº‹ä»¶+1ä¸ªç‹¬æœ‰çš„onreadystatechangeäº‹ä»¶ï¼›è€Œxhr.uploadåªæœ‰7ä¸ªXMLHttpRequestEventTargetäº‹ä»¶ã€‚ äº‹ä»¶è§¦å‘æ¡ä»¶ä¸‹é¢æ˜¯æˆ‘è‡ªå·±æ•´ç†çš„ä¸€å¼ xhrç›¸å…³äº‹ä»¶è§¦å‘æ¡ä»¶è¡¨ï¼Œå…¶ä¸­æœ€éœ€è¦æ³¨æ„çš„æ˜¯ onerror äº‹ä»¶çš„è§¦å‘æ¡ä»¶ã€‚ äº‹ä»¶ è§¦å‘æ¡ä»¶ onreadystatechange æ¯å½“xhr.readyStateæ”¹å˜æ—¶è§¦å‘ï¼›ä½†xhr.readyStateç”±é0å€¼å˜ä¸º0æ—¶ä¸è§¦å‘ã€‚ onloadstart è°ƒç”¨xhr.send()æ–¹æ³•åç«‹å³è§¦å‘ï¼Œè‹¥xhr.send()æœªè¢«è°ƒç”¨åˆ™ä¸ä¼šè§¦å‘æ­¤äº‹ä»¶ã€‚ onprogress xhr.upload.onprogressåœ¨ä¸Šä¼ é˜¶æ®µ(å³xhr.send()ä¹‹åï¼Œxhr.readystate=2ä¹‹å‰)è§¦å‘ï¼Œæ¯50msè§¦å‘ä¸€æ¬¡ï¼›xhr.onprogressåœ¨ä¸‹è½½é˜¶æ®µï¼ˆå³xhr.readystate=3æ—¶ï¼‰è§¦å‘ï¼Œæ¯50msè§¦å‘ä¸€æ¬¡ã€‚ onload å½“è¯·æ±‚æˆåŠŸå®Œæˆæ—¶è§¦å‘ï¼Œæ­¤æ—¶xhr.readystate=4 onloadend å½“è¯·æ±‚ç»“æŸï¼ˆåŒ…æ‹¬è¯·æ±‚æˆåŠŸå’Œè¯·æ±‚å¤±è´¥ï¼‰æ—¶è§¦å‘ onabort å½“è°ƒç”¨xhr.abort()åè§¦å‘ ontimeout xhr.timeoutä¸ç­‰äº0ï¼Œç”±è¯·æ±‚å¼€å§‹å³onloadstartå¼€å§‹ç®—èµ·ï¼Œå½“åˆ°è¾¾xhr.timeoutæ‰€è®¾ç½®æ—¶é—´è¯·æ±‚è¿˜æœªç»“æŸå³onloadendï¼Œåˆ™è§¦å‘æ­¤äº‹ä»¶ã€‚ onerror åœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œè‹¥å‘ç”ŸNetwork erroråˆ™ä¼šè§¦å‘æ­¤äº‹ä»¶ï¼ˆè‹¥å‘ç”ŸNetwork erroræ—¶ï¼Œä¸Šä¼ è¿˜æ²¡æœ‰ç»“æŸï¼Œåˆ™ä¼šå…ˆè§¦å‘xhr.upload.onerrorï¼Œå†è§¦å‘xhr.onerrorï¼›è‹¥å‘ç”ŸNetwork erroræ—¶ï¼Œä¸Šä¼ å·²ç»ç»“æŸï¼Œåˆ™åªä¼šè§¦å‘xhr.onerrorï¼‰ã€‚æ³¨æ„ï¼Œåªæœ‰å‘ç”Ÿäº†ç½‘ç»œå±‚çº§åˆ«çš„å¼‚å¸¸æ‰ä¼šè§¦å‘æ­¤äº‹ä»¶ï¼Œå¯¹äºåº”ç”¨å±‚çº§åˆ«çš„å¼‚å¸¸ï¼Œå¦‚å“åº”è¿”å›çš„xhr.statusCodeæ˜¯4xxæ—¶ï¼Œå¹¶ä¸å±äºNetwork errorï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘onerroräº‹ä»¶ï¼Œè€Œæ˜¯ä¼šè§¦å‘onloadäº‹ä»¶ã€‚ äº‹ä»¶è§¦å‘é¡ºåºå½“è¯·æ±‚ä¸€åˆ‡æ­£å¸¸æ—¶ï¼Œç›¸å…³çš„äº‹ä»¶è§¦å‘é¡ºåºå¦‚ä¸‹ï¼š è§¦å‘xhr.onreadystatechange(ä¹‹åæ¯æ¬¡readyStateå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡) è§¦å‘xhr.onloadstart//ä¸Šä¼ é˜¶æ®µå¼€å§‹ï¼š è§¦å‘xhr.upload.onloadstart è§¦å‘xhr.upload.onprogress è§¦å‘xhr.upload.onload è§¦å‘xhr.upload.onloadend//ä¸Šä¼ ç»“æŸï¼Œä¸‹è½½é˜¶æ®µå¼€å§‹ï¼š è§¦å‘xhr.onprogress è§¦å‘xhr.onload è§¦å‘xhr.onloadend å‘ç”Ÿabort/timeout/errorå¼‚å¸¸çš„å¤„ç†åœ¨è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å‘ç”Ÿ abort/timeout/errorè¿™3ç§å¼‚å¸¸ã€‚é‚£ä¹ˆä¸€æ—¦å‘ç”Ÿè¿™äº›å¼‚å¸¸ï¼Œxhråç»­ä¼šè¿›è¡Œå“ªäº›å¤„ç†å‘¢ï¼Ÿåç»­å¤„ç†å¦‚ä¸‹ï¼š ä¸€æ—¦å‘ç”Ÿabortæˆ–timeoutæˆ–errorå¼‚å¸¸ï¼Œå…ˆç«‹å³ä¸­æ­¢å½“å‰è¯·æ±‚ å°† readystate ç½®ä¸º4ï¼Œå¹¶è§¦å‘ xhr.onreadystatechangeäº‹ä»¶ å¦‚æœä¸Šä¼ é˜¶æ®µè¿˜æ²¡æœ‰ç»“æŸï¼Œåˆ™ä¾æ¬¡è§¦å‘ä»¥ä¸‹äº‹ä»¶ï¼š xhr.upload.onprogress xhr.upload.[onabortæˆ–ontimeoutæˆ–onerror] xhr.upload.onloadend è§¦å‘ xhr.onprogressäº‹ä»¶ è§¦å‘ xhr.[onabortæˆ–ontimeoutæˆ–onerror]äº‹ä»¶ è§¦å‘xhr.onloadend äº‹ä»¶ åœ¨å“ªä¸ªxhräº‹ä»¶ä¸­æ³¨å†ŒæˆåŠŸå›è°ƒï¼Ÿä»ä¸Šé¢ä»‹ç»çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥çŸ¥é“è‹¥xhrè¯·æ±‚æˆåŠŸï¼Œå°±ä¼šè§¦å‘xhr.onreadystatechangeå’Œxhr.onloadä¸¤ä¸ªäº‹ä»¶ã€‚ é‚£ä¹ˆæˆ‘ä»¬åˆ°åº•è¦å°†æˆåŠŸå›è°ƒæ³¨å†Œåœ¨å“ªä¸ªäº‹ä»¶ä¸­å‘¢ï¼Ÿæˆ‘å€¾å‘äº xhr.onloadäº‹ä»¶ï¼Œå› ä¸ºxhr.onreadystatechangeæ˜¯æ¯æ¬¡xhr.readyStateå˜åŒ–æ—¶éƒ½ä¼šè§¦å‘ï¼Œè€Œä¸æ˜¯xhr.readyState=4æ—¶æ‰è§¦å‘ã€‚ 123456xhr.onload = function () { //å¦‚æœè¯·æ±‚æˆåŠŸ if(xhr.status == 200){ //do successCallback } } ä¸Šé¢çš„ç¤ºä¾‹ä»£ç æ˜¯å¾ˆå¸¸è§çš„å†™æ³•ï¼šå…ˆåˆ¤æ–­httpçŠ¶æ€ç æ˜¯å¦æ˜¯200ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è®¤ä¸ºè¯·æ±‚æ˜¯æˆåŠŸçš„ï¼Œæ¥ç€æ‰§è¡ŒæˆåŠŸå›è°ƒã€‚è¿™æ ·çš„åˆ¤æ–­æ˜¯æœ‰å‘å„¿çš„ï¼Œæ¯”å¦‚å½“è¿”å›çš„httpçŠ¶æ€ç ä¸æ˜¯200ï¼Œè€Œæ˜¯201æ—¶ï¼Œè¯·æ±‚è™½ç„¶ä¹Ÿæ˜¯æˆåŠŸçš„ï¼Œä½†å¹¶æ²¡æœ‰æ‰§è¡ŒæˆåŠŸå›è°ƒé€»è¾‘ã€‚æ‰€ä»¥æ›´é è°±çš„åˆ¤æ–­æ–¹æ³•åº”è¯¥æ˜¯ï¼šå½“httpçŠ¶æ€ç ä¸º2xxæˆ–304æ—¶æ‰è®¤ä¸ºæˆåŠŸã€‚ 123456xhr.onload = function () { //å¦‚æœè¯·æ±‚æˆåŠŸ if((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status == 304){ //do successCallback }} ç»“è¯­ç»ˆäºå†™å®Œäº†â€¦â€¦çœ‹å®Œé‚£ä¸€ç¯‡é•¿é•¿çš„W3Cçš„xhr æ ‡å‡†ï¼Œæˆ‘çœ¼ç›éƒ½èŠ±äº†â€¦â€¦å¸Œæœ›è¿™ç¯‡æ€»ç»“èƒ½å¸®åŠ©åˆšå¼€å§‹æ¥è§¦XMLHttpRequestçš„ä½ ã€‚ æœ€åç»™ç‚¹æ‰©å±•å­¦ä¹ èµ„æ–™ï¼Œå¦‚æœä½ ï¼š æƒ³çœŸæ­£ææ‡‚XMLHttpRequestï¼Œæœ€é è°±çš„æ–¹æ³•è¿˜æ˜¯çœ‹ W3Cçš„xhr æ ‡å‡†; æƒ³ç»“åˆä»£ç å­¦ä¹ å¦‚ä½•ç”¨XMLHttpRequestå‘å„ç§ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥å‚è€ƒhtml5rocksä¸Šçš„è¿™ç¯‡æ–‡ç«  æƒ³ç²—ç•¥çš„äº†è§£XMLHttpRequestçš„åŸºæœ¬ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒMDNçš„XMLHttpRequestä»‹ç»ï¼› æƒ³äº†è§£XMLHttpRequest çš„å‘å±•å†ç¨‹ï¼Œå¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„æ–‡ç« ï¼› æƒ³äº†è§£AJaxçš„åŸºæœ¬ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒAJAX Tutorial; æƒ³äº†è§£è·¨åŸŸè¯·æ±‚ï¼Œåˆ™å¯ä»¥å‚è€ƒW3Cçš„ cors æ ‡å‡†; æƒ³äº†è§£httpåè®®ï¼Œåˆ™å¯ä»¥å‚è€ƒHTTP Tutorial;","link":"/2019/07/09/AJaxå’ŒXMLHttpRequest/"}],"tags":[{"name":"ReactNative","slug":"ReactNative","link":"/tags/ReactNative/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","link":"/tags/ç¯å¢ƒé…ç½®/"},{"name":"Hook","slug":"Hook","link":"/tags/Hook/"},{"name":"async/await","slug":"async-await","link":"/tags/async-await/"},{"name":"TypeScript","slug":"TypeScript","link":"/tags/TypeScript/"},{"name":"React","slug":"React","link":"/tags/React/"},{"name":"ä¸Šæ‹‰åŠ è½½","slug":"ä¸Šæ‹‰åŠ è½½","link":"/tags/ä¸Šæ‹‰åŠ è½½/"},{"name":"HTTP","slug":"HTTP","link":"/tags/HTTP/"},{"name":"Axios","slug":"Axios","link":"/tags/Axios/"},{"name":"å¸ƒå±€","slug":"å¸ƒå±€","link":"/tags/å¸ƒå±€/"},{"name":"flex","slug":"flex","link":"/tags/flex/"},{"name":"absolute","slug":"absolute","link":"/tags/absolute/"},{"name":"table","slug":"table","link":"/tags/table/"},{"name":"Array","slug":"Array","link":"/tags/Array/"},{"name":"Object","slug":"Object","link":"/tags/Object/"},{"name":"VueRouter","slug":"VueRouter","link":"/tags/VueRouter/"},{"name":"VSCode","slug":"VSCode","link":"/tags/VSCode/"},{"name":"å¤šç«¯å¼€å‘","slug":"å¤šç«¯å¼€å‘","link":"/tags/å¤šç«¯å¼€å‘/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"node","slug":"node","link":"/tags/node/"},{"name":"pm2","slug":"pm2","link":"/tags/pm2/"},{"name":"Vue","slug":"Vue","link":"/tags/Vue/"},{"name":"MongoDB","slug":"MongoDB","link":"/tags/MongoDB/"},{"name":"äº‹ä»¶å§”æ‰˜","slug":"äº‹ä»¶å§”æ‰˜","link":"/tags/äº‹ä»¶å§”æ‰˜/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"ngnix","slug":"ngnix","link":"/tags/ngnix/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","link":"/tags/è·¨åŸŸ/"},{"name":"JSONP","slug":"JSONP","link":"/tags/JSONP/"},{"name":"AJax","slug":"AJax","link":"/tags/AJax/"},{"name":"Android","slug":"Android","link":"/tags/Android/"},{"name":"rem","slug":"rem","link":"/tags/rem/"},{"name":"è¿­ä»£","slug":"è¿­ä»£","link":"/tags/è¿­ä»£/"},{"name":"URI","slug":"URI","link":"/tags/URI/"},{"name":"prototype","slug":"prototype","link":"/tags/prototype/"},{"name":"__proto__","slug":"proto","link":"/tags/proto/"},{"name":"åŸå‹é“¾","slug":"åŸå‹é“¾","link":"/tags/åŸå‹é“¾/"},{"name":"cookie","slug":"cookie","link":"/tags/cookie/"},{"name":"CSRF","slug":"CSRF","link":"/tags/CSRF/"},{"name":"SameSite","slug":"SameSite","link":"/tags/SameSite/"},{"name":"å“åº”å¼","slug":"å“åº”å¼","link":"/tags/å“åº”å¼/"},{"name":"èŠ‚æµ","slug":"èŠ‚æµ","link":"/tags/èŠ‚æµ/"},{"name":"é˜²æŠ–","slug":"é˜²æŠ–","link":"/tags/é˜²æŠ–/"},{"name":"Promise","slug":"Promise","link":"/tags/Promise/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/tags/æ•°æ®ç»“æ„/"},{"name":"æ’åº","slug":"æ’åº","link":"/tags/æ’åº/"},{"name":"CORS","slug":"CORS","link":"/tags/CORS/"},{"name":"Debug","slug":"Debug","link":"/tags/Debug/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"Grid","slug":"Grid","link":"/tags/Grid/"},{"name":"XMLHttpRequest","slug":"XMLHttpRequest","link":"/tags/XMLHttpRequest/"}],"categories":[{"name":"ReactNative","slug":"ReactNative","link":"/categories/ReactNative/"},{"name":"React","slug":"React","link":"/categories/React/"},{"name":"JS/ES6","slug":"JS-ES6","link":"/categories/JS-ES6/"},{"name":"HTTP","slug":"HTTP","link":"/categories/HTTP/"},{"name":"CSS","slug":"CSS","link":"/categories/CSS/"},{"name":"å…¶ä»–å‰ç«¯","slug":"å…¶ä»–å‰ç«¯","link":"/categories/å…¶ä»–å‰ç«¯/"},{"name":"Vue","slug":"Vue","link":"/categories/Vue/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","link":"/categories/æœåŠ¡å™¨/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","link":"/categories/æ•°æ®ç»“æ„/"}]}