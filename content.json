{"pages":[],"posts":[{"title":"å†™ç»™è‡ªå·±çœ‹çš„react-native-pushyä½¿ç”¨ç¬”è®°","text":"æœ¬æ–‡æ˜¯æ ¹æ®react-native-pushyæ–‡æ¡£ï¼Œä½¿ç”¨åçš„ä¸€äº›ç¬”è®°æ•´ç†ã€‚ æ‰‹æœºç³»ç»Ÿï¼šAndroid ç¯å¢ƒé…ç½®ç¯å¢ƒé…ç½® ç¯å¢ƒï¼šReact Native ç‰ˆæœ¬0.58ï¼Œreact-native-update ç‰ˆæœ¬5.1.8 å®‰è£…123npm i -g react-native-update-clinpm i react-native-updatereact-native link react-native-update ç„¶ååœ¨ç›®å½•android\\app\\src\\main\\java\\app\\ytd\\dg\\MainApplication.javaä¸­ï¼Œæ·»åŠ ä»£ç ï¼š12345678910111213141516// ... å…¶å®ƒä»£ç // æ·»åŠ è¿™ä¸ªimportimport cn.reactnative.modules.update.UpdateContext;public class MainApplication extends Application implements ReactApplication { private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) { // æ·»åŠ ä¸‹é¢è¿™æ®µ @Override protected String getJSBundleFile() { return UpdateContext.getBundleUrl(MainApplication.this); } // ... å…¶å®ƒä»£ç  }} é…ç½®åœ¨reactnativeåˆ›å»ºä¸€ä¸ªè´¦å·ã€‚ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œï¼š123pushy loginemail: &lt;è¾“å…¥ä½ çš„æ³¨å†Œé‚®ç®±&gt;password: &lt;è¾“å…¥ä½ çš„å¯†ç &gt; è¿™ä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª.updateæ–‡ä»¶ï¼Œæ³¨æ„ä¸è¦æŠŠè¿™ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°Gitç­‰CVSç³»ç»Ÿä¸Šã€‚ä½ å¯ä»¥åœ¨.gitignoreæœ«å°¾å¢åŠ ä¸€è¡Œ.updateæ¥å¿½ç•¥è¿™ä¸ªæ–‡ä»¶ã€‚ ç„¶ååˆ›å»ºä¸€ä¸ªæˆ‘ä»¬çš„åº”ç”¨ï¼ˆä¹Ÿå¯ä»¥åœ¨ç½‘é¡µä¸Šåˆ›å»ºï¼‰ï¼š12pushy createApp --platform androidApp Name: &lt;è¾“å…¥åº”ç”¨åå­—&gt; å¦‚æœæ˜¯åœ¨ç½‘é¡µä¸Šåˆ›å»ºçš„ï¼Œå°±æ‰§è¡Œé€‰æ‹©APPçš„å‘½ä»¤ï¼š123456pushy selectApp --platform android15121) App Name 135567) App Name 2Total 2 android appsEnter appId: &lt;è¾“å…¥)å‰é¢çš„ç¼–å·&gt; æ‰§è¡Œå®Œä¸Šé¢çš„åˆ›å»ºæˆ–è€…é€‰æ‹©APPçš„æ“ä½œä»¥åï¼Œä½ å¯ä»¥åœ¨æ ¹ç›®å½•çœ‹åˆ°ä¸€ä¸ªæ–°æ–‡ä»¶update.jsonï¼Œå®ƒä¸åŒ…å«ä»»ä½•æ•æ„Ÿä¿¡æ¯ã€‚ æ·»åŠ çƒ­æ›´æ–°åŠŸèƒ½æ·»åŠ çƒ­æ›´æ–°åŠŸèƒ½å®Œæ•´ä»£ç ç¤ºä¾‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import React, { Component,} from 'react';import { StyleSheet, Platform, Text, View, Alert, TouchableOpacity, Linking,} from 'react-native';import { isFirstTime, isRolledBack, packageVersion, currentVersion, checkUpdate, downloadUpdate, switchVersion, switchVersionLater, markSuccess,} from 'react-native-update';import _updateConfig from './update.json';const {appKey} = _updateConfig[Platform.OS];class MyProject extends Component { componentWillMount(){ if (isFirstTime) { Alert.alert('æç¤º', 'è¿™æ˜¯å½“å‰ç‰ˆæœ¬ç¬¬ä¸€æ¬¡å¯åŠ¨,æ˜¯å¦è¦æ¨¡æ‹Ÿå¯åŠ¨å¤±è´¥?å¤±è´¥å°†å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬', [ {text: 'æ˜¯', onPress: ()=&gt;{throw new Error('æ¨¡æ‹Ÿå¯åŠ¨å¤±è´¥,è¯·é‡å¯åº”ç”¨')}}, {text: 'å¦', onPress: ()=&gt;{markSuccess()}}, ]); } else if (isRolledBack) { Alert.alert('æç¤º', 'åˆšåˆšæ›´æ–°å¤±è´¥äº†,ç‰ˆæœ¬è¢«å›æ»š.'); } } doUpdate = info =&gt; { downloadUpdate(info).then(hash =&gt; { Alert.alert('æç¤º', 'ä¸‹è½½å®Œæ¯•,æ˜¯å¦é‡å¯åº”ç”¨?', [ {text: 'æ˜¯', onPress: ()=&gt;{switchVersion(hash);}}, {text: 'å¦',}, {text: 'ä¸‹æ¬¡å¯åŠ¨æ—¶', onPress: ()=&gt;{switchVersionLater(hash);}}, ]); }).catch(err =&gt; { Alert.alert('æç¤º', 'æ›´æ–°å¤±è´¥.'); }); }; checkUpdate = () =&gt; { checkUpdate(appKey).then(info =&gt; { if (info.expired) { Alert.alert('æç¤º', 'æ‚¨çš„åº”ç”¨ç‰ˆæœ¬å·²æ›´æ–°,è¯·å‰å¾€åº”ç”¨å•†åº—ä¸‹è½½æ–°çš„ç‰ˆæœ¬', [ {text: 'ç¡®å®š', onPress: ()=&gt;{info.downloadUrl &amp;&amp; Linking.openURL(info.downloadUrl)}}, ]); } else if (info.upToDate) { Alert.alert('æç¤º', 'æ‚¨çš„åº”ç”¨ç‰ˆæœ¬å·²æ˜¯æœ€æ–°.'); } else { Alert.alert('æç¤º', 'æ£€æŸ¥åˆ°æ–°çš„ç‰ˆæœ¬'+info.name+',æ˜¯å¦ä¸‹è½½?\\n'+ info.description, [ {text: 'æ˜¯', onPress: ()=&gt;{this.doUpdate(info)}}, {text: 'å¦',}, ]); } }).catch(err =&gt; { Alert.alert('æç¤º', 'æ›´æ–°å¤±è´¥.'); }); }; render() { return ( &lt;View style={styles.container}&gt; &lt;Text style={styles.welcome}&gt; æ¬¢è¿ä½¿ç”¨çƒ­æ›´æ–°æœåŠ¡ &lt;/Text&gt; &lt;Text style={styles.instructions}&gt; è¿™æ˜¯ç‰ˆæœ¬ä¸€ {'\\n'} å½“å‰åŒ…ç‰ˆæœ¬å·: {packageVersion}{'\\n'} å½“å‰ç‰ˆæœ¬Hash: {currentVersion||'(ç©º)'}{'\\n'} &lt;/Text&gt; &lt;TouchableOpacity onPress={this.checkUpdate}&gt; &lt;Text style={styles.instructions}&gt; ç‚¹å‡»è¿™é‡Œæ£€æŸ¥æ›´æ–° &lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); }}const styles = StyleSheet.create({ container: { flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: '#F5FCFF', }, welcome: { fontSize: 20, textAlign: 'center', margin: 10, }, instructions: { textAlign: 'center', color: '#333333', marginBottom: 5, },}); å‘å¸ƒå®‰å“åº”ç”¨å‘å¸ƒå®‰å“åº”ç”¨ è¿™é‡Œå‘å¸ƒçš„åŒ…æ–‡ä»¶ï¼Œæ˜¯ä¸Šä¼ åˆ°åº”ç”¨å•†åº—çš„åŸºç¡€ç‰ˆæœ¬ï¼Œæ— æ³•é€šè¿‡çƒ­æ›´æ–°æ¥è·å¾— 123456789101112// 1. è¿›å…¥androidç›®å½•`cd android`// 2. ç”ŸæˆAPK`./gradlew assembleRelease`// 3. è¿”å›æ ¹ç›®å½•`cd ..`// 4. å°†ç”Ÿæˆçš„APKå‘å¸ƒåˆ°PushyæœåŠ¡å™¨ä¸Š`pushy uploadApk android/app/build/outputs/apk/release/app-release.apk` å‘å¸ƒæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬å‘å¸ƒæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬ è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ ä¿®æ”¹ä½ çš„ä¸šåŠ¡ä»£ç  pushy bundle --platform android, ä¹‹åè¾“å…¥Yç«‹å³å‘å¸ƒï¼ˆæ­¤è¿‡ç¨‹æ˜¯ç”Ÿæˆæ–°çš„çƒ­æ›´æ–°ç‰ˆæœ¬ï¼‰ 123version name çƒ­æ›´æ–°ç‰ˆæœ¬å·, è¯·éµå¾ªç‰ˆæœ¬è§„èŒƒdescription, æè¿°æ›´æ–°å†…å®¹ï¼Œä¼šå±•ç¤ºç»™ç”¨æˆ·ï¼Œä¸æ”¯æŒ`\\n`æ¢è¡Œmeta info, ä¼ è¾“çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚`{'ok': 1}`ï¼ˆJSONçš„keyå¿…é¡»å¸¦å¼•å·ï¼‰ æ­¤æ—¶ç‰ˆæœ¬å·²ç»æäº¤åˆ°updateæœåŠ¡ï¼Œä½†ç”¨æˆ·æš‚æ—¶çœ‹ä¸åˆ°æ­¤æ›´æ–°ï¼Œä½ è¿˜éœ€è¦å°†æ­¤æ­¤çƒ­æ›´æ–°ç‰ˆæœ¬ç»‘å®šåˆ°æŒ‡å®šçš„åŒ…ç‰ˆæœ¬ä¸Šã€‚æœ‰3ç§æ–¹æ³•ï¼š è¾“å…¥Yç«‹å³ç»‘å®š æˆ–è€…ä»¥åpushy update --platform androidæ¥è®©å¯¹åº”åŒ…ç‰ˆæœ¬ç”¨æˆ·å¾—ä»¥æ›´æ–° è¾“å…¥Yæˆ–è€…ä¸Šè¿°å‘½ä»¤ä»¥åï¼Œä¼šè®©ä½ å†è¾“å…¥çƒ­æ›´æ–°ç‰ˆæœ¬å·versionIdï¼Œå°±æ˜¯)å‰é¢çš„æ•°å­— ï¼ˆå¯ä»¥ä½¿ç”¨Uä¸Šä¸€é¡µï¼ŒDä¸‹ä¸€é¡µï¼ŒBå›åˆ°å¼€å§‹ï¼‰ è¾“å…¥å®ŒversionIdä»¥åï¼Œä¼šè®©ä½ è¾“å…¥åŒ…ç‰ˆæœ¬å·packageIdï¼Œå°±æ˜¯U/D/Bæç¤ºä¸‹é¢çš„åˆ—è¡¨å‰çš„æ•°å­— è¿˜å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µç«¯æ‹–æ‹½æ“ä½œ","link":"/2019/06/21/å†™ç»™è‡ªå·±çœ‹çš„react-native-pushyä½¿ç”¨ç¬”è®°/"},{"title":"react-native-file-selectorå®‰è£…é‡åˆ°çš„é—®é¢˜","text":"åœ¨å®‰è£…react-native-file-selectoræ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œç‰¹æ­¤è®°å½• å®‰è£…npm install react-native-file-selector --saveä¹‹åï¼Œåƒä¸‡ä¸è¦linkï¼Œä¸ç„¶ä¼šå‡ºé”™ï¼ åœ¨android\\settings.gradleæ·»åŠ  12include ':react-native-file-selector'project(':react-native-file-selector').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-file-selector/android') åœ¨android\\build.gradleæ·»åŠ  1maven { url \"http://dl.bintray.com/lukaville/maven\" } åœ¨android\\app\\build.gradleä¸­æ·»åŠ  1implementation project(':react-native-file-selector') åœ¨MainApplication.javaä¸­å¼•ç”¨jaråŒ… 1import ui.fileselector.RNFileSelectorPackage; åœ¨ä¸‹é¢çš„getPackages()ä¸­ä½¿ç”¨ 1new RNFileSelectorPackage(), æ–°å¢ä¸»é¢˜æ–‡ä»¶android/app/src/main/res/values/colors.xmlï¼Œå¯ä»¥è‡ªå®šä¹‰ 12345 &lt;resources&gt; &lt;color name=\"colorPrimary\"&gt;#3F51B5&lt;/color&gt; &lt;color name=\"colorPrimaryDark\"&gt;#303F9F&lt;/color&gt; &lt;color name=\"colorAccent\"&gt;#FF4081&lt;/color&gt;&lt;/resources&gt; åœ¨android\\app\\src\\main\\AndroidManifest.xmlæ·»åŠ æƒé™ 1&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt; åˆ°è¿™é‡Œç®—æ˜¯å®Œæˆäº†è‡ªåŠ¨linkçš„æ­¥éª¤ï¼Œä½†æ˜¯è¿˜æœ‰bugï¼ï¼ï¼é”™è¯¯æç¤ºï¼š 1Android dependency 'com.android.support:support-v4' has different version for the compile (27.0.2) and runtime (28.0.0) classpath. You should manually set the same version via DependencyResolution è§£å†³åŠæ³•ï¼Œä¿®æ”¹æˆ‘ä»¬ç¬¬4æ­¥ä¸ºï¼š 123implementation (project(':react-native-file-selector')) { exclude group: 'com.android.support' } è‡³æ­¤ï¼Œç»“æŸï¼","link":"/2019/06/24/react-native-file-selectorå®‰è£…é‡åˆ°çš„é—®é¢˜/"},{"title":"ReactNativeé›†æˆTypeScript","text":"åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨TypeScriptï¼Œä¹‹åé›†æˆTSçš„ç¬”è®° å®‰è£…npm i --dev typescript react-native-typescript-transformer åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶rn-cli.config.js 12345678module.exports = { getTransformModulePath() { return require.resolve(&apos;react-native-typescript-transformer&apos;) }, getSourceExts() { return [&apos;ts&apos;, &apos;tsx&apos;]; }} åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶tsconfig.json 123456789{ &quot;compilerOptions&quot;: { &quot;target&quot;: &quot;es2015&quot;, &quot;module&quot;: &quot;es2015&quot;, &quot;jsx&quot;: &quot;react-native&quot;, &quot;moduleResolution&quot;: &quot;node&quot;, &quot;allowSyntheticDefaultImports&quot;: true }} ä¿®æ”¹App.jså’Œ__tests__/App.jsæ–‡ä»¶åä¸ºApp.tsxï¼Œå¹¶ä¸”ä¿®æ”¹æ–‡ä»¶ç¬¬ä¸€è¡Œçš„å¼•å…¥ï¼š 12345// å°†ï¼š-import React, { Component } from &apos;react&apos;;// ä¿®æ”¹ä¸ºï¼š+import React from &apos;react&apos;+import { Component } from &apos;react&apos;; æ·»åŠ ç±»å‹å£°æ˜ä¾èµ–npm i --dev @types/react @types/react-native è‡³æ­¤ï¼Œç»“æŸï¼","link":"/2019/06/26/ReactNativeé›†æˆTypeScript/"},{"title":"ReactNativeåº”ç”¨åç§°åŠå›¾æ ‡ä¿®æ”¹","text":"APPåç§°å’Œå›¾æ ‡çš„ä¿®æ”¹æ–¹æ³•ã€‚ ä¿®æ”¹APPåç§° åœ¨android/app/src/main/AndroidManifest.xmlé‡Œï¼Œæ‰¾åˆ°android:label=&quot;@string/app_name&quot;ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºå®šä¹‰å¥½çš„å˜é‡ï¼Œå®ƒè°ƒç”¨çš„åœ°æ–¹åœ¨android\\app\\src\\main\\AndroidManifest.xmlé‡Œã€‚ ä¿®æ”¹android/app/src/main/res/valuse/strings.xmlä¸­çš„æ–‡æœ¬ï¼Œå°±ä¼šæ”¹å˜APPåœ¨æ‰‹æœºä¸Šæ˜¾ç¤ºçš„åç§° 123&lt;resources&gt; &lt;string name=\"app_name\"&gt;å·¡æ£€ç³»ç»Ÿ&lt;/string&gt;&lt;/resources&gt; ä¿®æ”¹APPå›¾æ ‡ è¿›å…¥ç›®å½•android/app/src/main/AndroidManifest.xmlï¼Œæ‰¾åˆ°android:icon=&quot;@mipmap/ic_launcher&quot;ï¼Œå®ƒè°ƒç”¨çš„åœ°æ–¹åœ¨android\\app\\src\\main\\res\\mipmap-XXXé‡Œã€‚ æ›¿æ¢å‡ ä¸ªmipmap-XXXç›®å½•ä¸­çš„pngå›¾ç‰‡å³å¯ï¼Œåˆ†åˆ«å¯¹åº”çš„åˆ†è¾¨ç‡ä¸ºï¼š48x48ï¼Œ72x72ï¼Œ96x96ï¼Œ144x144ï¼Œ192x192ã€‚ å¦‚æœä½ AndroidManifest.xmlæ–‡ä»¶é‡Œæ˜¯android:icon=&quot;@drawable/ic_launcher&quot;ï¼Œé‚£ä¹ˆä¿®æ”¹drawable-XXXæ–‡ä»¶å›¾ç‰‡å³å¯ã€‚","link":"/2019/07/04/ReactNativeåº”ç”¨åç§°åŠå›¾æ ‡ä¿®æ”¹/"},{"title":"ReactNativeåº”ç”¨åŒ…åä¿®æ”¹","text":"åŒ…åæ˜¯Androidå”¯ä¸€çš„åº”ç”¨IDã€‚ ä¿®æ”¹åŒ…ååï¼Œä¹‹å‰ä¸Šä¼ åˆ°åº”ç”¨å•†åº—çš„APPä¹Ÿå°±ä¸æ˜¯åŒä¸€æ¬¾äº†ã€‚ å‡è®¾æ–°çš„åŒ…åä¸ºcom.oc.objectiveï¼Œä¸‹é¢å‡ å¤„åœ°æ–¹æ˜¯éœ€è¦åŒæ­¥ä¿®æ”¹çš„ï¼š ä¸¤ä¸ªJavaæ–‡ä»¶android/app/src/main/java/com/PROJECT_NAME/MainActivity.java android/app/src/main/java/com/PROJECT_NAME/MainApplication.java ä¿®æ”¹ç¬¬ä¸€è¡Œçš„packageä¸ºï¼š package com.oc.objective; å®‰å“æè¿°æ–‡ä»¶android/app/src/main/AndroidManifest.xml ä¿®æ”¹ç¬¬äºŒè¡Œpackageä¸ºï¼š package=&quot;com.oc.objective&quot; ä¸¤ä¸ªæ‰“åŒ…è„šæœ¬ **android/app/BUCK** é‡Œé¢æœ‰ä¸¤å¤„packageï¼Œéƒ½ä¿®æ”¹ä¸ºæ–°çš„åŒ…å 12345678910android_build_config( ... package = &quot;com.oc.objective&quot;,)android_resource( ... package = &quot;com.oc.objective&quot;,...) **android/app/build.gradle** ä¿®æ”¹applicationId 1234defaultConfig { applicationId &quot;com.oc.objective&quot; ...} ä¿®æ”¹å®Œæˆåï¼Œå‘½ä»¤è¡Œè¿›å…¥androidç›®å½•ï¼Œæ‰§è¡Œ./gradlew cleanæ¸…é™¤ç¼“å­˜å³å¯ï¼ˆwindowsä¸Šæ˜¯ gradlew.batï¼‰ æ›´æ–°Javaæ–‡ä»¶ç›®å½•è‡³æ­¤èƒ½å¤Ÿæ‰“åŒ…å‡ºæ­£ç¡®åŒ…åçš„apkï¼Œä¸è¿‡åœ¨å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬éƒ½éœ€è¦è‡ªåŠ¨linkåŸç”Ÿæ¨¡å—ï¼Œç°åœ¨Javaæ–‡ä»¶ç›®å½•ä¸æ­£ç¡®ä¼šå¯¼è‡´æ— æ³•linkæˆåŠŸï¼Œæ‰€ä»¥è¿˜éœ€è¦æŒ‰ç…§Javaçš„è§„èŒƒæŠŠJavaæ–‡ä»¶ç›®å½•æ”¾å…¥åŒ…ååŒ¹é…çš„ç›®å½•ä¸­ã€‚ æŠŠMainActivity.javaå’ŒMainApplication.javaä¸¤ä¸ªæ–‡ä»¶ç§»åˆ°æ–°åˆ›å»ºçš„ç›®å½•ä¸‹ï¼šandroid/app/src/main/java/com/oc/objective/ã€‚ ä¿®æ”¹å®Œæˆçš„ç›®å½•ç»“æ„ä¸ºï¼š 12android/app/src/main/java/com/PROJECT_NAME/MainActivity.javaandroid/app/src/main/java/com/PROJECT_NAME/MainApplication.java ç°åœ¨å°±å¯ä»¥è‡ªåŠ¨linkäº†ã€‚","link":"/2019/07/05/ReactNativeåº”ç”¨åŒ…åä¿®æ”¹/"},{"title":"Axiosåœ¨é¡¹ç›®ä¸­çš„å°è£…","text":"å®é™…é¡¹ç›®å¼€å‘ä¸­ç”¨åˆ°çš„Axioså°è£… TOKENéªŒè¯å¯ä»¥åœ¨æ¯æ¬¡è¯·æ±‚ä¹‹å‰éªŒè¯tokenä¿¡æ¯ï¼š 123456// åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­åŠ å…¥ï¼Œç”¨åˆ°äº†js-cookieimport Cookies from &apos;js-cookie&apos;;if (Cookies.get(&apos;Admin-Token&apos;)) { config.headers[&apos;Authorization&apos;] = Cookies.get(&apos;Admin-Token&apos;)} ç½‘ç»œä¼˜åŒ–å½“å¤šæ¬¡è¯·æ±‚çš„æ—¶å€™å»é™¤ä¸Šä¸€æ¬¡è¯·æ±‚ï¼Œé¿å…è¿”å›æ•°æ®ä¸åŠæ—¶å¯¼è‡´çš„æ•°æ®é”™ä¹±ï¼š 12345678910111213141516let pending = []let CancelToken = axios.CancelToken let cancelPending = (config) =&gt; { pending.forEach((item, index) =&gt; { if (config) { if (item.UrlPath === config.url) { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• }; } else { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• } })} å…¨å±€Loading12345678910111213141516import { Loading } from &apos;element-ui&apos; let loading;// ä½¿ç”¨Elementçš„loading-startæ–¹æ³•let startLoading = () =&gt; { loading = Loading.service({ lock: true, text: &apos;åŠ è½½ä¸­â€¦â€¦&apos; // background: &apos;rgba(0, 0, 0, 0.7)&apos; })}// ä½¿ç”¨Elementçš„loading-closeæ–¹æ³•let endLoading = () =&gt; { loading.close()} ä¹‹ååœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­åŠ å…¥startLoading()æ–¹æ³•ï¼Œåœ¨è¿”å›æ‹¦æˆªå™¨ä¸­åŠ å…¥endLoading()æ–¹æ³• å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133import axios from 'axios';import qs from 'qs';import { SERVER_ADDRESS } from '../const/index';import { getToken } from '../utils/common';/** * AxiosäºŒæ¬¡å°è£… */let pending = []let CancelToken = axios.CancelTokenlet cancelPending = (config) =&gt; { pending.forEach((item, index) =&gt; { if (config) { if (item.UrlPath === config.url) { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• }; } else { item.Cancel() // å–æ¶ˆè¯·æ±‚ pending.splice(index, 1) // ç§»é™¤å½“å‰è¯·æ±‚è®°å½• } })}/** Axioså®ä¾‹åŸºç¡€é…ç½® */axios.defaults.baseURL = `${SERVER_ADDRESS}`;axios.defaults.timeout = 100000;/** è¯·æ±‚æ‹¦æˆªå™¨ */axios.interceptors.request.use(async config =&gt; { config.headers['Authorization'] = await getToken(); // 1. å¦‚æœæœ‰å­˜åœ¨çš„è¯·æ±‚ï¼Œå–æ¶ˆæ‰ cancelPending(config) // 2. pendingåˆ—è¡¨åŠ å…¥æ­¤æ¬¡æ–°çš„è¯·æ±‚ config.cancelToken = new CancelToken(res =&gt; { pending.push({'UrlPath': config.url, 'Cancel': res}) }); if (config.method === 'get') { config.params = { ...config.data, _t: Date.parse(new Date()) / 1000 } } return config}, error =&gt; { console.log(error) return Promise.reject(error)})/** è¿”å›æ‹¦æˆªå™¨ */axios.interceptors.response.use(response =&gt; { cancelPending(response.config) if (response.status === '200' || response.status === 200) { return response.data.data || response.data } else { // é200è¯·æ±‚åˆ™æŠ¥é”™ throw Error(response.opt || 'éæ³•çš„çŠ¶æ€ç ') }}, error =&gt; { console.log(error) return Promise.reject(error)})export default class http { static async get(url, params) { /** * params{ * goodsï¼šidï¼Œ * nameï¼šstring * } ==&gt; ?goods=id&amp;name=string */ try { let query = await qs.stringify(params) let res = null; if (!params) { // console.log( SERVER_ADDRESS + url); res = await axios.get(url) } else { // console.log( SERVER_ADDRESS + url + '?' + query); res = await axios.get(url + '?' + query) } return res } catch (error) { return error } } static async post(url, params) { try { let res = await axios.post(url, params) return res } catch (error) { return error } } static async patch(url, params) { try { let res = await axios.patch(url, params) return res } catch (error) { return error } } static async put(url, params) { try { let res = await axios.put(url, params) return res } catch (error) { return error } } static async delete(url, params) { /** * paramsé»˜è®¤ä¸ºæ•°ç»„ */ try { let res = await axios.post(url, params) return res } catch (error) { return error } }}","link":"/2019/06/27/Axiosåœ¨é¡¹ç›®ä¸­çš„å°è£…/"},{"title":"å¦‚ä½•åœ¨å¾ªç¯ä¸­ä½¿ç”¨await","text":"æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨å¾ªç¯ä¸­ç­‰å¾…ä¸Šä¸€æ¬¡ç»“æŸå†è¿›è¡Œä¸‹ä¸€æ¬¡çš„æ“ä½œï¼Œå¦‚æœç›´æ¥åœ¨forEachä½¿ç”¨awaitæ˜¯æ²¡æœ‰ä½œç”¨çš„ï¼Œå› ä¸ºforEach åªæ˜¯ç®€å•çš„æ‰§è¡Œäº†ä¸‹å›è°ƒå‡½æ•°è€Œå·²ï¼Œå¹¶ä¸ä¼šå»å¤„ç†å¼‚æ­¥çš„æƒ…å†µã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨forå¾ªç¯æ¥å®ç°æƒ³è¦çš„æ•ˆæœã€‚ for12345678910111213141516171819async function fn() { let arr = [1,2,3]; console.log('start') for (const item of arr) { const res = await fetch(item) console.log(res) } console.log('end')}function fetch(i) { return new Promise ((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(i) }, 500 * i); })}fn(); for of12345678910111213141516171819async function fn() { let arr = [1,2,3] console.log('start') for (let item of arr) { const res = await fetch(item) console.log(res) } console.log('end')}function fetch(i) { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve(i) }, 500 * i); })}fn(); æ€ä¹ˆè®©forEachæ”¯æŒawaitforEachç®€å•çš„åŸç†å°±æ˜¯ï¼š 123while (index &lt; arr.length) { callback(item, index) //ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å›è°ƒå‡½æ•°} æ„é€ ä¸€ä¸ªæ”¯æŒawaitçš„forEachï¼š 1234567891011121314151617Array.prototype.myforeach = async function (fn, context = null) { let index = 0; let arr = this; if (typeof fn !== 'function') { throw new TypeError(fn + ' is not a function'); } while (index &lt; arr.length) { if (index in arr) { try { await fn.call(context, arr[index], index, arr); } catch (e) { console.log(e); } } index ++; }};","link":"/2019/07/01/å¦‚ä½•åœ¨å¾ªç¯ä¸­ä½¿ç”¨await/"},{"title":"ReactNativeåŸç”Ÿç»„ä»¶FlatListå®ç°ä¸Šæ‹‰åŠ è½½","text":"æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®˜æ–¹ç»„ä»¶RefreshControlå®ç°ä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½ï¼Œä½†å®˜æ–¹å¹¶æ²¡æœ‰æä¾›ç›¸åº”çš„ä¸Šæ‹‰åŠ è½½ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡è‡ªå·±æ‰‹åŠ¨å®ç°ã€‚ è¿™é‡Œç”¨åˆ°äº†FlatListç»„å»ºçš„onEndReachedä¸onEndReachedThresholdå±æ€§æ¥å®ç°ç›¸åº”æ•ˆæœã€‚ ä¸Šæ‹‰åŠ è½½æ€è·¯ä¸Šæ‹‰åŠ è½½ä¸€èˆ¬åº”ç”¨äºåˆ†é¡µåŠ è½½çš„æƒ…å†µï¼Œå½“FlatListæ»‘åŠ¨åˆ°åº•éƒ¨æ—¶ï¼š é¡µé¢pageIndexæ•°åŠ 1ï¼Œè§¦å‘è¯·æ±‚æ–°ä¸€é¡µçš„æ•°æ® æ›´æ–°åˆ°ç»„ä»¶stateä¸­çš„æ•°æ®æºdataArrayä¸­ï¼ŒdataArrayä¹Ÿä½œä¸ºFlatListçš„æ•°æ®æºdata æ»‘åŠ¨åˆ°åº•éƒ¨è§¦å‘è¯·æ±‚æ–°ä¸€é¡µçš„æ•°æ®é€šè¿‡FlatListçš„onEndReachedå’ŒonEndReachedThresholdå±æ€§æ¥å®ç° å…·ä½“å®ç°onEndReachedä¸Šæ‹‰åŠ è½½çš„å…³é”®æ˜¯onEndReachedï¼Œé€šè¿‡è®¾ç½®è·ç¦»åº•éƒ¨è·ç¦»onEndReachedThresholdçš„å€¼ï¼ˆå€¼ä¸ºæ¯”ä¾‹ï¼Œ0.5è¡¨ç¤ºè·ç¦»åº•éƒ¨ä¸€åŠï¼‰ï¼Œæ¥è§¦å‘onEndReachedäº‹ä»¶ã€‚ onEndReachedæ–¹æ³•åœ¨å½“åˆ—è¡¨è¢«æ»šåŠ¨åˆ°è·ç¦»æœ€åº•éƒ¨å°äºonEndReachedThresholdçš„å€¼æ—¶è°ƒç”¨ã€‚ 12345678910111213141516171819/** * ä¸Šæ‹‰åŠ è½½ */_onEndReached = () =&gt; { /** å¦‚æœæ˜¯æ­£åœ¨åŠ è½½ä¸­æˆ–æ²¡æœ‰æ›´å¤šæ•°æ®äº†ï¼Œåˆ™è¿”å› */ if (this.state.showFoot !== 0 ) return; /** å¦‚æœå½“å‰é¡µå¤§äºæˆ–ç­‰äºæ€»é¡µæ•°ï¼Œé‚£å°±æ˜¯åˆ°æœ€åä¸€é¡µäº†ï¼Œè¿”å› */ if ((this.state.pageIndex !== 1) &amp;&amp; (this.state.showFoot === 1)) { return; } else { this.setState({pageIndex: this.state.pageIndex + 1}); } /** åº•éƒ¨æ˜¾ç¤ºæ­£åœ¨åŠ è½½æ›´å¤šæ•°æ® */ this.setState({showFoot: 2}); /** è·å–æ•°æ® */ this._fetchPrev();} åˆå§‹State123456789101112131415161718192021222324constructor(props) { super(props); this.state = { isLoading: true, // ç½‘ç»œè¯·æ±‚å¤±è´¥ fetchError: false, errorInfo: \"\", // åˆ—è¡¨æ•°æ® dataArray: [], /** * æ˜¯å¦æ˜¾ç¤ºåº•éƒ¨ç»„ä»¶ * 0ï¼šéšè—footer * 1ï¼šå·²åŠ è½½å®Œæˆ,æ²¡æœ‰æ›´å¤šæ•°æ® * 2ï¼šæ˜¾ç¤ºåŠ è½½ä¸­ */ showFoot:0, // ä¸‹æ‹‰åˆ·æ–°æ§åˆ¶ isRefreshing:false, // å½“å‰é¡µç  pageIndex: 1, // æ¯é¡µä¸ªæ•° pageSize: 10, }} æ•°æ®è·å–è·å–åˆ°æ–°ä¸€é¡µçš„æ•°æ®æ—¶ï¼ŒæŠŠpageIndexåŠ 1ï¼Œ å½“è·å–åˆ°æ•°æ®dataæ—¶ï¼Œæ‹¼æ¥åœ¨å·²æœ‰çš„dataArrayä¸Šï¼š 123456789101112componentDidMount() { //è¯·æ±‚æ•°æ® this.fetchData();}this.setState({ //å¤åˆ¶æ•°æ®æº dataArray:this.state.dataArray.concat(data), isLoading: false, showFoot:foot, isRefreshing:false,}); ç»„ä»¶æ¸²æŸ“1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * åŠ è½½ç­‰å¾…é¡µ */_renderLoadingView = () =&gt; { return ( &lt;ActivityIndicator animating={this.state.isLoading} toast={true} color='#108ee9' size=\"large\" /&gt; );}/** * åŠ è½½å¤±è´¥é¡µ */_renderErrorView = () =&gt; { return ( &lt;View style={styles.fetchErrContainer}&gt; &lt;Text&gt;ç½‘ç»œè¯·æ±‚å¤±è´¥&lt;/Text&gt; &lt;/View&gt; );}render() { // ç¬¬ä¸€æ¬¡åŠ è½½ç­‰å¾…çš„view if (this.state.isLoading &amp;&amp; !this.state.error) { // åŠ è½½ç­‰å¾…é¡µ return this.renderLoadingView(); } else if (this.state.error) { // ç½‘ç»œè¯·æ±‚å¤±è´¥ return this.renderErrorView(); } // åˆ—è¡¨ return ( &lt;FlatList data={this.state.dataArray} keyExtractor={(item, index) =&gt; `${item.id} - ${index}`} renderItem={this._renderItem} ListFooterComponent={this._renderFooter} onEndReached={this._onEndReached} onEndReachedThreshold={0.5} refreshing={this.state.refreshing} onRefresh={this._onRefresh} ItemSeparatorComponent={this._renderSeparator} /&gt; )} æ¯ä¸ªItemç»„ä»¶renderItemæ ¹æ®è¡Œæ•°æ®dataArrayæ¥æ¸²æŸ“æ¯ä¸ªItemç»„ä»¶ 123456789101112_renderItem = ({ item, index, separator }) =&gt; { return ( &lt;View&gt; &lt;Text style={styles.title}&gt; name: {item.value.name} ({item.value.stargazers_count}stars) &lt;/Text&gt; &lt;Text style={styles.content}&gt; description: {item.value.description} &lt;/Text&gt; &lt;/View&gt; );} åº•éƒ¨ä¸Šæ‹‰åŠ è½½loadingç»„ä»¶ListFooterComponentä¸ºå°¾éƒ¨ç»„ä»¶çš„æ¸²æŸ“ 123456789101112131415161718192021222324252627/** * åº•éƒ¨æç¤ºç»„ä»¶ */_renderFooter = () =&gt; { if (this.state.showFoot === 1) { return ( &lt;View&gt; &lt;Text style={{color: '#aaa', fontSize: 14, textAlign: 'center', height: 80, marginBottom: 10}}&gt; æ²¡æœ‰æ›´å¤šæ•°æ®äº† &lt;/Text&gt; &lt;/View&gt; ); } else if (this.state.showFoot === 2) { return ( &lt;View style={{flexDirection: 'row', justifyContent: 'center', alignItems: 'center', height: 80, marginBottom: 10}}&gt; &lt;ActivityIndicator /&gt; &lt;Text&gt;æ­£åœ¨åŠ è½½æ›´å¤šæ•°æ®...&lt;/Text&gt; &lt;/View&gt; ); } else if (this.state.showFoot === 0) { return ( &lt;View&gt; &lt;Text&gt;&lt;/Text&gt; &lt;/View&gt; ); }} æ¯ä¸ªItemä¹‹é—´çš„åˆ†éš”çº¿ItemSeparatorComponentæ˜¯è¡Œä¸è¡Œä¹‹é—´çš„åˆ†éš”çº¿ç»„ä»¶,ä¸ä¼šå‡ºç°åœ¨ç¬¬ä¸€è¡Œä¹‹å‰å’Œæœ€åä¸€è¡Œä¹‹å 12345_renderSeparator(){ return( &lt;View style={{height:1,backgroundColor:'#999999'}}/&gt; )} ActivityIndicatoråŠ è½½æŒ‡ç¤ºå™¨ç”¨åŸç”Ÿç»„ä»¶ActivityIndicatoræ¥å®ç°Loadingçš„æ•ˆæœã€‚ 1234567&lt;ActivityIndicator // { string } æ˜¯å¦æ˜¾ç¤º animating={true} color='red' // enum('small', 'large') size=\"large\"/&gt;","link":"/2019/07/03/ReactNativeåŸç”Ÿç»„ä»¶FlatListå®ç°ä¸Šæ‹‰åŠ è½½/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„Reactç¬”è®°","text":"ä¸€äº›ReactçŸ¥è¯†ç‚¹çš„æ€»ç»“ã€‚ ä¿®æ”¹objectä¸­æŸé¡¹123this.setState({object: {...object, key: value}}) ç»„ä»¶é€šä¿¡çˆ¶ç»„ä»¶ =&gt; å­ç»„ä»¶ï¼šthis.refs[â€˜å­ç»„ä»¶refçš„åå­—â€™].add();å­ç»„ä»¶ =&gt; çˆ¶ç»„ä»¶ï¼šåœ¨çˆ¶ç»„ä»¶è°ƒç”¨çš„å­ç»„ä»¶ä¸ŠåŠ ä¸Špropsåç§°xxxï¼Œç±»ä¼¼vueä¸­çš„ emitï¼Œç„¶åå­ç»„ä»¶é€šè¿‡this.props.xxx.add() éå†æ‰€æœ‰å­èŠ‚ç‚¹ä½¿ç”¨React.childrenæ¥å¤„ç†this.props.childrenï¼Œå› ä¸ºthis.props.childrenå¯èƒ½æœ‰ä¸‰ç§ç±»å‹ï¼Œundefined, object, arrayï¼Œä½¿ç”¨React.childrenå¯ä»¥ä¸ç”¨æ‹…å¿ƒæ­¤é—®é¢˜ã€‚ 123456789101112131415161718192021var NotesList = React.createClass({ render: function() { return ( &lt;ol&gt; { React.Children.map(this.props.children, function (child) { return &lt;li&gt;{child}&lt;/li&gt;; }) } &lt;/ol&gt; ); }});ReactDOM.render( &lt;NotesList&gt; &lt;span&gt;hello&lt;/span&gt; &lt;span&gt;world&lt;/span&gt; &lt;/NotesList&gt;, document.body); propséªŒè¯ï¼ˆä½¿ç”¨PropTypesï¼‰1234567891011var MyTitle = React.createClass({ propTypes: { // è¡¨ç¤ºå¿…è¦å±æ€§ï¼Œå¹¶ä¸”æ˜¯stringç±»å‹ title: React.PropTypes.string.isRequired, }, render: function() { return &lt;h1&gt; {this.props.title} &lt;/h1&gt;; }}); è®¾ç½®é»˜è®¤propsï¼ˆä½¿ç”¨getDefaultPropsï¼‰12345678910111213var MyTitle = React.createClass({ getDefaultProps : function () { return { // å¦‚æœæ²¡æœ‰ä¼ å…¥title propsï¼Œé‚£ä¹ˆé»˜è®¤å€¼ä¸ºâ€˜Hello Worldâ€™ title : &apos;Hello World&apos; }; }, render: function() { return &lt;h1&gt; {this.props.title} &lt;/h1&gt;; }}); è·å–è¡¨å•çš„è¾“å…¥å†…å®¹è¡¨å•ç»„ä»¶Input, Textarea, Select, Radioç­‰ï¼Œå¿…é¡»æ·»åŠ ä¸€ä¸ªæ–¹æ³•æ¥è·å–å…¶ä¸­çš„å†…å®¹ï¼ˆevent.target.valueï¼‰ 12345&lt;input type=&quot;text&quot; value={value} onChange={this.handleChange} /&gt;handleChange: function(event) { this.setState({value: event.target.value});} ç”Ÿå‘½å‘¨æœŸæ›´æ–°é¡µé¢çš„3ä¸ªç”Ÿå‘½å‘¨æœŸï¼šcompomentDidMount, compomentWillReceiveProps, shouldCompomentUpdate TipsJSXä¸­renderå¯¹è±¡ä¸èƒ½ç”¨async","link":"/2019/06/25/å†™ç»™è‡ªå·±çœ‹çš„Reactç¬”è®°/"},{"title":"å†™ç»™è‡ªå·±çœ‹çš„ReactHookç¬”è®°","text":"Hook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚ å‚è€ƒæ–‡æ¡£åœ°å€ Hookç®€ä»‹ä»€ä¹ˆæ˜¯HookHook æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ â€œé’©å…¥â€ React çš„ç‰¹æ€§ã€‚ ä»€ä¹ˆæ—¶å€™æˆ‘ä¼šç”¨Hookå¦‚æœä½ åœ¨ç¼–å†™å‡½æ•°ç»„ä»¶å¹¶æ„è¯†åˆ°éœ€è¦å‘å…¶æ·»åŠ ä¸€äº› stateï¼Œä»¥å‰çš„åšæ³•æ˜¯å¿…é¡»å°†å…¶å®ƒè½¬åŒ–ä¸º classã€‚ç°åœ¨ä½ å¯ä»¥åœ¨ç°æœ‰çš„å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ Hookã€‚ ä¸ºä»€ä¹ˆä»¥useå¼€å¤´ä½ å¯èƒ½æƒ³çŸ¥é“ï¼šä¸ºä»€ä¹ˆå« useState è€Œä¸å« createState? â€œCreateâ€ å¯èƒ½ä¸æ˜¯å¾ˆå‡†ç¡®ï¼Œå› ä¸º state åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™è¢«åˆ›å»ºã€‚åœ¨ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“æ—¶ï¼ŒuseState è¿”å›ç»™æˆ‘ä»¬å½“å‰çš„ stateã€‚å¦åˆ™å®ƒå°±ä¸æ˜¯ â€œstateâ€äº†ï¼è¿™ä¹Ÿæ˜¯ Hook çš„åå­—æ€»æ˜¯ä»¥ use å¼€å¤´çš„ä¸€ä¸ªåŸå› ã€‚ ä½¿ç”¨State Hookåœ¨State Hookä¸­æˆ‘ä»¬ä¼šç”¨åˆ°useStateï¼Œå®ƒæ˜¯å…è®¸ä½ åœ¨ React å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  state çš„ Hook ç­‰ä»·ä»£ç åœ¨è¿™é‡Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ä¾‹å­ï¼Œä»¥å‰classçš„å†™æ³•ï¼š 12345678910111213141516171819class Example extends React.Component { constructor(props) { super(props); this.state = { count: 0 }; } render() { return ( &lt;div&gt; &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt; &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt; Click me &lt;/button&gt; &lt;/div&gt; ); }} ç°åœ¨Hookçš„å†™æ³•ï¼š 1234567891011121314151617// 1.å¼•å…¥useState Hookimport React, { useState } from 'react';function Example() { // 2.å£°æ˜ä¸€ä¸ªå«\"count\"çš„stateå˜é‡ï¼Œå’Œå¯ä»¥æ›´æ–°å®ƒçš„å‡½æ•°\"setCount\" const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; // 3.ç‚¹å‡»åï¼Œæ›´æ–°\"count\"çš„å€¼ï¼Œé‡æ–°æ¸²æŸ“\"Example\"ç»„ä»¶ï¼Œå¹¶ä¼ å…¥æ›´æ–°åçš„\"count\" &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; );} åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸å†é€šè¿‡this.stateæ¥è¯»å–å±æ€§ï¼Œè€Œæ˜¯é€šè¿‡useStateè°ƒç”¨ã€‚ useStateåœ¨è°ƒç”¨æ—¶åšäº†ä»€ä¹ˆ å®ƒå®šä¹‰ä¸€ä¸ª â€œstate å˜é‡â€ã€‚ è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬çš„å˜é‡å« countï¼Œ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å«ä»–ä»»ä½•åå­—ï¼Œæ¯”å¦‚ bananaã€‚ è¿™æ˜¯ä¸€ç§åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¿å­˜å˜é‡çš„æ–¹å¼ â€”â€” useStateæ˜¯ä¸€ç§æ–°æ–¹æ³•ï¼Œå®ƒä¸ class é‡Œé¢çš„ this.state æä¾›çš„åŠŸèƒ½å®Œå…¨ç›¸åŒã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å‡½æ•°é€€å‡ºåå˜é‡å°±å°±ä¼šâ€æ¶ˆå¤±â€ï¼Œè€Œ state ä¸­çš„å˜é‡ä¼šè¢« React ä¿ç•™ã€‚ useStateçš„è¿”å›å€¼æ˜¯ä»€ä¹ˆè¿”å›å€¼ä¸ºï¼šâ‘ å½“å‰ stateï¼Œâ‘¡æ›´æ–° state æ‰€è°ƒç”¨çš„å‡½æ•°ã€‚ const [count, setCount] = useState(0); æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå« count çš„ state å˜é‡ï¼Œç„¶åæŠŠå®ƒè®¾ä¸º 0ã€‚React ä¼šåœ¨é‡å¤æ¸²æŸ“æ—¶è®°ä½å®ƒå½“å‰çš„å€¼ï¼Œå¹¶ä¸”æä¾›æœ€æ–°çš„å€¼ç»™æˆ‘ä»¬çš„å‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ setCount æ¥æ›´æ–°å½“å‰çš„ countã€‚ è¯»å–Stateåœ¨å‡½æ•°å†™æ³•ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨countï¼š 1&lt;p&gt;You clicked {count} times&lt;/p&gt; ä»¥å‰çš„classå†™æ³•ä¸­ï¼Œæ˜¯this.state.count æ›´æ–°Stateåœ¨å‡½æ•°å†™æ³•ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨åœ¨useStateæ—¶è¿”å›çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ¥æ›´æ–°æ•°æ®ã€‚ åœ¨æœ¬ä¾‹å­ä¸­ï¼Œå³setCountï¼š 123&lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me&lt;/button&gt; ä»¥å‰çš„classå†™æ³•ä¸­ï¼Œæ˜¯this.setState({count: this.state.count + 1}) ä½¿ç”¨å¤šä¸ªstateå˜é‡12345function ExampleWithManyStates() { // å£°æ˜å¤šä¸ª state å˜é‡ const [age, setAge] = useState(42); const [fruit, setFruit] = useState(&apos;banana&apos;); const [todos, setTodos] = useState([{ text: &apos;å­¦ä¹  Hook&apos; }]); ä½¿ç”¨Effect Hookä½¿ç”¨Effect Hookçš„ä¸€ä¸ªä¸»è¦ç›®çš„æ˜¯è§£å†³classä¸­åŒä¸€ç”Ÿå‘½å‘¨æœŸç»å¸¸åŒ…å«ä¸ç›¸å…³çš„é€»è¾‘ï¼Œä½†åˆæŠŠç›¸å…³çš„é€»è¾‘åˆ†ç¦»åˆ°äº†å‡ ä¸ªä¸åŒæ–¹æ³•ä¸­çš„é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯Effect HookuseEffect ç›¸å½“äºcomponentDidMountï¼ŒcomponentDidUpdateï¼ŒcomponentWillUnmount è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ 123456789101112131415161718192021222324import React, { useState, useEffect } from &apos;react&apos;;function Example() { const [count, setCount] = useState(0); useEffect(() =&gt; { // è®¢é˜… document.title = `You clicked ${count} times`; // æ¸…é™¤ï¼ˆå¯é€‰ï¼‰ return () =&gt; { // do something cleanup } }); return ( &lt;div&gt; &lt;p&gt;You clicked {count} times&lt;/p&gt; &lt;button onClick={() =&gt; setCount(count + 1)}&gt; Click me &lt;/button&gt; &lt;/div&gt; );} åœ¨ä»¥å‰classå†™æ³•ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶åŠ è½½å’Œæ›´æ–°æ—¶éƒ½è°ƒç”¨åŒæ ·çš„æ–¹æ³•ï¼Œå°±éœ€è¦åœ¨componentDidMountå’ŒcomponentDidUpdateå†™é‡å¤çš„ä»£ç ã€‚ ä½¿ç”¨useEffectï¼Œreactä¼šä¿å­˜ä½ ä¼ é€’çš„å‡½æ•°ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€™effectâ€™ï¼‰ï¼Œå¹¶ä¸”åœ¨DOMæ›´æ–°ä¹‹åè°ƒç”¨å®ƒã€‚å‡å°‘äº†é‡å¤ä»£ç ã€‚useEffectè°ƒç”¨effectä¸ä¼šé˜»å¡æµè§ˆå™¨åˆ·æ–°å±å¹•ï¼Œè¿™è®©ä½ çš„åº”ç”¨å“åº”æ›´å¿«ã€‚ï¼ˆå¦‚æœéœ€è¦åŒæ­¥åœ°æ‰§è¡Œï¼Œå¦‚ç€‘å¸ƒæµï¼Œä½¿ç”¨useLayoutEffect Hookï¼‰ Hookä½¿ç”¨çš„JSçš„é—­åŒ…æœºåˆ¶ï¼šuseEffectæ”¾åœ¨ç»„ä»¶å†…éƒ¨è®©æˆ‘ä»¬å¯ä»¥åœ¨effectä¸­ç›´æ¥è®¿é—®count stateå˜é‡ï¼ˆæˆ–å…¶ä»–propsï¼‰ï¼Œå®ƒå·²ç»ä¿å­˜åœ¨äº†å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œè€Œä¸éœ€è¦å…¶ä»–APIã€‚ åŒºåˆ«äºvue Hookï¼ŒuseEffectåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œã€‚ æ¸…é™¤Effectåœ¨classå†™æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨ componentDidMountä¸­è®¢é˜…ï¼Œåœ¨componentWillUnmountä¸­æ¸…é™¤ã€‚ ä½¿ç”¨useEffectï¼Œåœ¨å°¾éƒ¨è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ï¼Œreactå°±ä¼šåœ¨ç»„ä»¶å¸è½½æ—¶æ‰§è¡Œæ¸…é™¤æ“ä½œæ¥è°ƒç”¨å®ƒã€‚è¿™æ ·è®¢é˜…å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘éƒ½æ”¾åœ¨äº†ä¸€èµ·ã€‚ å¦å¤–ï¼Œè¿”å›çš„æ¸…é™¤å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°è€Œä¸éœ€è¦å‘½åã€‚ ä½¿ç”¨å¤šä¸ªEffectåˆ†ç¦»é€»è¾‘å°±åƒä½ å¯ä»¥ä½¿ç”¨å¤šä¸ªstateçš„Hookï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªeffectæ¥å°†ä¸åŒçš„é€»è¾‘åˆ†ç¦»ã€‚Hook å…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»ä»–ä»¬ï¼Œ è€Œä¸æ˜¯åƒç”Ÿå‘½å‘¨æœŸå‡½æ•°é‚£æ ·ã€‚React å°†æŒ‰ç…§ effect å£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ª effectï¼ˆvue Hookæ˜¯æ²¡æœ‰é¡ºåºçš„ï¼‰ã€‚ ä¸ºä»€ä¹ˆæ¯æ¬¡æ›´æ–°çš„æ—¶å€™éƒ½è¦è¿è¡ŒEffectä¾‹å¦‚ä¸€ä¸ªå¥½å‹åœ¨çº¿çŠ¶æ€çš„å±•ç¤ºï¼Œå¦‚æœæ˜¯classå†™æ³•ï¼Œæˆ‘ä»¬ä»propsä¸­è·å–friend.idï¼Œç„¶ååœ¨componentDidMountè®¢é˜…å’ŒcomponentWillUnmountæ¸…é™¤è®¢é˜…ï¼Œä½†æ˜¯å½“ç»„ä»¶å·²ç»æ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œfriend.idæ”¹å˜å¯¼è‡´BUGï¼Œç»„ä»¶å°†ç»§ç»­å±•ç¤ºåŸæ¥çš„å¥½å‹çŠ¶æ€ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜ä¼šå› ä¸ºå–æ¶ˆè®¢é˜…æ—¶ä½¿ç”¨é”™è¯¯çš„å¥½å‹ ID å¯¼è‡´å†…å­˜æ³„éœ²æˆ–å´©æºƒçš„é—®é¢˜ã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨componentDidUpdateæ¥è§£å†³é—®é¢˜ï¼Œå¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627componentDidMount() { ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange );}// æ·»åŠ è¿™é‡Œçš„ä»£ç è§£å†³BUGcomponentDidUpdate(prevProps) { // å–æ¶ˆè®¢é˜…ä¹‹å‰çš„ friend.id ChatAPI.unsubscribeFromFriendStatus( prevProps.friend.id, this.handleStatusChange ); // è®¢é˜…æ–°çš„ friend.id ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange );}componentWillUnmount() { ChatAPI.unsubscribeFromFriendStatus( this.props.friend.id, this.handleStatusChange );} ä½¿ç”¨Hookç‰ˆæœ¬ï¼š 123456789function FriendStatus(props) { // ... useEffect(() =&gt; { // ... ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); return () =&gt; { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); }; }); æ²¡æœ‰æ·»åŠ ä»»ä½•é¢å¤–çš„é€»è¾‘æ”¹åŠ¨ï¼Œå´å¯ä»¥ä¸å—æ­¤BUGå½±å“ã€‚å› ä¸ºé»˜è®¤åœ¨è°ƒç”¨ä¸€ä¸ªæ–°çš„effectä¹‹å‰ä¼šå¯¹å‰ä¸€ä¸ªeffectè¿›è¡Œæ¸…ç†ã€‚ è·³è¿‡ Effect è¿›è¡Œæ€§èƒ½ä¼˜åŒ–åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œæˆ–æ¸…ç†effectä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ åœ¨classå†™æ³•ä¸­ï¼Œé€šè¿‡componentDidUpdateè§£å†³ï¼š 123456// åˆ¤æ–­æ˜¯å¦æ›´æ–°äº†componentDidUpdate(prevProps, prevState) { if (prevState.count !== this.state.count) { document.title = `You clicked ${this.state.count} times`; }} åœ¨Hookä¸­ï¼Œä¼ é€’æ•°ç»„ä½œä¸ºuseEffectçš„ç¬¬äºŒä¸ªå‚æ•°å³å¯ï¼š 123useEffect(() =&gt; { document.title = `You clicked ${count} times`;}, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–° å¯¹äºæ¸…é™¤effectåŒæ ·é€‚ç”¨ï¼š 12345678910useEffect(() =&gt; { function handleStatusChange(status) { setIsOnline(status.isOnline); } ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); return () =&gt; { ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); };}, [props.friend.id]); // ä»…åœ¨ props.friend.id å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°è®¢é˜… Hookè§„åˆ™åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨Hook ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶ï¼ŒåµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hook å¦‚æœæƒ³è¦æœ‰æ¡ä»¶çš„æ‰§è¡Œä¸€ä¸ªeffectï¼Œå¯ä»¥åœ¨Hookå†…éƒ¨åˆ¤æ–­ 123456useEffect(function persistForm() { // ğŸ‘ å°†æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ effect ä¸­ if (name !== &apos;&apos;) { localStorage.setItem(&apos;formData&apos;, name); }}); ç¡®ä¿æ€»åœ¨Reactå‡½æ•°æœ€é¡¶å±‚è°ƒç”¨Hook ç¡®ä¿HookæŒ‰ç…§é¡ºåºæ‰§è¡Œ ä¸è¦åœ¨æ™®é€šJavaScriptå‡½æ•°ä¸­è°ƒç”¨Hook Hookåœ¨classå†…éƒ¨æ˜¯ä¸èµ·ä½œç”¨çš„ ESLintæ’ä»¶eslint-plugin-react-hooksæ’ä»¶å¯ä»¥å¼ºåˆ¶Hookåªåœ¨Reactå‡½æ•°ä¸­è€ŒéJså‡½æ•°ä¸­è°ƒç”¨ï¼ˆä¹‹åå¯èƒ½å¹¶å…¥create react appï¼‰ npm install eslint-plugin-react-hooks --save-dev 123456789101112// ä½ çš„ ESLint é…ç½®{ &quot;plugins&quot;: [ // ... &quot;react-hooks&quot; ], &quot;rules&quot;: { // ... &quot;react-hooks/rules-of-hooks&quot;: &quot;error&quot;, // æ£€æŸ¥ Hook çš„è§„åˆ™ &quot;react-hooks/exhaustive-deps&quot;: &quot;warn&quot; // æ£€æŸ¥ effect çš„ä¾èµ– }} æŒ‰é¡ºåºæ‰§è¡Œçš„Hookåœ¨å•ä¸ªç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨å¤šä¸ª State Hook æˆ– Effect Hookï¼Œå› ä¸ºHookå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥Reactæ‰èƒ½çŸ¥é“stateä¸å“ªä¸€ä¸ªuseStateå¯¹åº”ã€‚ 12345678910111213141516171819function Form() { // 1. Use the name state variable const [name, setName] = useState('Mary'); // 2. Use an effect for persisting the form useEffect(function persistForm() { localStorage.setItem('formData', name); }); // 3. Use the surname state variable const [surname, setSurname] = useState('Poppins'); // 4. Use an effect for updating the title useEffect(function updateTitle() { document.title = name + ' ' + surname; }); // ...} ä¸Šè¿°ä»£ç çš„å·¥ä½œå¦‚ä¸‹ï¼š 1234567891011121314151617// ------------// é¦–æ¬¡æ¸²æŸ“// ------------useState(&apos;Mary&apos;) // 1. ä½¿ç”¨ &apos;Mary&apos; åˆå§‹åŒ–å˜é‡åä¸º name çš„ stateuseEffect(persistForm) // 2. æ·»åŠ  effect ä»¥ä¿å­˜ form æ“ä½œuseState(&apos;Poppins&apos;) // 3. ä½¿ç”¨ &apos;Poppins&apos; åˆå§‹åŒ–å˜é‡åä¸º surname çš„ stateuseEffect(updateTitle) // 4. æ·»åŠ  effect ä»¥æ›´æ–°æ ‡é¢˜// -------------// äºŒæ¬¡æ¸²æŸ“// -------------useState(&apos;Mary&apos;) // 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(persistForm) // 2. æ›¿æ¢ä¿å­˜ form çš„ effectuseState(&apos;Poppins&apos;) // 3. è¯»å–å˜é‡åä¸º surname çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(updateTitle) // 4. æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect// ...","link":"/2019/06/20/å†™ç»™è‡ªå·±çœ‹çš„ReactHookç¬”è®°/"},{"title":"ReactNativeæ ·å¼æ€»ç»“","text":"ReactNativeçš„æ ·å¼è·ŸåŸç”ŸCSSæ ·å¼æœ‰ä¸€å®šåŒºåˆ«ï¼Œä¸”ä¸æ”¯æŒéƒ¨åˆ†åŸç”ŸCSSæ ·å¼ï¼Œä¸‹é¢æ˜¯å¯¹RNå¸¸ç”¨æ ·å¼çš„æ€»ç»“ï¼š ReactNativeä¸­æ ·å¼é‡‡ç”¨é©¼å³°å†™æ³• Viewç»„ä»¶ç±»ä¼¼Divæ ‡ç­¾ï¼ŒåŒ…è£…å®¹å™¨ï¼Œé»˜è®¤å ç”¨100%å®½åº¦ï¼Œæ˜¯æœ€å¸¸ç”¨çš„å—çŠ¶å…ƒç´  Textç»„ä»¶ç±»ä¼¼Spanæ ‡ç­¾ï¼Œåœ¨è¢«ViewåŒ…è£¹æ—¶å€™å¯è®¾ç½®paddingã€marginåƒå—çŠ¶ ç»å¯¹å®šä½å’Œç›¸å¯¹å®šä½çˆ¶å…ƒç´ ä¸éœ€è¦è®¾ç½®positionå’Œzindex é»˜è®¤æ˜¯Flexå¸ƒå±€ï¼Œæ–¹å‘æ˜¯è‡ªä¸Šè€Œä¸‹ å¸¸ç”¨å±æ€§Text æ–‡æœ¬ å±æ€§å å–å€¼ æè¿° color é¢œè‰² å¯¹åº” CSS ä¸­çš„ color å±æ€§ fontFamily string å¯¹åº” CSS ä¸­çš„ font-family å±æ€§ fontSize number å¯¹åº” CSS ä¸­çš„ font-size å±æ€§ fontStyle normal, italic å¯¹åº” CSS ä¸­çš„ font-style å±æ€§ï¼Œä½†é˜‰å‰²äº† oblique å–å€¼ fontWeight normal, bold 100~900 å¯¹åº” CSS ä¸­çš„ font-weight å±æ€§ï¼Œä½†é˜‰å‰²äº† bolder, lighter å–å€¼ lineHeight number å¯¹åº” CSS ä¸­çš„ line-height å±æ€§ textAlign auto, left, right, center, justify å¯¹åº” CSS ä¸­çš„ text-align å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ï¼Œå½“å–å€¼ä¸º justify æ—¶ï¼Œåœ¨ Android ä¸Šä¼šå˜ä¸º left textAlignVerticalAndroid auto, top, bottom, center å¯¹åº” CSS ä¸­çš„ vertical-align å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ï¼Œcenter å–ä»£äº† middleï¼Œå¹¶é˜‰å‰²äº† baseline, subç­‰å€¼ includeFontPaddingAndroid boolean Androidåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šä¸ºæ–‡å­—é¢å¤–ä¿ç•™ä¸€äº›paddingï¼Œä»¥ä¾¿ç•™å‡ºç©ºé—´æ‘†æ”¾ä¸Šæ ‡æˆ–æ˜¯ä¸‹æ ‡çš„æ–‡å­—ã€‚å¯¹äºæŸäº›å­—ä½“æ¥è¯´ï¼Œè¿™äº›é¢å¤–çš„paddingå¯èƒ½ä¼šå¯¼è‡´æ–‡å­—éš¾ä»¥å‚ç›´å±…ä¸­ã€‚å¦‚æœä½ æŠŠtextAlignVerticalè®¾ç½®ä¸ºcenterä¹‹åï¼Œæ–‡å­—çœ‹èµ·æ¥ä¾ç„¶ä¸åœ¨æ­£ä¸­é—´ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•å°†æœ¬å±æ€§è®¾ç½®ä¸ºfalse textShadowColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ text-shadow å±æ€§ä¸­çš„é¢œè‰²å®šä¹‰ textShadowOffset { width: number, height: number } å¯¹åº” CSS ä¸­çš„ text-shadow å±æ€§ä¸­çš„é˜´å½±åç§»å®šä¹‰ textShadowRadius number åœ¨ CSS ä¸­ï¼Œé˜´å½±çš„åœ†è§’å¤§å°å–å†³äºå…ƒç´ çš„åœ†è§’å®šä¹‰ï¼Œä¸éœ€è¦é¢å¤–å®šä¹‰ letterSpacingiOS number å¯¹åº” CSS ä¸­çš„ letter-spacing å±æ€§ï¼Œä½†å–å€¼ä¸åŒ textDecorationColoriOS é¢œè‰² å¯¹åº” CSS ä¸­çš„ text-decoration-color å±æ€§ textDecorationLineiOS none, underline, line-through, underline line-through å¯¹åº” CSS ä¸­çš„ text-decoration-line å±æ€§ï¼Œä½†é˜‰å‰²äº† overline, blink å–å€¼ textDecorationStyleiOS solid, double, dotted, dashed å¯¹åº” CSS ä¸­çš„ text-decoration-style å±æ€§ï¼Œä½†é˜‰å‰²äº† wavy å–å€¼ writingDirectioniOS auto, ltr, rtl å¯¹åº” CSS ä¸­çš„ direction å±æ€§ï¼Œå¢åŠ äº† auto å–å€¼ Dimension å®½é«˜ å±æ€§å å–å€¼ æè¿° width number å¯¹åº” CSS ä¸­çš„ width å±æ€§ height number å¯¹åº” CSS ä¸­çš„ height å±æ€§ Positioning å®šä½ å±æ€§å å–å€¼ æè¿° position absolute, relative å¯¹åº” CSS ä¸­çš„ position å±æ€§ï¼Œä½†é˜‰å‰²äº† static, fixed å–å€¼ top number å¯¹åº” CSS ä¸­çš„ top å±æ€§ right number å¯¹åº” CSS ä¸­çš„ right å±æ€§ bottom number å¯¹åº” CSS ä¸­çš„ bottom å±æ€§ left number å¯¹åº” CSS ä¸­çš„ left å±æ€§ Margin å±æ€§å å–å€¼ æè¿° margin number å¯¹åº” CSS ä¸­çš„ margin å±æ€§ï¼Œä¸åŒçš„æ˜¯ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨ä»¥è¡¨ç¤ºä¸Šã€å³ã€ä¸‹ã€å·¦4ä¸ªæ–¹ä½çš„å¤–è¡¥ç™½ marginHorizontal number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®marginRightå’ŒmarginLeft marginVertical number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®marginTopå’ŒmarginBottom marginTop number å¯¹åº” CSS ä¸­çš„ margin-top å±æ€§ marginRight number å¯¹åº” CSS ä¸­çš„ margin-right å±æ€§ marginBottom number å¯¹åº” CSS ä¸­çš„ margin-bottom å±æ€§ marginLeft number å¯¹åº” CSS ä¸­çš„ margin-left å±æ€§ Padding å±æ€§å å–å€¼ æè¿° padding number å¯¹åº” CSS ä¸­çš„ padding å±æ€§ï¼Œä¸åŒçš„æ˜¯ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå‚æ•°ï¼Œç”¨ä»¥è¡¨ç¤ºä¸Šã€å³ã€ä¸‹ã€å·¦4ä¸ªæ–¹ä½çš„å†…è¡¥ç™½ paddingHorizontal number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®paddingRightå’ŒpaddingLeft paddingVertical number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®paddingTopå’ŒpaddingBottom paddingTop number å¯¹åº” CSS ä¸­çš„ padding-top å±æ€§ paddingRight number å¯¹åº” CSS ä¸­çš„ padding-right å±æ€§ paddingBottom number å¯¹åº” CSS ä¸­çš„ padding-bottom å±æ€§ paddingLeft number å¯¹åº” CSS ä¸­çš„ padding-left å±æ€§ Border å±æ€§å å–å€¼ æè¿° borderStyle solid, dotted, dashed å¯¹åº” CSS ä¸­çš„ border-style å±æ€§ï¼Œä½†é˜‰å‰²äº† none, hidden, double, groove, ridge, inset, outset å–å€¼ï¼Œä¸”æ— æ–¹å‘åˆ†æ‹†å±æ€§ borderWidth number å¯¹åº” CSS ä¸­çš„ border-width å±æ€§ borderTopWidth number å¯¹åº” CSS ä¸­çš„ border-top-width å±æ€§ borderRightWidth number å¯¹åº” CSS ä¸­çš„ border-right-width å±æ€§ borderBottomWidth number å¯¹åº” CSS ä¸­çš„ border-bottom-width å±æ€§ borderLeftWidth number å¯¹åº” CSS ä¸­çš„ border-left-width å±æ€§ borderColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-color å±æ€§ borderTopColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-top-color å±æ€§ borderRightColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-right-color å±æ€§ borderBottomColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-bottom-color å±æ€§ borderLeftColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ border-left-color å±æ€§ borderRadius number å¯¹åº” CSS ä¸­çš„ border-radius å±æ€§ borderTopLeftRadius number å¯¹åº” CSS ä¸­çš„ border-top-left-radius å±æ€§ borderTopRightRadius number å¯¹åº” CSS ä¸­çš„ border-top-right-radius å±æ€§ borderBottomLeftRadius number å¯¹åº” CSS ä¸­çš„ border-bottom-left-radius å±æ€§ borderBottomRightRadius number å¯¹åº” CSS ä¸­çš„ border-bottom-right-radius å±æ€§ Shadow å±æ€§å å–å€¼ æè¿° shadowColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é¢œè‰²å®šä¹‰ shadowOffset { width: number, height: number } å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é˜´å½±åç§»å®šä¹‰ shadowRadius number åœ¨ CSS ä¸­ï¼Œé˜´å½±çš„åœ†è§’å¤§å°å–å†³äºå…ƒç´ çš„åœ†è§’å®šä¹‰ï¼Œä¸éœ€è¦é¢å¤–å®šä¹‰ shadowOpacity number å¯¹åº” CSS ä¸­çš„ box-shadow å±æ€§ä¸­çš„é˜´å½±é€æ˜åº¦å®šä¹‰ Background èƒŒæ™¯ å±æ€§å å–å€¼ æè¿° backgroundColor é¢œè‰² å¯¹åº” CSS ä¸­çš„ background-color å±æ€§ Transform å±æ€§å å–å€¼ æè¿° transform [{perspective: number}, {rotate: string}, {rotateX: string}, {rotateY: string}, {rotateZ: string}, {scale: number}, {scaleX: number}, {scaleY: number}, {translateX: number}, {translateY: number}, {skewX: string}, {skewY: string}] å¯¹åº” CSS ä¸­çš„ transform å±æ€§ transformMatrix TransformMatrixPropType ç±»ä¼¼äº CSS ä¸­ transform å±æ€§çš„ matrix() å’Œ matrix3d() å‡½æ•° backfaceVisibility visible, hidden å¯¹åº” CSS ä¸­çš„ backface-visibility å±æ€§ Flex å±æ€§å å–å€¼ æè¿° flex number å¯¹åº” CSS ä¸­çš„ flex å±æ€§ flexGrow number è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’çš„æ‰©å±•æ¯”ç‡ flexShrink number å°†å­å…ƒç´ å®½åº¦ä¹‹å’Œä¸çˆ¶å…ƒç´ å®½åº¦çš„å·®å€¼æŒ‰ç…§å­å…ƒç´  flex-shrink çš„å€¼åˆ†é…ç»™å„ä¸ªå­å…ƒç´ ï¼Œæ¯ä¸ªå­å…ƒç´ åŸæœ¬å®½åº¦å‡å»æŒ‰æ¯”ä¾‹åˆ†é…çš„å€¼ï¼Œå…¶å‰©ä½™å€¼ä¸ºå®é™…å®½åº¦ã€‚ flexBasis number è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’ä¼¸ç¼©åŸºå‡†å€¼ flexDirection row, column å¯¹åº” CSS ä¸­çš„ flex-direction å±æ€§ï¼Œä½†é˜‰å‰²äº† row-reverse, column-reverse å–å€¼ flexWrap wrap, nowrap å¯¹åº” CSS ä¸­çš„ flex-wrap å±æ€§ï¼Œä½†é˜‰å‰²äº† wrap-reverse å–å€¼ justifyContent flex-start, flex-end, center, space-between, space-around å¯¹åº” CSS ä¸­çš„ justify-content å±æ€§ï¼Œä½†é˜‰å‰²äº† stretch å–å€¼ã€‚ alignItems flex-start, flex-end, center, stretch å¯¹åº” CSS ä¸­çš„ align-items å±æ€§ï¼Œä½†é˜‰å‰²äº† baseline å–å€¼ã€‚ alignSelf auto, flex-start, flex-end, center, stretch å¯¹åº” CSS ä¸­çš„ align-self å±æ€§ï¼Œä½†é˜‰å‰²äº† baseline å–å€¼ å…¶ä»– å±æ€§å å–å€¼ æè¿° opacity number å¯¹åº” CSS ä¸­çš„ opacity å±æ€§ overflow visible, hidden å¯¹åº” CSS ä¸­çš„ overflow å±æ€§ï¼Œä½†é˜‰å‰²äº† scroll, auto å–å€¼ number å¯¹åº” CSS ä¸­çš„ z-index å±æ€§ elevationAndroid number CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œåªåœ¨ Android5.0+ ä¸Šæœ‰æ•ˆ resizeMode cover, contain, stretch CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œå¯ä»¥å‚è€ƒ background-size å±æ€§ overlayColorAndroid string CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œå½“å›¾åƒæœ‰åœ†è§’æ—¶ï¼Œå°†è§’è½éƒ½å……æ»¡ä¸€ç§é¢œè‰² tintColoriOS é¢œè‰² CSSä¸­æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼ŒiOS å›¾åƒä¸Šç‰¹æ®Šçš„è‰²å½©ï¼Œæ”¹å˜ä¸é€æ˜åƒç´ çš„é¢œè‰² é¢œè‰²å–å€¼React-Native æ”¯æŒäº† CSS ä¸­å¤§éƒ¨åˆ†çš„é¢œè‰²ç±»å‹ï¼š #f00 (#rgb) #f00c (#rgba)ï¼šCSS ä¸­æ— å¯¹åº”çš„å€¼ #ff0000 (#rrggbb) #ff0000cc (#rrggbbaa)ï¼šCSS ä¸­æ— å¯¹åº”çš„å€¼ rgb(255, 0, 0) rgba(255, 0, 0, 0.9) hsl(360, 100%, 100%) hsla(360, 100%, 100%, 0.9) transparent Color Nameï¼šæ”¯æŒäº† åŸºæœ¬é¢œè‰²å…³é”®å­— å’Œ æ‹“å±•é¢œè‰²å…³é”®å­—ï¼Œä½†ä¸æ”¯æŒ 28ä¸ªç³»ç»Ÿé¢œè‰²ï¼› Units å•ä½åœ¨ React-Native ä¸­ï¼Œå¹¶ä¸æ”¯æŒç™¾åˆ†æ¯”å•ä½ï¼Œç›®å‰åªæ”¯æŒä¸€ç§å•ä½ï¼Œå³ pt ç»å¯¹é•¿åº¦å•ä½ï¼ŒåŒæ—¶ï¼Œä½ åœ¨å®šä¹‰æ—¶ä¸éœ€è¦åŠ å•ä½ï¼Œä¾‹å¦‚ï¼š 1234567&lt;View style={{width: 100, height: 50}}&gt;&lt;/View&gt;var styles = StyleSheet.create({ box: { width: 100, height: 50 }});","link":"/2019/07/02/ReactNativeæ ·å¼æ€»ç»“/"}],"tags":[{"name":"ReactNative","slug":"ReactNative","link":"/tags/ReactNative/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","link":"/tags/ç¯å¢ƒé…ç½®/"},{"name":"TypeScript","slug":"TypeScript","link":"/tags/TypeScript/"},{"name":"HTTP","slug":"HTTP","link":"/tags/HTTP/"},{"name":"Axios","slug":"Axios","link":"/tags/Axios/"},{"name":"async/await","slug":"async-await","link":"/tags/async-await/"},{"name":"ä¸Šæ‹‰åŠ è½½","slug":"ä¸Šæ‹‰åŠ è½½","link":"/tags/ä¸Šæ‹‰åŠ è½½/"},{"name":"React","slug":"React","link":"/tags/React/"},{"name":"Hook","slug":"Hook","link":"/tags/Hook/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"}],"categories":[{"name":"ReactNative","slug":"ReactNative","link":"/categories/ReactNative/"},{"name":"HTTP","slug":"HTTP","link":"/categories/HTTP/"},{"name":"ES6","slug":"ES6","link":"/categories/ES6/"},{"name":"React","slug":"React","link":"/categories/React/"}]}